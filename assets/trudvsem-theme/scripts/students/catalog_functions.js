function getCatalogData(t,e){e="//test-portal.trudvsem.ru/information/catalogprovider/api/1.2/catalog/data/"+t+"?"+(e?"filter="+encodeURIComponent(JSON.stringify(e))+"&":"")+"unique_request_identifier="+_.uniqueId("mainpage_stat_")+"&version=1.2";return!!t&&$.ajax({url:e,dataType:"json",contentType:"application/json",method:"GET"})}function getCatalogItem(t,e){t="//test-portal.trudvsem.ru/information/catalogprovider/api/1.2/catalog/dataItem/"+t+"/"+e+"?unique_request_identifier="+_.uniqueId("STUDENTS_");return $.ajax({url:t,dataType:"json",contentType:"application/json",method:"GET"}).then(function(t){t=t.result;if("SUCCESS"!==t.code)throw new Error(t.comment);return t.data})}function setFields(t,e,n){return e=(e=_.map(e,function(t,e){return e+"="+encodeURIComponent(t)})).join("&"),$.ajax({url:t+"/data/save-fields?"+e,headers:{"Content-Type":"application/json"},data:JSON.stringify(n),method:"POST"})}function getEmployerByCodeForSelect(n){return getCatalogData("EMPLOYER",{id:n}).done(function(t){var e,t=t.result.data;t&&t.length&&((e=$("option[value='"+n+"']")).text().trim()===n&&e.text(t[0][1]),(t=e.closest("select")).data("select2")&&t.select2("destroy"),t.select2())}),n}function getInstitutionByCodeForSelect(n){return getCatalogData("INSTITUTION",{id:n}).done(function(t){var e,t=t.result.data;t&&t.length&&((e=$("option[value='"+n+"']")).text().trim()===n&&e.text(t[0][2]),(t=e.closest("select")).data("select2")&&t.select2("destroy"),t.select2())}),n}function closureGetActivityAreaNameByCode(){var r={};return getCatalogData("ACTIVITY_AREA").done(function(t){var e=t.result.data;if(e&&e.length)for(var n=0;n<e.length;n++){var o=e[n][0],a=e[n][4];r[o]=a}}),function(t){if(r[t])return r[t]}}var getActivityAreaNameByCode=closureGetActivityAreaNameByCode();function getPracticeStatusByBoolean(t){return t&&"true"==t.toString()?"Пройдена":"Не пройдена"}function getEmploymentStatusByBoolean(t){return t&&"true"==t.toString()?"Трудоустроен":"Не трудоустроен"}function removeStudentFromCatalog(t){t="//test-portal.trudvsem.ru/information/catalogprovider/api/1.2/catalog/delete?code=STUDENT&id="+t+"&unique_request_identifier="+_.uniqueId("STUDENT_")+"&version=1.2";$.ajax({url:t,dataType:"json",contentType:"application/json",method:"DELETE"}).done(function(){document.location.reload(!0)})}function getActivityAreaByCodeForSelect(n){var t={code:n};return getCatalogData("ACTIVITY_AREA",t=-1<n.indexOf("-")?{id:n}:t).done(function(t){var e,t=t.result.data;t&&t.length&&((e=$("option[value='"+n+"']")).text().trim()===n&&e.text(t[0][4]),(t=e.closest("select")).data("select2")&&t.select2("destroy"),t.select2())}),n}function getProfessionByCodeForSelect(n){var t={code:n};return getCatalogData("DEMANDED_PROFESSIONS",t=-1<n.indexOf("-")?{id:n}:t).done(function(t){var e,t=t.result.data;t&&t.length&&((e=$("option[value='"+n+"']")).text().trim()===n&&e.text(t[0][3]),(t=e.closest("select")).data("select2")&&t.select2("destroy"),t.select2())}),n}function countPartnership(t){getCatalogData("PARTNERSHIP",{id:t}).done(function(t){console.log(t)})}function getDocData(t,e){return $.ajax({url:"/api/archive/documentFull?extId="+t+"&systemCode=intern&typeCode=studDoc",type:"GET"})}function getFileEnum(t){return $.get("/api/archive/documentFull?extId="+t+"&systemCode=intern&typeCode=studDoc")}function sendNotification(t,e){t=[t,e.id_cooperation,e.date,e.reading_marker,e.text,e.id_student,e.id_institution,e.id_employer],e="//test-portal.trudvsem.ru/information/catalogprovider/api/1.2/catalog/create?code=NOTIFICATIONS&data="+encodeURIComponent(JSON.stringify(t))+"&unique_request_identifier="+_.uniqueId("PC_");return $.ajax({url:e,dataType:"json",contentType:"application/json",method:"POST"})}