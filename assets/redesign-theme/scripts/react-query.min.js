var _excluded=["refetchPage"],_excluded2=["pageParam"],_excluded3=["pageParam"],_excluded4=["fetchStatus"];function _objectWithoutProperties(e,t){if(null==e)return{};var n,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _regeneratorRuntime(){"use strict";_regeneratorRuntime=function(){return u};var s,u={},e=Object.prototype,c=e.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(s){o=function(e,t,n){return e[t]=n}}function a(e,t,n,r){var i,o,u,a,t=t&&t.prototype instanceof b?t:b,t=Object.create(t.prototype),r=new w(r||[]);return l(t,"_invoke",{value:(i=e,o=n,u=r,a=f,function(e,t){if(a===y)throw new Error("Generator is already running");if(a===p){if("throw"===e)throw t;return{value:s,done:!0}}for(u.method=e,u.arg=t;;){var n=u.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(i===s)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=s,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=s),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,u);if(n){if(n===v)continue;return n}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(a===f)throw a=p,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);a=y;n=h(i,o,u);if("normal"===n.type){if(a=u.done?p:d,n.arg===v)continue;return{value:n.arg,done:u.done}}"throw"===n.type&&(a=p,u.method="throw",u.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}u.wrap=a;var f="suspendedStart",d="suspendedYield",y="executing",p="completed",v={};function b(){}function m(){}function g(){}var t={},_=(o(t,r,function(){return this}),Object.getPrototypeOf),_=_&&_(_(j([]))),S=(_&&_!==e&&c.call(_,r)&&(t=_),g.prototype=b.prototype=Object.create(t));function O(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function k(u,a){var t;l(this,"_invoke",{value:function(n,r){function e(){return new a(function(e,t){!function t(e,n,r,i){var o,e=h(u[e],u,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==_typeof(n)&&c.call(n,"__await")?a.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):a.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function j(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=s,e.done=!0,e}).next=e}throw new TypeError(_typeof(t)+" is not iterable")}return l(S,"constructor",{value:m.prototype=g,configurable:!0}),l(g,"constructor",{value:m,configurable:!0}),m.displayName=o(g,i,"GeneratorFunction"),u.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o(e,i,"GeneratorFunction")),e.prototype=Object.create(S),e},u.awrap=function(e){return{__await:e}},O(k.prototype),o(k.prototype,n,function(){return this}),u.AsyncIterator=k,u.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new k(a(e,t,n,r),i);return u.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},O(S),o(S,i,"Generator"),o(S,r,function(){return this}),o(S,"toString",function(){return"[object Generator]"}),u.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},u.values=j,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var u=c.call(i,"catchLoc"),a=c.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,P(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=s),v}},u}function asyncGeneratorStep(e,t,n,r,i,o,u){try{var a=e[o](u),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,i)}function _asyncToGenerator(a){return function(){var e=this,u=arguments;return new Promise(function(t,n){var r=a.apply(e,u);function i(e){asyncGeneratorStep(r,t,n,i,o,"next",e)}function o(e){asyncGeneratorStep(r,t,n,i,o,"throw",e)}i(void 0)})}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,u,a=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw i}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_superPropBase(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _callSuper(e,t,n){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],_getPrototypeOf(e).constructor):t.apply(e,n))}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("react-dom"),require("react")):"function"==typeof define&&define.amd?define(["exports","react-dom","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactQuery={},e.ReactDOM,e.React)}(this,function(e,t,n){"use strict";function T(n){var r;return n&&n.__esModule?n:(r=Object.create(null),n&&Object.keys(n).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(n,e),Object.defineProperty(r,e,t.get?t:{enumerable:!0,get:function(){return n[e]}}))}),r.default=n,Object.freeze(r))}var t=T(t),r=(r=n)&&"object"==_typeof(r)&&"default"in r?r:{default:r},c=T(n),i=function(){function e(){_classCallCheck(this,e),this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}return _createClass(e,[{key:"subscribe",value:function(e){var t=this,n={listener:e};return this.listeners.add(n),this.onSubscribe(),function(){t.listeners.delete(n),t.onUnsubscribe()}}},{key:"hasListeners",value:function(){return 0<this.listeners.size}},{key:"onSubscribe",value:function(){}},{key:"onUnsubscribe",value:function(){}}]),e}(),o="undefined"==typeof window||"Deno"in window;function u(){}function a(e){return"number"==typeof e&&0<=e&&e!==1/0}function D(e,t){return e.filter(function(e){return!t.includes(e)})}function I(e,t){return Math.max(e+(t||0)-Date.now(),0)}function s(e,t,n){return m(e)?"function"==typeof t?_objectSpread(_objectSpread({},n),{},{queryKey:e,queryFn:t}):_objectSpread(_objectSpread({},t),{},{queryKey:e}):e}function L(e,t,n){return m(e)?"function"==typeof t?_objectSpread(_objectSpread({},n),{},{mutationKey:e,mutationFn:t}):_objectSpread(_objectSpread({},t),{},{mutationKey:e}):"function"==typeof e?_objectSpread(_objectSpread({},t),{},{mutationFn:e}):_objectSpread({},e)}function l(e,t,n){return m(e)?[_objectSpread(_objectSpread({},t),{},{queryKey:e}),n]:[e||{},t]}function U(e,t,n){return m(e)?[_objectSpread(_objectSpread({},t),{},{mutationKey:e}),n]:[e||{},t]}function h(e,t){var n=e.type,n=void 0===n?"all":n,r=e.exact,i=e.fetchStatus,o=e.predicate,u=e.queryKey,e=e.stale;if(m(u))if(r){if(t.queryHash!==f(u,t.options))return!1}else if(!y(t.queryKey,u))return!1;if("all"!==n){r=t.isActive();if("active"===n&&!r)return!1;if("inactive"===n&&r)return!1}return!("boolean"==typeof e&&t.isStale()!==e||void 0!==i&&i!==t.state.fetchStatus||o&&!o(t))}function K(e,t){var n=e.exact,r=e.fetching,i=e.predicate,e=e.mutationKey;if(m(e)){if(!t.options.mutationKey)return!1;if(n){if(d(t.options.mutationKey)!==d(e))return!1}else if(!y(t.options.mutationKey,e))return!1}return!("boolean"==typeof r&&"loading"===t.state.status!==r||i&&!i(t))}function f(e,t){return((null==t?void 0:t.queryKeyHashFn)||d)(e)}function d(e){return JSON.stringify(e,function(e,n){return b(n)?Object.keys(n).sort().reduce(function(e,t){return e[t]=n[t],e},{}):n})}function y(e,t){return function t(n,r){return n===r||_typeof(n)==_typeof(r)&&!(!n||!r||"object"!=_typeof(n)||"object"!=_typeof(r))&&!Object.keys(r).some(function(e){return!t(n[e],r[e])})}(e,t)}function p(e,t){if(e===t)return e;var n=H(e)&&H(t);if(n||b(e)&&b(t)){for(var r=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,u=n?[]:{},a=0,s=0;s<o;s++){var c=n?s:i[s];u[c]=p(e[c],t[c]),u[c]===e[c]&&a++}return r===o&&a===r?e:u}return t}function v(e,t){if(!(e&&!t||t&&!e)){for(var n in e)if(e[n]!==t[n])return;return 1}}function H(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function b(e){if(N(e))return void 0===(e=e.constructor)||N(e=e.prototype)&&e.hasOwnProperty("isPrototypeOf")}function N(e){return"[object Object]"===Object.prototype.toString.call(e)}function m(e){return Array.isArray(e)}function G(t){return new Promise(function(e){setTimeout(e,t)})}function B(e){G(0).then(e)}function S(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?p(e,t):t}var g=new(function(){function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).setup=function(e){var t;if(!o&&window.addEventListener)return t=function(){return e()},window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),function(){window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}},e}return _inherits(t,i),_createClass(t,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null!=(e=this.cleanup)&&e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,n=this;this.setup=e,null!=(t=this.cleanup)&&t.call(this),this.cleanup=e(function(e){"boolean"==typeof e?n.setFocused(e):n.onFocus()})}},{key:"setFocused",value:function(e){this.focused!==e&&(this.focused=e,this.onFocus())}},{key:"onFocus",value:function(){this.listeners.forEach(function(e){(0,e.listener)()})}},{key:"isFocused",value:function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}]),t}()),W=["online","offline"],_=new(function(){function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).setup=function(e){var t;if(!o&&window.addEventListener)return t=function(){return e()},W.forEach(function(e){window.addEventListener(e,t,!1)}),function(){W.forEach(function(e){window.removeEventListener(e,t)})}},e}return _inherits(t,i),_createClass(t,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null!=(e=this.cleanup)&&e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,n=this;this.setup=e,null!=(t=this.cleanup)&&t.call(this),this.cleanup=e(function(e){"boolean"==typeof e?n.setOnline(e):n.onOnline()})}},{key:"setOnline",value:function(e){this.online!==e&&(this.online=e,this.onOnline())}},{key:"onOnline",value:function(){this.listeners.forEach(function(e){(0,e.listener)()})}},{key:"isOnline",value:function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}}]),t}());function z(e){return Math.min(1e3*Math.pow(2,e),3e4)}function O(e){return"online"!==(null!=e?e:"online")||_.isOnline()}var k=_createClass(function e(t){_classCallCheck(this,e),this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent});function C(e){return e instanceof k}function Y(r){function e(e){l||(l=!0,null!=r.onSuccess&&r.onSuccess(e),null!=t&&t(),n(e))}function i(e){l||(l=!0,null!=r.onError&&r.onError(e),null!=t&&t(),a(e))}function o(){return new Promise(function(n){t=function(e){var t;return(t=l||!f())&&n(e),t},null!=r.onPause&&r.onPause()}).then(function(){t=void 0,l||null==r.onContinue||r.onContinue()})}function u(){if(!l){var t;try{t=r.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(e).catch(function(e){var t,n;l||(n=null!=(n=r.retry)?n:3,t="function"==typeof(t=null!=(t=r.retryDelay)?t:z)?t(c,e):t,n=!0===n||"number"==typeof n&&c<n||"function"==typeof n&&n(c,e),!s&&n?(c++,null!=r.onFail&&r.onFail(c,e),G(t).then(function(){if(f())return o()}).then(function(){s?i(e):u()})):i(e))})}}var t,n,a,s=!1,c=0,l=!1,h=new Promise(function(e,t){n=e,a=t}),f=function(){return!g.isFocused()||"always"!==r.networkMode&&!_.isOnline()};return O(r.networkMode)?u():o().then(u),{promise:h,cancel:function(e){l||(i(new k(e)),null==r.abort)||r.abort()},continue:function(){return null!=t&&t()?h:Promise.resolve()},cancelRetry:function(){s=!0},continueRetry:function(){s=!1}}}var P,w,j,R,E=console,x=(P=[],w=0,j=function(e){e()},R=function(e){e()},{batch:function(e){var t,n;w++;try{t=e()}finally{--w||(n=P,P=[],n.length&&B(function(){R(function(){n.forEach(function(e){j(e)})})}))}return t},batchCalls:function(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];J(function(){r.apply(void 0,t)})}},schedule:J,setNotifyFunction:function(e){j=e},setBatchNotifyFunction:function(e){R=e}});function J(e){w?P.push(e):B(function(){j(e)})}var V=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"destroy",value:function(){this.clearGcTimeout()}},{key:"scheduleGc",value:function(){var e=this;this.clearGcTimeout(),a(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))}},{key:"updateCacheTime",value:function(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:o?1/0:3e5)}},{key:"clearGcTimeout",value:function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}]),e}(),$=function(){function i(e){var t,n,r;return _classCallCheck(this,i),(t=_callSuper(this,i)).abortSignalConsumed=!1,t.defaultOptions=e.defaultOptions,t.setOptions(e.options),t.observers=[],t.cache=e.cache,t.logger=e.logger||E,t.queryKey=e.queryKey,t.queryHash=e.queryHash,t.initialState=e.state||(e=t.options,n="function"==typeof e.initialData?e.initialData():e.initialData,e=(r=void 0!==n)?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,{data:n,dataUpdateCount:0,dataUpdatedAt:r?null!=e?e:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}),t.state=t.initialState,t.scheduleGc(),t}return _inherits(i,V),_createClass(i,[{key:"meta",get:function(){return this.options.meta}},{key:"setOptions",value:function(e){this.options=_objectSpread(_objectSpread({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}},{key:"optionalRemove",value:function(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}},{key:"setData",value:function(e,t){e=S(this.state.data,e,this.options);return this.dispatch({data:e,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),e}},{key:"setState",value:function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}},{key:"cancel",value:function(e){var t,n=this.promise;return null!=(t=this.retryer)&&t.cancel(e),n?n.then(u).catch(u):Promise.resolve()}},{key:"destroy",value:function(){_get(_getPrototypeOf(i.prototype),"destroy",this).call(this),this.cancel({silent:!0})}},{key:"reset",value:function(){this.destroy(),this.setState(this.initialState)}},{key:"isActive",value:function(){return this.observers.some(function(e){return!1!==e.options.enabled})}},{key:"isDisabled",value:function(){return 0<this.getObserversCount()&&!this.isActive()}},{key:"isStale",value:function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})}},{key:"isStaleByTime",value:function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||!I(this.state.dataUpdatedAt,0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)}},{key:"onFocus",value:function(){var e=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});e&&e.refetch({cancelRefetch:!1}),null!=(e=this.retryer)&&e.continue()}},{key:"onOnline",value:function(){var e=this.observers.find(function(e){return e.shouldFetchOnReconnect()});e&&e.refetch({cancelRefetch:!1}),null!=(e=this.retryer)&&e.continue()}},{key:"addObserver",value:function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}},{key:"removeObserver",value:function(t){this.observers.includes(t)&&(this.observers=this.observers.filter(function(e){return e!==t}),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}},{key:"getObserversCount",value:function(){return this.observers.length}},{key:"invalidate",value:function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}},{key:"fetch",value:function(e,t){var r=this;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null!=(o=this.retryer)&&o.continueRetry(),this.promise;e&&this.setOptions(e),this.options.queryFn||(o=this.observers.find(function(e){return e.options.queryFn}))&&this.setOptions(o.options);function n(e){Object.defineProperty(e,"signal",{enumerable:!0,get:function(){if(u)return r.abortSignalConsumed=!0,u.signal}})}function i(e){var t,n;C(e)&&e.silent||r.dispatch({type:"error",error:e}),C(e)||(null!=(n=(t=r.cache.config).onError)&&n.call(t,e,r),null==(t=(n=r.cache.config).onSettled))||t.call(n,r.state.data,e,r),r.isFetchingOptimistic||r.scheduleGc(),r.isFetchingOptimistic=!1}var o,u=function(){if("function"==typeof AbortController)return new AbortController}(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},e=(n(a),{fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:function(){return r.options.queryFn?(r.abortSignalConsumed=!1,r.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+r.options.queryHash+"'")}});n(e),null!=(o=this.options.behavior)&&o.onFetch(e),this.revertState=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(t=e.fetchOptions)?void 0:t.meta)||this.dispatch({type:"fetch",meta:null==(o=e.fetchOptions)?void 0:o.meta});return this.retryer=Y({fn:e.fetchFn,abort:null==u?void 0:u.abort.bind(u),onSuccess:function(e){var t,n;void 0!==e?(r.setData(e),null!=(n=(t=r.cache.config).onSuccess)&&n.call(t,e,r),null!=(t=(n=r.cache.config).onSettled)&&t.call(n,e,r.state.error,r),r.isFetchingOptimistic||r.scheduleGc(),r.isFetchingOptimistic=!1):i(new Error(r.queryHash+" data is undefined"))},onError:i,onFail:function(e,t){r.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:e.options.retry,retryDelay:e.options.retryDelay,networkMode:e.options.networkMode}),this.promise=this.retryer.promise,this.promise}},{key:"dispatch",value:function(n){var r=this;this.state=function(e){switch(n.type){case"failed":return _objectSpread(_objectSpread({},e),{},{fetchFailureCount:n.failureCount,fetchFailureReason:n.error});case"pause":return _objectSpread(_objectSpread({},e),{},{fetchStatus:"paused"});case"continue":return _objectSpread(_objectSpread({},e),{},{fetchStatus:"fetching"});case"fetch":return _objectSpread(_objectSpread({},e),{},{fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(t=n.meta)?t:null,fetchStatus:O(r.options.networkMode)?"fetching":"paused"},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _objectSpread(_objectSpread({},e),{},{data:n.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(t=n.dataUpdatedAt)?t:Date.now(),error:null,isInvalidated:!1,status:"success"},!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":var t=n.error;return C(t)&&t.revert&&r.revertState?_objectSpread(_objectSpread({},r.revertState),{},{fetchStatus:"idle"}):_objectSpread(_objectSpread({},e),{},{error:t,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:t,fetchStatus:"idle",status:"error"});case"invalidate":return _objectSpread(_objectSpread({},e),{},{isInvalidated:!0});case"setState":return _objectSpread(_objectSpread({},e),n.state)}}(this.state),x.batch(function(){r.observers.forEach(function(e){e.onQueryUpdate(n)}),r.cache.notify({query:r,type:"updated",action:n})})}}]),i}(),X=function(){function n(e){var t;return _classCallCheck(this,n),(t=_callSuper(this,n)).config=e||{},t.queries=[],t.queriesMap={},t}return _inherits(n,i),_createClass(n,[{key:"build",value:function(e,t,n){var r=t.queryKey,i=null!=(i=t.queryHash)?i:f(r,t),o=this.get(i);return o||(o=new $({cache:this,logger:e.getLogger(),queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}},{key:"add",value:function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}},{key:"remove",value:function(t){var e=this.queriesMap[t.queryHash];e&&(t.destroy(),this.queries=this.queries.filter(function(e){return e!==t}),e===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}},{key:"clear",value:function(){var t=this;x.batch(function(){t.queries.forEach(function(e){t.remove(e)})})}},{key:"get",value:function(e){return this.queriesMap[e]}},{key:"getAll",value:function(){return this.queries}},{key:"find",value:function(e,t){var n=_slicedToArray(l(e,t),1)[0];return void 0===n.exact&&(n.exact=!0),this.queries.find(function(e){return h(n,e)})}},{key:"findAll",value:function(e,t){var n=_slicedToArray(l(e,t),1)[0];return 0<Object.keys(n).length?this.queries.filter(function(e){return h(n,e)}):this.queries}},{key:"notify",value:function(t){var e=this;x.batch(function(){e.listeners.forEach(function(e){(0,e.listener)(t)})})}},{key:"onFocus",value:function(){var e=this;x.batch(function(){e.queries.forEach(function(e){e.onFocus()})})}},{key:"onOnline",value:function(){var e=this;x.batch(function(){e.queries.forEach(function(e){e.onOnline()})})}}]),n}(),Z=function(){function n(e){var t;return _classCallCheck(this,n),(t=_callSuper(this,n)).defaultOptions=e.defaultOptions,t.mutationId=e.mutationId,t.mutationCache=e.mutationCache,t.logger=e.logger||E,t.observers=[],t.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},t.setOptions(e.options),t.scheduleGc(),t}var e;return _inherits(n,V),_createClass(n,[{key:"setOptions",value:function(e){this.options=_objectSpread(_objectSpread({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}},{key:"meta",get:function(){return this.options.meta}},{key:"setState",value:function(e){this.dispatch({type:"setState",state:e})}},{key:"addObserver",value:function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}},{key:"removeObserver",value:function(t){this.observers=this.observers.filter(function(e){return e!==t}),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}},{key:"optionalRemove",value:function(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}},{key:"continue",value:function(){var e;return null!=(e=null==(e=this.retryer)?void 0:e.continue())?e:this.execute()}},{key:"execute",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,r,i,o,u,a,s,c,l,h,f,d,y=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e;return y.retryer=Y({fn:function(){return y.options.mutationFn?y.options.mutationFn(y.state.variables):Promise.reject("No mutationFn found")},onFail:function(e,t){y.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){y.dispatch({type:"pause"})},onContinue:function(){y.dispatch({type:"continue"})},retry:null!=(e=y.options.retry)?e:0,retryDelay:y.options.retryDelay,networkMode:y.options.networkMode}),y.retryer.promise},o="loading"===this.state.status,e.prev=1,o){e.next=10;break}return this.dispatch({type:"loading",variables:this.options.variables}),e.next=6,null==(u=(o=this.mutationCache.config).onMutate)?void 0:u.call(o,this.state.variables,this);case 6:return e.next=8,null==(o=(u=this.options).onMutate)?void 0:o.call(u,this.state.variables);case 8:(a=e.sent)!==this.state.context&&this.dispatch({type:"loading",context:a,variables:this.state.variables});case 10:return e.next=12,t();case 12:return s=e.sent,e.next=15,null==(n=(a=this.mutationCache.config).onSuccess)?void 0:n.call(a,s,this.state.variables,this.state.context,this);case 15:return e.next=17,null==(r=(n=this.options).onSuccess)?void 0:r.call(n,s,this.state.variables,this.state.context);case 17:return e.next=19,null==(i=(r=this.mutationCache.config).onSettled)?void 0:i.call(r,s,null,this.state.variables,this.state.context,this);case 19:return e.next=21,null==(c=(i=this.options).onSettled)?void 0:c.call(i,s,null,this.state.variables,this.state.context);case 21:return this.dispatch({type:"success",data:s}),e.abrupt("return",s);case 25:return e.prev=25,e.t0=e.catch(1),e.prev=27,e.next=30,null==(l=(c=this.mutationCache.config).onError)?void 0:l.call(c,e.t0,this.state.variables,this.state.context,this);case 30:return e.next=32,null==(h=(l=this.options).onError)?void 0:h.call(l,e.t0,this.state.variables,this.state.context);case 32:return e.next=34,null==(d=(h=this.mutationCache.config).onSettled)?void 0:d.call(h,void 0,e.t0,this.state.variables,this.state.context,this);case 34:return e.next=36,null==(f=(d=this.options).onSettled)?void 0:f.call(d,void 0,e.t0,this.state.variables,this.state.context);case 36:throw e.t0;case 37:return e.prev=37,this.dispatch({type:"error",error:e.t0}),e.finish(37);case 40:case"end":return e.stop()}},e,this,[[1,25],[27,,37,40]])})),function(){return e.apply(this,arguments)})},{key:"dispatch",value:function(t){var n=this;this.state=function(e){switch(t.type){case"failed":return _objectSpread(_objectSpread({},e),{},{failureCount:t.failureCount,failureReason:t.error});case"pause":return _objectSpread(_objectSpread({},e),{},{isPaused:!0});case"continue":return _objectSpread(_objectSpread({},e),{},{isPaused:!1});case"loading":return _objectSpread(_objectSpread({},e),{},{context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!O(n.options.networkMode),status:"loading",variables:t.variables});case"success":return _objectSpread(_objectSpread({},e),{},{data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return _objectSpread(_objectSpread({},e),{},{data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"});case"setState":return _objectSpread(_objectSpread({},e),t.state)}}(this.state),x.batch(function(){n.observers.forEach(function(e){e.onMutationUpdate(t)}),n.mutationCache.notify({mutation:n,type:"updated",action:t})})}}]),n}();var ee=function(){function n(e){var t;return _classCallCheck(this,n),(t=_callSuper(this,n)).config=e||{},t.mutations=[],t.mutationId=0,t}return _inherits(n,i),_createClass(n,[{key:"build",value:function(e,t,n){n=new Z({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(n),n}},{key:"add",value:function(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}},{key:"remove",value:function(t){this.mutations=this.mutations.filter(function(e){return e!==t}),this.notify({type:"removed",mutation:t})}},{key:"clear",value:function(){var t=this;x.batch(function(){t.mutations.forEach(function(e){t.remove(e)})})}},{key:"getAll",value:function(){return this.mutations}},{key:"find",value:function(t){return void 0===t.exact&&(t.exact=!0),this.mutations.find(function(e){return K(t,e)})}},{key:"findAll",value:function(t){return this.mutations.filter(function(e){return K(t,e)})}},{key:"notify",value:function(t){var e=this;x.batch(function(){e.listeners.forEach(function(e){(0,e.listener)(t)})})}},{key:"resumePausedMutations",value:function(){var e,t=this;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then(function(){var e=t.mutations.filter(function(e){return e.state.isPaused});return x.batch(function(){return e.reduce(function(e,t){return e.then(function(){return t.continue().catch(u)})},Promise.resolve())})}).then(function(){t.resuming=void 0}),this.resuming}}]),n}();function q(){return{onFetch:function(p){p.fetchFn=function(){var r=null==(e=p.fetchOptions)||null==(e=e.meta)?void 0:e.refetchPage,e=null==(e=p.fetchOptions)||null==(e=e.meta)?void 0:e.fetchMore,t=null==e?void 0:e.pageParam,n="forward"===(null==e?void 0:e.direction),e="backward"===(null==e?void 0:e.direction),i=(null==(h=p.state.data)?void 0:h.pages)||[],o=(null==(h=p.state.data)?void 0:h.pageParams)||[],u=o,a=!1,s=p.options.queryFn||function(){return Promise.reject("Missing queryFn for queryKey '"+p.options.queryHash+"'")},c=function(e,t,n,r){return u=r?[t].concat(_toConsumableArray(u)):[].concat(_toConsumableArray(u),[t]),r?[n].concat(_toConsumableArray(e)):[].concat(_toConsumableArray(e),[n])},l=function(t,e,n,r){return a?Promise.reject("Cancelled"):void 0===n&&!e&&t.length?Promise.resolve(t):(e={queryKey:p.queryKey,pageParam:n,meta:p.options.meta},Object.defineProperty(e,"signal",{enumerable:!0,get:function(){var e;return null!=(e=p.signal)&&e.aborted?a=!0:null!=(e=p.signal)&&e.addEventListener("abort",function(){a=!0}),p.signal}}),e=s(e),Promise.resolve(e).then(function(e){return c(t,n,e,r)}))};if(i.length)if(n)var h=void 0!==t,n=h?t:te(p.options,i),f=l(i,h,n);else if(e){h=void 0!==t,n=h?t:ne(p.options,i);f=l(i,h,n,!0)}else for(var u=[],d=void 0===p.options.getNextPageParam,y=(f=r&&i[0]&&!r(i[0],0,i)?Promise.resolve(c([],o[0],i[0])):l([],d,o[0]),1);y<i.length;y++)!function(n){f=f.then(function(e){var t;return r&&i[n]&&!r(i[n],n,i)?Promise.resolve(c(e,o[n],i[n])):(t=d?o[n]:te(p.options,e),l(e,d,t))})}(y);else f=l([]);return f.then(function(e){return{pages:e,pageParams:u}})}}}}function te(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function ne(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var Q=function(){function r(e,t){var n;return _classCallCheck(this,r),(n=_callSuper(this,r)).client=e,n.options=t,n.trackedProps=new Set,n.selectError=null,n.bindMethods(),n.setOptions(t),n}return _inherits(r,i),_createClass(r,[{key:"bindMethods",value:function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){1===this.listeners.size&&(this.currentQuery.addObserver(this),re(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}},{key:"onUnsubscribe",value:function(){this.hasListeners()||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return ie(this.currentQuery,this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return ie(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}},{key:"setOptions",value:function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),v(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();e=this.hasListeners(),e&&oe(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!e||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout(),t=this.computeRefetchInterval();!e||this.currentQuery===r&&this.options.enabled===n.enabled&&t===this.currentRefetchInterval||this.updateRefetchInterval(t)}},{key:"getOptimisticResult",value:function(e){var t,n,r=this.client.getQueryCache().build(this.client,e),r=this.createResult(r,e);return t=this,n=r,e.keepPreviousData||(void 0!==e.placeholderData?!n.isPlaceholderData:v(t.getCurrentResult(),n))||(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"trackResult",value:function(t){var n=this,r={};return Object.keys(t).forEach(function(e){Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:function(){return n.trackedProps.add(e),t[e]}})}),r}},{key:"getCurrentQuery",value:function(){return this.currentQuery}},{key:"remove",value:function(){this.client.getQueryCache().remove(this.currentQuery)}},{key:"refetch",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refetchPage,e=_objectWithoutProperties(e,_excluded);return this.fetch(_objectSpread(_objectSpread({},e),{},{meta:{refetchPage:t}}))}},{key:"fetchOptimistic",value:function(e){var t=this,n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(function(){return t.createResult(r,n)})}},{key:"fetch",value:function(e){var t=this;return this.executeFetch(_objectSpread(_objectSpread({},e),{},{cancelRefetch:null==(e=e.cancelRefetch)||e})).then(function(){return t.updateResult(),t.currentResult})}},{key:"executeFetch",value:function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return t=null!=e&&e.throwOnError?t:t.catch(u)}},{key:"updateStaleTimeout",value:function(){var e,t=this;this.clearStaleTimeout(),o||this.currentResult.isStale||!a(this.options.staleTime)||(e=I(this.currentResult.dataUpdatedAt,this.options.staleTime)+1,this.staleTimeoutId=setTimeout(function(){t.currentResult.isStale||t.updateResult()},e))}},{key:"computeRefetchInterval",value:function(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}},{key:"updateRefetchInterval",value:function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!o&&!1!==this.options.enabled&&a(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(function(){(t.options.refetchIntervalInBackground||g.isFocused())&&t.executeFetch()},this.currentRefetchInterval))}},{key:"updateTimers",value:function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}},{key:"clearStaleTimeout",value:function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}},{key:"clearRefetchInterval",value:function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}},{key:"createResult",value:function(e,t){var n,r,i,o=this.currentQuery,u=this.options,a=this.currentResult,s=this.currentResultState,c=this.currentResultOptions,l=e!==o,h=l?e.state:this.currentQueryInitialState,l=l?this.currentResult:this.previousQueryResult,f=e.state,d=f.dataUpdatedAt,y=f.error,p=f.errorUpdatedAt,v=f.fetchStatus,b=f.status,m=!1,g=!1;if(t._optimisticResults&&(_=!(r=this.hasListeners())&&re(e,t),r=r&&oe(e,o,t,u),(_||r)&&(v=O(e.options.networkMode)?"fetching":"paused",d||(b="loading")),"isRestoring"===t._optimisticResults)&&(v="idle"),t.keepPreviousData&&!f.dataUpdatedAt&&null!=l&&l.isSuccess&&"error"!==b)n=l.data,d=l.dataUpdatedAt,b=l.status,m=!0;else if(t.select&&void 0!==f.data)if(a&&f.data===(null==s?void 0:s.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(f.data),n=S(null==a?void 0:a.data,n,t),this.selectResult=n,this.selectError=null}catch(e){this.selectError=e}else n=f.data;if(void 0!==t.placeholderData&&void 0===n&&"loading"===b){if(null!=a&&a.isPlaceholderData&&t.placeholderData===(null==c?void 0:c.placeholderData))i=a.data;else if(i="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==i)try{i=t.select(i),this.selectError=null}catch(e){this.selectError=e}void 0!==i&&(b="success",n=S(null==a?void 0:a.data,i,t),g=!0)}this.selectError&&(y=this.selectError,n=this.selectResult,p=Date.now(),b="error");var o="fetching"===v,u="loading"===b,_="error"===b;return{status:b,fetchStatus:v,isLoading:u,isSuccess:"success"===b,isError:_,isInitialLoading:u&&o,data:n,dataUpdatedAt:d,error:y,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:0<f.dataUpdateCount||0<f.errorUpdateCount,isFetchedAfterMount:f.dataUpdateCount>h.dataUpdateCount||f.errorUpdateCount>h.errorUpdateCount,isFetching:o,isRefetching:o&&!u,isLoadingError:_&&0===f.dataUpdatedAt,isPaused:"paused"===v,isPlaceholderData:g,isPreviousData:m,isRefetchError:_&&0!==f.dataUpdatedAt,isStale:ue(e,t),refetch:this.refetch,remove:this.remove}}},{key:"updateResult",value:function(e){var t,n,r=this,i=this.currentResult,o=this.createResult(this.currentQuery,this.options);this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,v(o,i)||(this.currentResult=o,!(o={cache:!0})===(null==e?void 0:e.listeners)||i&&"all"!==(t="function"==typeof(t=r.options.notifyOnChangeProps)?t():t)&&(t||r.trackedProps.size)&&(n=new Set(null!=t?t:r.trackedProps),r.options.useErrorBoundary&&n.add("error"),!Object.keys(r.currentResult).some(function(e){return r.currentResult[e]!==i[e]&&n.has(e)}))||(o.listeners=!0),this.notify(_objectSpread(_objectSpread({},o),e)))}},{key:"updateQuery",value:function(){var e,t=this.client.getQueryCache().build(this.client,this.options);t!==this.currentQuery&&(e=this.currentQuery,this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners())&&(null!=e&&e.removeObserver(this),t.addObserver(this))}},{key:"onQueryUpdate",value:function(e){var t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||C(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}},{key:"notify",value:function(n){var r=this;x.batch(function(){var e,t;n.onSuccess?(null!=(t=(e=r.options).onSuccess)&&t.call(e,r.currentResult.data),null!=(e=(t=r.options).onSettled)&&e.call(t,r.currentResult.data,null)):n.onError&&(null!=(t=(e=r.options).onError)&&t.call(e,r.currentResult.error),null!=(e=(t=r.options).onSettled))&&e.call(t,void 0,r.currentResult.error),n.listeners&&r.listeners.forEach(function(e){(0,e.listener)(r.currentResult)}),n.cache&&r.client.getQueryCache().notify({query:r.currentQuery,type:"observerResultsUpdated"})})}}]),r}();function re(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)||0<e.state.dataUpdatedAt&&ie(e,t,t.refetchOnMount)}function ie(e,t,n){return!1!==t.enabled&&("always"===(n="function"==typeof n?n(e):n)||!1!==n&&ue(e,t))}function oe(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&ue(e,n)}function ue(e,t){return e.isStaleByTime(t.staleTime)}var ae=function(){function r(e,t){var n;return _classCallCheck(this,r),(n=_callSuper(this,r)).client=e,n.queries=[],n.result=[],n.observers=[],n.observersMap={},t&&n.setQueries(t),n}return _inherits(r,i),_createClass(r,[{key:"onSubscribe",value:function(){var n=this;1===this.listeners.size&&this.observers.forEach(function(t){t.subscribe(function(e){n.onUpdate(t,e)})})}},{key:"onUnsubscribe",value:function(){this.listeners.size||this.destroy()}},{key:"destroy",value:function(){this.listeners=new Set,this.observers.forEach(function(e){e.destroy()})}},{key:"setQueries",value:function(e,o){var u=this;this.queries=e,x.batch(function(){var n=u.observers,e=u.findMatchingObservers(u.queries),e=(e.forEach(function(e){return e.observer.setOptions(e.defaultedQueryOptions,o)}),e.map(function(e){return e.observer})),t=Object.fromEntries(e.map(function(e){return[e.options.queryHash,e]})),r=e.map(function(e){return e.getCurrentResult()}),i=e.some(function(e,t){return e!==n[t]});(n.length!==e.length||i)&&(u.observers=e,u.observersMap=t,u.result=r,u.hasListeners())&&(D(n,e).forEach(function(e){e.destroy()}),D(e,n).forEach(function(t){t.subscribe(function(e){u.onUpdate(t,e)})}),u.notify())})}},{key:"getCurrentResult",value:function(){return this.result}},{key:"getQueries",value:function(){return this.observers.map(function(e){return e.getCurrentQuery()})}},{key:"getObservers",value:function(){return this.observers}},{key:"getOptimisticResult",value:function(e){return this.findMatchingObservers(e).map(function(e){return e.observer.getOptimisticResult(e.defaultedQueryOptions)})}},{key:"findMatchingObservers",value:function(e){var n=this,t=this.observers,r=new Map(t.map(function(e){return[e.options.queryHash,e]})),i=e.map(function(e){return n.client.defaultQueryOptions(e)}),e=i.flatMap(function(e){var t=r.get(e.queryHash);return null!=t?[{defaultedQueryOptions:e,observer:t}]:[]}),o=new Set(e.map(function(e){return e.defaultedQueryOptions.queryHash})),u=i.filter(function(e){return!o.has(e.queryHash)}),a=new Set(e.map(function(e){return e.observer})),s=t.filter(function(e){return!a.has(e)}),t=u.map(function(e,t){if(e.keepPreviousData){t=s[t];if(void 0!==t)return{defaultedQueryOptions:e,observer:t}}return{defaultedQueryOptions:e,observer:(t=e,t=n.client.defaultQueryOptions(t),null!=(e=n.observersMap[t.queryHash])?e:new Q(n.client,t))}});return e.concat(t).sort(function(e,t){return i.indexOf(e.defaultedQueryOptions)-i.indexOf(t.defaultedQueryOptions)})}},{key:"onUpdate",value:function(e,t){e=this.observers.indexOf(e);-1!==e&&(this.result=function(e,t,n){e=e.slice(0);return e[t]=n,e}(this.result,e,t),this.notify())}},{key:"notify",value:function(){var t=this;x.batch(function(){t.listeners.forEach(function(e){(0,e.listener)(t.result)})})}}]),r}(),se=function(){function u(e,t){return _classCallCheck(this,u),_callSuper(this,u,[e,t])}return _inherits(u,Q),_createClass(u,[{key:"bindMethods",value:function(){_get(_getPrototypeOf(u.prototype),"bindMethods",this).call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}},{key:"setOptions",value:function(e,t){_get(_getPrototypeOf(u.prototype),"setOptions",this).call(this,_objectSpread(_objectSpread({},e),{},{behavior:q()}),t)}},{key:"getOptimisticResult",value:function(e){return e.behavior=q(),_get(_getPrototypeOf(u.prototype),"getOptimisticResult",this).call(this,e)}},{key:"fetchNextPage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.pageParam,e=_objectWithoutProperties(e,_excluded2);return this.fetch(_objectSpread(_objectSpread({},e),{},{meta:{fetchMore:{direction:"forward",pageParam:t}}}))}},{key:"fetchPreviousPage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.pageParam,e=_objectWithoutProperties(e,_excluded3);return this.fetch(_objectSpread(_objectSpread({},e),{},{meta:{fetchMore:{direction:"backward",pageParam:t}}}))}},{key:"createResult",value:function(e,t){var n=e.state,e=_get(_getPrototypeOf(u.prototype),"createResult",this).call(this,e,t),r=e.isFetching,i=e.isRefetching,o=r&&"forward"===(null==(o=n.fetchMeta)||null==(o=o.fetchMore)?void 0:o.direction),r=r&&"backward"===(null==(r=n.fetchMeta)||null==(r=r.fetchMore)?void 0:r.direction);return _objectSpread(_objectSpread({},e),{},{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:function(e,t){if(e.getNextPageParam&&Array.isArray(t))return null!=(e=te(e,t))&&!1!==e}(t,null==(e=n.data)?void 0:e.pages),hasPreviousPage:function(e,t){if(e.getPreviousPageParam&&Array.isArray(t))return null!=(e=ne(e,t))&&!1!==e}(t,null==(e=n.data)?void 0:e.pages),isFetchingNextPage:o,isFetchingPreviousPage:r,isRefetching:i&&!o&&!r})}}]),u}(),ce=function(){function r(e,t){var n;return _classCallCheck(this,r),(n=_callSuper(this,r)).client=e,n.setOptions(t),n.bindMethods(),n.updateResult(),n}return _inherits(r,i),_createClass(r,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(e){var t=this.options;this.options=this.client.defaultMutationOptions(e),v(t,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null!=(e=this.currentMutation)&&e.setOptions(this.options)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||null==(e=this.currentMutation)||e.removeObserver(this)}},{key:"onMutationUpdate",value:function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"reset",value:function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}},{key:"mutate",value:function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,_objectSpread(_objectSpread({},this.options),{},{variables:void 0!==e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}},{key:"updateResult",value:function(){var e=this.currentMutation?this.currentMutation.state:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},e=_objectSpread(_objectSpread({},e),{},{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset});this.currentResult=e}},{key:"notify",value:function(n){var r=this;x.batch(function(){var e,t;r.mutateOptions&&r.hasListeners()&&(n.onSuccess?(null!=(t=(e=r.mutateOptions).onSuccess)&&t.call(e,r.currentResult.data,r.currentResult.variables,r.currentResult.context),null!=(e=(t=r.mutateOptions).onSettled)&&e.call(t,r.currentResult.data,null,r.currentResult.variables,r.currentResult.context)):n.onError&&(null!=(t=(e=r.mutateOptions).onError)&&t.call(e,r.currentResult.error,r.currentResult.variables,r.currentResult.context),null!=(e=(t=r.mutateOptions).onSettled))&&e.call(t,void 0,r.currentResult.error,r.currentResult.variables,r.currentResult.context)),n.listeners&&r.listeners.forEach(function(e){(0,e.listener)(r.currentResult)})})}}]),r}();function le(e){return e.state.isPaused}function he(e){return"success"===e.state.status}function fe(o,e,u){var n,a,t;"object"==_typeof(e)&&null!==e&&(n=o.getMutationCache(),a=o.getQueryCache(),t=e.mutations||[],e=e.queries||[],t.forEach(function(e){var t;n.build(o,_objectSpread(_objectSpread({},null==u||null==(t=u.defaultOptions)?void 0:t.mutations),{},{mutationKey:e.mutationKey}),e.state)}),e.forEach(function(e){var t,n=e.queryKey,r=e.state,e=e.queryHash,i=a.get(e);i?i.state.dataUpdatedAt<r.dataUpdatedAt&&(r.fetchStatus,t=_objectWithoutProperties(r,_excluded4),i.setState(t)):a.build(o,_objectSpread(_objectSpread({},null==u||null==(i=u.defaultOptions)?void 0:i.queries),{},{queryKey:n,queryHash:e}),_objectSpread(_objectSpread({},r),{},{fetchStatus:"idle"}))}))}n=t.unstable_batchedUpdates;x.setBatchNotifyFunction(n);var de,ye,pe,ve,be,A,t={};function me(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!de(e,n)}catch(e){return 1}}A||(A=1,n=r.default,de="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ye=n.useState,pe=n.useEffect,ve=n.useLayoutEffect,be=n.useDebugValue,A="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=ye({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return ve(function(){i.value=n,i.getSnapshot=t,me(i)&&o({inst:i})},[e,n,t]),pe(function(){return me(i)&&o({inst:i}),e(function(){me(i)&&o({inst:i})})},[e]),be(n),n},t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:A);var M=t.useSyncExternalStore,ge=c.createContext(void 0),_e=c.createContext(!1);function Se(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ge),window.ReactQueryClientContext):ge)}function F(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).context;if(e=c.useContext(Se(e,c.useContext(_e))))return e;throw new Error("No QueryClient set, use QueryClientProvider to set one")}function Oe(){return c.useContext(ke)}var ke=c.createContext(!1),r=ke.Provider;function Ce(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}function Pe(){return c.useContext(we)}var we=c.createContext(Ce());function je(e,t){return"function"==typeof e?e.apply(void 0,_toConsumableArray(t)):!!e}function Re(e,t){!e.suspense&&!e.useErrorBoundary||t.isReset()||(e.retryOnMount=!1)}function Ee(e){c.useEffect(function(){e.clearReset()},[e])}function xe(e){var t=e.result,n=e.errorResetBoundary,r=e.useErrorBoundary,e=e.query;return t.isError&&!n.isReset()&&!t.isFetching&&je(r,[t.error,e])}function qe(e){e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)}function Qe(e,t,n){return(null==e?void 0:e.suspense)&&Me(t,n)}function Ae(t,e,n){return e.fetchOptimistic(t).then(function(e){e=e.data;null!=t.onSuccess&&t.onSuccess(e),null!=t.onSettled&&t.onSettled(e,null)}).catch(function(e){n.clearReset(),null!=t.onError&&t.onError(e),null!=t.onSettled&&t.onSettled(void 0,e)})}var Me=function(e,t){return e.isLoading&&e.isFetching&&!t};function Fe(e,t){var n=F({context:e.context}),r=Oe(),i=Pe(),o=n.defaultQueryOptions(e);o._optimisticResults=r?"isRestoring":"optimistic",o.onError&&(o.onError=x.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=x.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=x.batchCalls(o.onSettled)),qe(o),Re(o,i),Ee(i);var u=_slicedToArray(c.useState(function(){return new t(n,o)}),1)[0],e=u.getOptimisticResult(o);if(M(c.useCallback(function(e){e=r?function(){}:u.subscribe(x.batchCalls(e));return u.updateResult(),e},[u,r]),function(){return u.getCurrentResult()},function(){return u.getCurrentResult()}),c.useEffect(function(){u.setOptions(o,{listeners:!1})},[o,u]),Qe(o,e,r))throw Ae(o,u,i);if(xe({result:e,errorResetBoundary:i,useErrorBoundary:o.useErrorBoundary,query:u.getCurrentQuery()}))throw e.error;return o.notifyOnChangeProps?e:u.trackResult(e)}function Te(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=F({context:t.context}),r=c.useRef(t);r.current=t,c.useMemo(function(){e&&fe(n,e,r.current)},[n,e])}function De(){}e.CancelledError=k,e.Hydrate=function(e){var t=e.children,n=e.options;return Te(e.state,n),t},e.InfiniteQueryObserver=se,e.IsRestoringProvider=r,e.MutationCache=ee,e.MutationObserver=ce,e.QueriesObserver=ae,e.Query=$,e.QueryCache=X,e.QueryClient=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.queryCache=e.queryCache||new X,this.mutationCache=e.mutationCache||new ee,this.logger=e.logger||E,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}return _createClass(t,[{key:"mount",value:function(){var e=this;this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=g.subscribe(function(){g.isFocused()&&(e.resumePausedMutations(),e.queryCache.onFocus())}),this.unsubscribeOnline=_.subscribe(function(){_.isOnline()&&(e.resumePausedMutations(),e.queryCache.onOnline())}))}},{key:"unmount",value:function(){var e;this.mountCount--,0===this.mountCount&&(null!=(e=this.unsubscribeFocus)&&e.call(this),this.unsubscribeFocus=void 0,null!=(e=this.unsubscribeOnline)&&e.call(this),this.unsubscribeOnline=void 0)}},{key:"isFetching",value:function(e,t){e=_slicedToArray(l(e,t),1)[0];return e.fetchStatus="fetching",this.queryCache.findAll(e).length}},{key:"isMutating",value:function(e){return this.mutationCache.findAll(_objectSpread(_objectSpread({},e),{},{fetching:!0})).length}},{key:"getQueryData",value:function(e,t){return null==(e=this.queryCache.find(e,t))?void 0:e.state.data}},{key:"ensureQueryData",value:function(e,t,n){e=s(e,t,n),t=this.getQueryData(e.queryKey);return t?Promise.resolve(t):this.fetchQuery(e)}},{key:"getQueriesData",value:function(e){return this.getQueryCache().findAll(e).map(function(e){return[e.queryKey,e.state.data]})}},{key:"setQueryData",value:function(e,t,n){var r=this.queryCache.find(e),r=(t=t,r=null==r?void 0:r.state.data,"function"==typeof t?t(r):t);if(void 0!==r)return t=s(e),e=this.defaultQueryOptions(t),this.queryCache.build(this,e).setData(r,_objectSpread(_objectSpread({},n),{},{manual:!0}))}},{key:"setQueriesData",value:function(e,t,n){var r=this;return x.batch(function(){return r.getQueryCache().findAll(e).map(function(e){e=e.queryKey;return[e,r.setQueryData(e,t,n)]})})}},{key:"getQueryState",value:function(e,t){return null==(e=this.queryCache.find(e,t))?void 0:e.state}},{key:"removeQueries",value:function(e,t){var n=_slicedToArray(l(e,t),1)[0],r=this.queryCache;x.batch(function(){r.findAll(n).forEach(function(e){r.remove(e)})})}},{key:"resetQueries",value:function(e,t,n){var r=this,e=_slicedToArray(l(e,t,n),2),i=e[0],o=e[1],u=this.queryCache,a=_objectSpread({type:"active"},i);return x.batch(function(){return u.findAll(i).forEach(function(e){e.reset()}),r.refetchQueries(a,o)})}},{key:"cancelQueries",value:function(e,t,n){var r=this,e=_slicedToArray(l(e,t,n),2),i=e[0],t=e[1],o=void 0===t?{}:t,n=(void 0===o.revert&&(o.revert=!0),x.batch(function(){return r.queryCache.findAll(i).map(function(e){return e.cancel(o)})}));return Promise.all(n).then(u).catch(u)}},{key:"invalidateQueries",value:function(e,t,n){var r=this,e=_slicedToArray(l(e,t,n),2),i=e[0],o=e[1];return x.batch(function(){var e;return r.queryCache.findAll(i).forEach(function(e){e.invalidate()}),"none"===i.refetchType?Promise.resolve():(e=_objectSpread(_objectSpread({},i),{},{type:null!=(e=null!=(e=i.refetchType)?e:i.type)?e:"active"}),r.refetchQueries(e,o))})}},{key:"refetchQueries",value:function(e,t,n){var r=this,e=_slicedToArray(l(e,t,n),2),i=e[0],o=e[1],t=x.batch(function(){return r.queryCache.findAll(i).filter(function(e){return!e.isDisabled()}).map(function(e){return e.fetch(void 0,_objectSpread(_objectSpread({},o),{},{cancelRefetch:null==(e=null==o?void 0:o.cancelRefetch)||e,meta:{refetchPage:i.refetchPage}}))})}),n=Promise.all(t).then(u);return n=null!=o&&o.throwOnError?n:n.catch(u)}},{key:"fetchQuery",value:function(e,t,n){e=s(e,t,n),t=this.defaultQueryOptions(e),void 0===t.retry&&(t.retry=!1),n=this.queryCache.build(this,t);return n.isStaleByTime(t.staleTime)?n.fetch(t):Promise.resolve(n.state.data)}},{key:"prefetchQuery",value:function(e,t,n){return this.fetchQuery(e,t,n).then(u).catch(u)}},{key:"fetchInfiniteQuery",value:function(e,t,n){e=s(e,t,n);return e.behavior=q(),this.fetchQuery(e)}},{key:"prefetchInfiniteQuery",value:function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(u).catch(u)}},{key:"resumePausedMutations",value:function(){return this.mutationCache.resumePausedMutations()}},{key:"getQueryCache",value:function(){return this.queryCache}},{key:"getMutationCache",value:function(){return this.mutationCache}},{key:"getLogger",value:function(){return this.logger}},{key:"getDefaultOptions",value:function(){return this.defaultOptions}},{key:"setDefaultOptions",value:function(e){this.defaultOptions=e}},{key:"setQueryDefaults",value:function(t,e){var n=this.queryDefaults.find(function(e){return d(t)===d(e.queryKey)});n?n.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})}},{key:"getQueryDefaults",value:function(t){var e;return!t||null==(e=this.queryDefaults.find(function(e){return y(t,e.queryKey)}))?void 0:e.defaultOptions}},{key:"setMutationDefaults",value:function(t,e){var n=this.mutationDefaults.find(function(e){return d(t)===d(e.mutationKey)});n?n.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})}},{key:"getMutationDefaults",value:function(t){var e;return!t||null==(e=this.mutationDefaults.find(function(e){return y(t,e.mutationKey)}))?void 0:e.defaultOptions}},{key:"defaultQueryOptions",value:function(e){return null!=e&&e._defaulted||(!(e=_objectSpread(_objectSpread(_objectSpread(_objectSpread({},this.defaultOptions.queries),this.getQueryDefaults(null==e?void 0:e.queryKey)),e),{},{_defaulted:!0})).queryHash&&e.queryKey&&(e.queryHash=f(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.useErrorBoundary&&(e.useErrorBoundary=!!e.suspense)),e}},{key:"defaultMutationOptions",value:function(e){return null!=e&&e._defaulted?e:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},this.defaultOptions.mutations),this.getMutationDefaults(null==e?void 0:e.mutationKey)),e),{},{_defaulted:!0})}},{key:"clear",value:function(){this.queryCache.clear(),this.mutationCache.clear()}}]),t}(),e.QueryClientProvider=function(e){var t=e.client,n=e.children,r=e.context,e=e.contextSharing,e=void 0!==e&&e,i=(c.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]),Se(r,e));return c.createElement(_e.Provider,{value:!r&&e},c.createElement(i.Provider,{value:t},n))},e.QueryErrorResetBoundary=function(e){var e=e.children,t=_slicedToArray(c.useState(Ce),1)[0];return c.createElement(we.Provider,{value:t},"function"==typeof e?e(t):e)},e.QueryObserver=Q,e.defaultContext=ge,e.defaultShouldDehydrateMutation=le,e.defaultShouldDehydrateQuery=he,e.dehydrate=function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=[],o=[];return!1!==r.dehydrateMutations&&(t=r.shouldDehydrateMutation||le,e.getMutationCache().getAll().forEach(function(e){t(e)&&i.push({mutationKey:e.options.mutationKey,state:e.state})})),!1!==r.dehydrateQueries&&(n=r.shouldDehydrateQuery||he,e.getQueryCache().getAll().forEach(function(e){n(e)&&o.push({state:e.state,queryKey:e.queryKey,queryHash:e.queryHash})})),{mutations:i,queries:o}},e.focusManager=g,e.hashQueryKey=d,e.hydrate=fe,e.isCancelledError=C,e.isError=function(e){return e instanceof Error},e.isServer=o,e.matchQuery=h,e.notifyManager=x,e.onlineManager=_,e.parseFilterArgs=l,e.parseMutationArgs=L,e.parseMutationFilterArgs=U,e.parseQueryArgs=s,e.replaceEqualDeep=p,e.useHydrate=Te,e.useInfiniteQuery=function(e,t,n){return Fe(s(e,t,n),se)},e.useIsFetching=function(e,t,n){var e=_slicedToArray(l(e,t,n),2),r=e[0],t=e[1],i=F({context:(void 0===t?{}:t).context}),o=i.getQueryCache();return M(c.useCallback(function(e){return o.subscribe(x.batchCalls(e))},[o]),function(){return i.isFetching(r)},function(){return i.isFetching(r)})},e.useIsMutating=function(e,t,n){var e=_slicedToArray(U(e,t,n),2),r=e[0],t=e[1],i=F({context:(void 0===t?{}:t).context}),o=i.getMutationCache();return M(c.useCallback(function(e){return o.subscribe(x.batchCalls(e))},[o]),function(){return i.isMutating(r)},function(){return i.isMutating(r)})},e.useIsRestoring=Oe,e.useMutation=function(e,t,n){var r=L(e,t,n),i=F({context:r.context}),o=_slicedToArray(c.useState(function(){return new ce(i,r)}),1)[0],e=(c.useEffect(function(){o.setOptions(r)},[o,r]),M(c.useCallback(function(e){return o.subscribe(x.batchCalls(e))},[o]),function(){return o.getCurrentResult()},function(){return o.getCurrentResult()})),t=c.useCallback(function(e,t){o.mutate(e,t).catch(De)},[o]);if(e.error&&je(o.options.useErrorBoundary,[e.error]))throw e.error;return _objectSpread(_objectSpread({},e),{},{mutate:t,mutateAsync:e.mutate})},e.useQueries=function(e){var t=e.queries,e=e.context,n=F({context:e}),r=Oe(),i=Pe(),o=c.useMemo(function(){return t.map(function(e){e=n.defaultQueryOptions(e);return e._optimisticResults=r?"isRestoring":"optimistic",e})},[t,n,r]);o.forEach(function(e){qe(e),Re(e,i)}),Ee(i);var u=_slicedToArray(c.useState(function(){return new ae(n,o)}),1)[0],e=u.getOptimisticResult(o),a=(M(c.useCallback(function(e){return r?function(){}:u.subscribe(x.batchCalls(e))},[u,r]),function(){return u.getCurrentResult()},function(){return u.getCurrentResult()}),c.useEffect(function(){u.setQueries(o,{listeners:!1})},[o,u]),e.some(function(e,t){return Qe(o[t],e,r)})?e.flatMap(function(e,t){var n=o[t],t=u.getObservers()[t];if(n&&t){if(Qe(n,e,r))return Ae(n,t,i);Me(e,r)&&Ae(n,t,i)}return[]}):[]);if(0<a.length)throw Promise.all(a);var s=u.getQueries(),a=e.find(function(e,t){return xe({result:e,errorResetBoundary:i,useErrorBoundary:null!=(e=null==(e=o[t])?void 0:e.useErrorBoundary)&&e,query:s[t]})});if(null!=a&&a.error)throw a.error;return e},e.useQuery=function(e,t,n){return Fe(s(e,t,n),Q)},e.useQueryClient=F,e.useQueryErrorResetBoundary=Pe,Object.defineProperty(e,"__esModule",{value:!0})});