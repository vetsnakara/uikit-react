var _excluded=["refetchPage"],_excluded2=["pageParam"],_excluded3=["pageParam"],_excluded4=["fetchStatus"];function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,u=Object.create(o.prototype),a=new x(n||[]);return i(u,"_invoke",{value:w(e,r,a)}),u}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",y="executing",p="completed",v={};function b(){}function m(){}function g(){}var _={};c(_,u,(function(){return this}));var S=Object.getPrototypeOf,O=S&&S(S(q([])));O&&O!==r&&n.call(O,u)&&(_=O);var k=g.prototype=b.prototype=Object.create(_);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(i,o,u,a){var s=f(e[i],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==_typeof(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,u,a)}),(function(e){r("throw",e,u,a)})):t.resolve(l).then((function(e){c.value=e,u(c)}),(function(e){return r("throw",e,u,a)}))}a(s.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function w(t,r,n){var i=h;return function(o,u){if(i===y)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw u;return{value:e,done:!0}}for(n.method=o,n.arg=u;;){var a=n.delegate;if(a){var s=j(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=y;var c=f(t,r,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var u=o.arg;return u?u.done?(r[t.resultName]=u.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function q(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(_typeof(t)+" is not iterable")}return m.prototype=g,i(k,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},C(P.prototype),c(P.prototype,a,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var u=new P(l(e,r,n,i),o);return t.isGeneratorFunction(r)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},C(k),c(k,s,"Generator"),c(k,u,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=q,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return a.type="throw",a.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o],a=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=n.call(u,"catchLoc"),c=n.call(u,"finallyLoc");if(s&&c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=e,u.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:q(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function asyncGeneratorStep(e,t,r,n,i,o,u){try{var a=e[o](u),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,i)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function u(e){asyncGeneratorStep(o,n,i,u,a,"next",e)}function a(e){asyncGeneratorStep(o,n,i,u,a,"throw",e)}u(void 0)}))}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,u,a=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw i}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=_superPropBase(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},_get.apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _callSuper(e,t,r){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,r||[],_getPrototypeOf(e).constructor):t.apply(e,r))}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("react-dom"),require("react")):"function"==typeof define&&define.amd?define(["exports","react-dom","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactQuery={},e.ReactDOM,e.React)}(this,(function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var i=n(t),o=function(e){return e&&"object"==_typeof(e)&&"default"in e?e:{default:e}}(r),u=n(r),a=function(){function e(){_classCallCheck(this,e),this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}return _createClass(e,[{key:"subscribe",value:function(e){var t=this,r={listener:e};return this.listeners.add(r),this.onSubscribe(),function(){t.listeners.delete(r),t.onUnsubscribe()}}},{key:"hasListeners",value:function(){return this.listeners.size>0}},{key:"onSubscribe",value:function(){}},{key:"onUnsubscribe",value:function(){}}]),e}(),s="undefined"==typeof window||"Deno"in window;function c(){}function l(e){return"number"==typeof e&&e>=0&&e!==1/0}function f(e,t){return e.filter((function(e){return!t.includes(e)}))}function h(e,t){return Math.max(e+(t||0)-Date.now(),0)}function d(e,t,r){return R(e)?"function"==typeof t?_objectSpread(_objectSpread({},r),{},{queryKey:e,queryFn:t}):_objectSpread(_objectSpread({},t),{},{queryKey:e}):e}function y(e,t,r){return R(e)?"function"==typeof t?_objectSpread(_objectSpread({},r),{},{mutationKey:e,mutationFn:t}):_objectSpread(_objectSpread({},t),{},{mutationKey:e}):"function"==typeof e?_objectSpread(_objectSpread({},t),{},{mutationFn:e}):_objectSpread({},e)}function p(e,t,r){return R(e)?[_objectSpread(_objectSpread({},t),{},{queryKey:e}),r]:[e||{},t]}function v(e,t,r){return R(e)?[_objectSpread(_objectSpread({},t),{},{mutationKey:e}),r]:[e||{},t]}function b(e,t){var r=e.type,n=void 0===r?"all":r,i=e.exact,o=e.fetchStatus,u=e.predicate,a=e.queryKey,s=e.stale;if(R(a))if(i){if(t.queryHash!==g(a,t.options))return!1}else if(!S(t.queryKey,a))return!1;if("all"!==n){var c=t.isActive();if("active"===n&&!c)return!1;if("inactive"===n&&c)return!1}return!("boolean"==typeof s&&t.isStale()!==s||void 0!==o&&o!==t.state.fetchStatus||u&&!u(t))}function m(e,t){var r=e.exact,n=e.fetching,i=e.predicate,o=e.mutationKey;if(R(o)){if(!t.options.mutationKey)return!1;if(r){if(_(t.options.mutationKey)!==_(o))return!1}else if(!S(t.options.mutationKey,o))return!1}return!("boolean"==typeof n&&"loading"===t.state.status!==n||i&&!i(t))}function g(e,t){return((null==t?void 0:t.queryKeyHashFn)||_)(e)}function _(e){return JSON.stringify(e,(function(e,t){return w(t)?Object.keys(t).sort().reduce((function(e,r){return e[r]=t[r],e}),{}):t}))}function S(e,t){return O(e,t)}function O(e,t){return e===t||_typeof(e)==_typeof(t)&&!(!e||!t||"object"!=_typeof(e)||"object"!=_typeof(t))&&!Object.keys(t).some((function(r){return!O(e[r],t[r])}))}function k(e,t){if(e===t)return e;var r=P(e)&&P(t);if(r||w(e)&&w(t)){for(var n=r?e.length:Object.keys(e).length,i=r?t:Object.keys(t),o=i.length,u=r?[]:{},a=0,s=0;s<o;s++){var c=r?s:i[s];u[c]=k(e[c],t[c]),u[c]===e[c]&&a++}return n===o&&a===n?e:u}return t}function C(e,t){if(e&&!t||t&&!e)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function P(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function w(e){if(!j(e))return!1;var t=e.constructor;if(void 0===t)return!0;var r=t.prototype;return!!j(r)&&!!r.hasOwnProperty("isPrototypeOf")}function j(e){return"[object Object]"===Object.prototype.toString.call(e)}function R(e){return Array.isArray(e)}function E(e){return new Promise((function(t){setTimeout(t,e)}))}function x(e){E(0).then(e)}function q(e,t,r){return null!=r.isDataEqual&&r.isDataEqual(e,t)?e:"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?k(e,t):t}var Q=new(function(e){function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).setup=function(e){if(!s&&window.addEventListener){var t=function(){return e()};return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),function(){window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}},e}return _inherits(t,e),_createClass(t,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,r=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?r.setFocused(e):r.onFocus()}))}},{key:"setFocused",value:function(e){this.focused!==e&&(this.focused=e,this.onFocus())}},{key:"onFocus",value:function(){this.listeners.forEach((function(e){(0,e.listener)()}))}},{key:"isFocused",value:function(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}]),t}(a)),A=["online","offline"],M=new(function(e){function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).setup=function(e){if(!s&&window.addEventListener){var t=function(){return e()};return A.forEach((function(e){window.addEventListener(e,t,!1)})),function(){A.forEach((function(e){window.removeEventListener(e,t)}))}}},e}return _inherits(t,e),_createClass(t,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,r=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"==typeof e?r.setOnline(e):r.onOnline()}))}},{key:"setOnline",value:function(e){this.online!==e&&(this.online=e,this.onOnline())}},{key:"onOnline",value:function(){this.listeners.forEach((function(e){(0,e.listener)()}))}},{key:"isOnline",value:function(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}}]),t}(a));function F(e){return Math.min(1e3*Math.pow(2,e),3e4)}function T(e){return"online"!==(null!=e?e:"online")||M.isOnline()}var D=_createClass((function e(t){_classCallCheck(this,e),this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}));function I(e){return e instanceof D}function L(e){var t,r,n,i=!1,o=0,u=!1,a=new Promise((function(e,t){r=e,n=t})),s=function(){return!Q.isFocused()||"always"!==e.networkMode&&!M.isOnline()},c=function(n){u||(u=!0,null==e.onSuccess||e.onSuccess(n),null==t||t(),r(n))},l=function(r){u||(u=!0,null==e.onError||e.onError(r),null==t||t(),n(r))},f=function(){return new Promise((function(r){t=function(e){var t=u||!s();return t&&r(e),t},null==e.onPause||e.onPause()})).then((function(){t=void 0,u||null==e.onContinue||e.onContinue()}))},h=function t(){if(!u){var r;try{r=e.fn()}catch(e){r=Promise.reject(e)}Promise.resolve(r).then(c).catch((function(r){var n,a;if(!u){var c=null!=(n=e.retry)?n:3,h=null!=(a=e.retryDelay)?a:F,d="function"==typeof h?h(o,r):h,y=!0===c||"number"==typeof c&&o<c||"function"==typeof c&&c(o,r);!i&&y?(o++,null==e.onFail||e.onFail(o,r),E(d).then((function(){if(s())return f()})).then((function(){i?l(r):t()}))):l(r)}}))}};return T(e.networkMode)?h():f().then(h),{promise:a,cancel:function(t){u||(l(new D(t)),null==e.abort||e.abort())},continue:function(){return(null==t?void 0:t())?a:Promise.resolve()},cancelRetry:function(){i=!0},continueRetry:function(){i=!1}}}var U=console,K=function(){var e=[],t=0,r=function(e){e()},n=function(e){e()},i=function(n){t?e.push(n):x((function(){r(n)}))},o=function(){var t=e;e=[],t.length&&x((function(){n((function(){t.forEach((function(e){r(e)}))}))}))};return{batch:function(e){var r;t++;try{r=e()}finally{--t||o()}return r},batchCalls:function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];i((function(){e.apply(void 0,r)}))}},schedule:i,setNotifyFunction:function(e){r=e},setBatchNotifyFunction:function(e){n=e}}}(),H=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"destroy",value:function(){this.clearGcTimeout()}},{key:"scheduleGc",value:function(){var e=this;this.clearGcTimeout(),l(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){e.optionalRemove()}),this.cacheTime))}},{key:"updateCacheTime",value:function(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:s?1/0:3e5)}},{key:"clearGcTimeout",value:function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}]),e}(),N=function(e){function t(e){var r;return _classCallCheck(this,t),(r=_callSuper(this,t)).abortSignalConsumed=!1,r.defaultOptions=e.defaultOptions,r.setOptions(e.options),r.observers=[],r.cache=e.cache,r.logger=e.logger||U,r.queryKey=e.queryKey,r.queryHash=e.queryHash,r.initialState=e.state||function(e){var t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(r.options),r.state=r.initialState,r.scheduleGc(),r}return _inherits(t,e),_createClass(t,[{key:"meta",get:function(){return this.options.meta}},{key:"setOptions",value:function(e){this.options=_objectSpread(_objectSpread({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}},{key:"optionalRemove",value:function(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}},{key:"setData",value:function(e,t){var r=q(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}},{key:"setState",value:function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}},{key:"cancel",value:function(e){var t,r=this.promise;return null==(t=this.retryer)||t.cancel(e),r?r.then(c).catch(c):Promise.resolve()}},{key:"destroy",value:function(){_get(_getPrototypeOf(t.prototype),"destroy",this).call(this),this.cancel({silent:!0})}},{key:"reset",value:function(){this.destroy(),this.setState(this.initialState)}},{key:"isActive",value:function(){return this.observers.some((function(e){return!1!==e.options.enabled}))}},{key:"isDisabled",value:function(){return this.getObserversCount()>0&&!this.isActive()}},{key:"isStale",value:function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))}},{key:"isStaleByTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||!this.state.dataUpdatedAt||!h(this.state.dataUpdatedAt,e)}},{key:"onFocus",value:function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}},{key:"onOnline",value:function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}},{key:"addObserver",value:function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}},{key:"removeObserver",value:function(e){this.observers.includes(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}},{key:"getObserversCount",value:function(){return this.observers.length}},{key:"invalidate",value:function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}},{key:"fetch",value:function(e,t){var r,n,i=this;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return null==(o=this.retryer)||o.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var u=this.observers.find((function(e){return e.options.queryFn}));u&&this.setOptions(u.options)}var a=function(){if("function"==typeof AbortController)return new AbortController}(),s={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=function(e){Object.defineProperty(e,"signal",{enumerable:!0,get:function(){if(a)return i.abortSignalConsumed=!0,a.signal}})};c(s);var l,f={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(s)):Promise.reject("Missing queryFn for queryKey '"+i.options.queryHash+"'")}};c(f),null==(r=this.options.behavior)||r.onFetch(f),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(n=f.fetchOptions)?void 0:n.meta))&&this.dispatch({type:"fetch",meta:null==(l=f.fetchOptions)?void 0:l.meta});var h=function(e){var t,r,n,o;I(e)&&e.silent||i.dispatch({type:"error",error:e}),I(e)||(null==(t=(r=i.cache.config).onError)||t.call(r,e,i),null==(n=(o=i.cache.config).onSettled)||n.call(o,i.state.data,e,i)),i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1};return this.retryer=L({fn:f.fetchFn,abort:null==a?void 0:a.abort.bind(a),onSuccess:function(e){var t,r,n,o;void 0!==e?(i.setData(e),null==(t=(r=i.cache.config).onSuccess)||t.call(r,e,i),null==(n=(o=i.cache.config).onSettled)||n.call(o,e,i.state.error,i),i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1):h(new Error(i.queryHash+" data is undefined"))},onError:h,onFail:function(e,t){i.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode}),this.promise=this.retryer.promise,this.promise}},{key:"dispatch",value:function(e){var t=this;this.state=function(r){var n,i;switch(e.type){case"failed":return _objectSpread(_objectSpread({},r),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return _objectSpread(_objectSpread({},r),{},{fetchStatus:"paused"});case"continue":return _objectSpread(_objectSpread({},r),{},{fetchStatus:"fetching"});case"fetch":return _objectSpread(_objectSpread({},r),{},{fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(n=e.meta)?n:null,fetchStatus:T(t.options.networkMode)?"fetching":"paused"},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return _objectSpread(_objectSpread({},r),{},{data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:null!=(i=e.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":var o=e.error;return I(o)&&o.revert&&t.revertState?_objectSpread(_objectSpread({},t.revertState),{},{fetchStatus:"idle"}):_objectSpread(_objectSpread({},r),{},{error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"});case"invalidate":return _objectSpread(_objectSpread({},r),{},{isInvalidated:!0});case"setState":return _objectSpread(_objectSpread({},r),e.state)}}(this.state),K.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"updated",action:e})}))}}]),t}(H),G=function(e){function t(e){var r;return _classCallCheck(this,t),(r=_callSuper(this,t)).config=e||{},r.queries=[],r.queriesMap={},r}return _inherits(t,e),_createClass(t,[{key:"build",value:function(e,t,r){var n,i=t.queryKey,o=null!=(n=t.queryHash)?n:g(i,t),u=this.get(o);return u||(u=new N({cache:this,logger:e.getLogger(),queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}},{key:"add",value:function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}},{key:"remove",value:function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}},{key:"clear",value:function(){var e=this;K.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))}},{key:"get",value:function(e){return this.queriesMap[e]}},{key:"getAll",value:function(){return this.queries}},{key:"find",value:function(e,t){var r=_slicedToArray(p(e,t),1)[0];return void 0===r.exact&&(r.exact=!0),this.queries.find((function(e){return b(r,e)}))}},{key:"findAll",value:function(e,t){var r=_slicedToArray(p(e,t),1)[0];return Object.keys(r).length>0?this.queries.filter((function(e){return b(r,e)})):this.queries}},{key:"notify",value:function(e){var t=this;K.batch((function(){t.listeners.forEach((function(t){(0,t.listener)(e)}))}))}},{key:"onFocus",value:function(){var e=this;K.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))}},{key:"onOnline",value:function(){var e=this;K.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))}}]),t}(a),B=function(e){function t(e){var r;return _classCallCheck(this,t),(r=_callSuper(this,t)).defaultOptions=e.defaultOptions,r.mutationId=e.mutationId,r.mutationCache=e.mutationCache,r.logger=e.logger||U,r.observers=[],r.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},r.setOptions(e.options),r.scheduleGc(),r}var r;return _inherits(t,e),_createClass(t,[{key:"setOptions",value:function(e){this.options=_objectSpread(_objectSpread({},this.defaultOptions),e),this.updateCacheTime(this.options.cacheTime)}},{key:"meta",get:function(){return this.options.meta}},{key:"setState",value:function(e){this.dispatch({type:"setState",state:e})}},{key:"addObserver",value:function(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}},{key:"removeObserver",value:function(e){this.observers=this.observers.filter((function(t){return t!==e})),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}},{key:"optionalRemove",value:function(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}},{key:"continue",value:function(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}},{key:"execute",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,n,i,o,u,a,s,c,l,f,h,d,y,p,v,b,m,g,_,S,O,k,C,P=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e;return P.retryer=L({fn:function(){return P.options.mutationFn?P.options.mutationFn(P.state.variables):Promise.reject("No mutationFn found")},onFail:function(e,t){P.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){P.dispatch({type:"pause"})},onContinue:function(){P.dispatch({type:"continue"})},retry:null!=(e=P.options.retry)?e:0,retryDelay:P.options.retryDelay,networkMode:P.options.networkMode}),P.retryer.promise},r="loading"===this.state.status,e.prev=1,r){e.next=10;break}return this.dispatch({type:"loading",variables:this.options.variables}),e.next=6,null==(f=(h=this.mutationCache.config).onMutate)?void 0:f.call(h,this.state.variables,this);case 6:return e.next=8,null==(d=(y=this.options).onMutate)?void 0:d.call(y,this.state.variables);case 8:(p=e.sent)!==this.state.context&&this.dispatch({type:"loading",context:p,variables:this.state.variables});case 10:return e.next=12,t();case 12:return v=e.sent,e.next=15,null==(n=(i=this.mutationCache.config).onSuccess)?void 0:n.call(i,v,this.state.variables,this.state.context,this);case 15:return e.next=17,null==(o=(u=this.options).onSuccess)?void 0:o.call(u,v,this.state.variables,this.state.context);case 17:return e.next=19,null==(a=(s=this.mutationCache.config).onSettled)?void 0:a.call(s,v,null,this.state.variables,this.state.context,this);case 19:return e.next=21,null==(c=(l=this.options).onSettled)?void 0:c.call(l,v,null,this.state.variables,this.state.context);case 21:return this.dispatch({type:"success",data:v}),e.abrupt("return",v);case 25:return e.prev=25,e.t0=e.catch(1),e.prev=27,e.next=30,null==(b=(m=this.mutationCache.config).onError)?void 0:b.call(m,e.t0,this.state.variables,this.state.context,this);case 30:return e.next=32,null==(g=(_=this.options).onError)?void 0:g.call(_,e.t0,this.state.variables,this.state.context);case 32:return e.next=34,null==(S=(O=this.mutationCache.config).onSettled)?void 0:S.call(O,void 0,e.t0,this.state.variables,this.state.context,this);case 34:return e.next=36,null==(k=(C=this.options).onSettled)?void 0:k.call(C,void 0,e.t0,this.state.variables,this.state.context);case 36:throw e.t0;case 37:return e.prev=37,this.dispatch({type:"error",error:e.t0}),e.finish(37);case 40:case"end":return e.stop()}}),e,this,[[1,25],[27,,37,40]])}))),function(){return r.apply(this,arguments)})},{key:"dispatch",value:function(e){var t=this;this.state=function(r){switch(e.type){case"failed":return _objectSpread(_objectSpread({},r),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return _objectSpread(_objectSpread({},r),{},{isPaused:!0});case"continue":return _objectSpread(_objectSpread({},r),{},{isPaused:!1});case"loading":return _objectSpread(_objectSpread({},r),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!T(t.options.networkMode),status:"loading",variables:e.variables});case"success":return _objectSpread(_objectSpread({},r),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return _objectSpread(_objectSpread({},r),{},{data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"});case"setState":return _objectSpread(_objectSpread({},r),e.state)}}(this.state),K.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify({mutation:t,type:"updated",action:e})}))}}]),t}(H);var W=function(e){function t(e){var r;return _classCallCheck(this,t),(r=_callSuper(this,t)).config=e||{},r.mutations=[],r.mutationId=0,r}return _inherits(t,e),_createClass(t,[{key:"build",value:function(e,t,r){var n=new B({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(n),n}},{key:"add",value:function(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}},{key:"remove",value:function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),this.notify({type:"removed",mutation:e})}},{key:"clear",value:function(){var e=this;K.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))}},{key:"getAll",value:function(){return this.mutations}},{key:"find",value:function(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find((function(t){return m(e,t)}))}},{key:"findAll",value:function(e){return this.mutations.filter((function(t){return m(e,t)}))}},{key:"notify",value:function(e){var t=this;K.batch((function(){t.listeners.forEach((function(t){(0,t.listener)(e)}))}))}},{key:"resumePausedMutations",value:function(){var e,t=this;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then((function(){var e=t.mutations.filter((function(e){return e.state.isPaused}));return K.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(c)}))}),Promise.resolve())}))})).then((function(){t.resuming=void 0})),this.resuming}}]),t}(a);function z(){return{onFetch:function(e){e.fetchFn=function(){var t,r,n,i,o,u,a,s=null==(t=e.fetchOptions)||null==(r=t.meta)?void 0:r.refetchPage,c=null==(n=e.fetchOptions)||null==(i=n.meta)?void 0:i.fetchMore,l=null==c?void 0:c.pageParam,f="forward"===(null==c?void 0:c.direction),h="backward"===(null==c?void 0:c.direction),d=(null==(o=e.state.data)?void 0:o.pages)||[],y=(null==(u=e.state.data)?void 0:u.pageParams)||[],p=y,v=!1,b=e.options.queryFn||function(){return Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")},m=function(e,t,r,n){return p=n?[t].concat(_toConsumableArray(p)):[].concat(_toConsumableArray(p),[t]),n?[r].concat(_toConsumableArray(e)):[].concat(_toConsumableArray(e),[r])},g=function(t,r,n,i){if(v)return Promise.reject("Cancelled");if(void 0===n&&!r&&t.length)return Promise.resolve(t);var o,u={queryKey:e.queryKey,pageParam:n,meta:e.options.meta};o=u,Object.defineProperty(o,"signal",{enumerable:!0,get:function(){var t,r;return null!=(t=e.signal)&&t.aborted?v=!0:null==(r=e.signal)||r.addEventListener("abort",(function(){v=!0})),e.signal}});var a=b(u);return Promise.resolve(a).then((function(e){return m(t,n,e,i)}))};if(d.length)if(f){var _=void 0!==l,S=_?l:Y(e.options,d);a=g(d,_,S)}else if(h){var O=void 0!==l,k=O?l:J(e.options,d);a=g(d,O,k,!0)}else{p=[];var C=void 0===e.options.getNextPageParam;a=s&&d[0]&&!s(d[0],0,d)?Promise.resolve(m([],y[0],d[0])):g([],C,y[0]);for(var P=function(t){a=a.then((function(r){if(!s||!d[t]||s(d[t],t,d)){var n=C?y[t]:Y(e.options,r);return g(r,C,n)}return Promise.resolve(m(r,y[t],d[t]))}))},w=1;w<d.length;w++)P(w)}else a=g([]);return a.then((function(e){return{pages:e,pageParams:p}}))}}}}function Y(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function J(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}function V(e,t){if(e.getNextPageParam&&Array.isArray(t)){var r=Y(e,t);return null!=r&&!1!==r}}function $(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){var r=J(e,t);return null!=r&&!1!==r}}var X=function(e){function t(e,r){var n;return _classCallCheck(this,t),(n=_callSuper(this,t)).client=e,n.options=r,n.trackedProps=new Set,n.selectError=null,n.bindMethods(),n.setOptions(r),n}return _inherits(t,e),_createClass(t,[{key:"bindMethods",value:function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){1===this.listeners.size&&(this.currentQuery.addObserver(this),Z(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}},{key:"onUnsubscribe",value:function(){this.hasListeners()||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return ee(this.currentQuery,this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return ee(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}},{key:"setOptions",value:function(e,t){var r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),C(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();var i=this.hasListeners();i&&te(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(t),!i||this.currentQuery===n&&this.options.enabled===r.enabled&&this.options.staleTime===r.staleTime||this.updateStaleTimeout();var o=this.computeRefetchInterval();!i||this.currentQuery===n&&this.options.enabled===r.enabled&&o===this.currentRefetchInterval||this.updateRefetchInterval(o)}},{key:"getOptimisticResult",value:function(e){var t=this.client.getQueryCache().build(this.client,e),r=this.createResult(t,e);return function(e,t,r){return!r.keepPreviousData&&(void 0!==r.placeholderData?t.isPlaceholderData:!C(e.getCurrentResult(),t))}(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"trackResult",value:function(e){var t=this,r={};return Object.keys(e).forEach((function(n){Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:function(){return t.trackedProps.add(n),e[n]}})})),r}},{key:"getCurrentQuery",value:function(){return this.currentQuery}},{key:"remove",value:function(){this.client.getQueryCache().remove(this.currentQuery)}},{key:"refetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refetchPage,r=_objectWithoutProperties(e,_excluded);return this.fetch(_objectSpread(_objectSpread({},r),{},{meta:{refetchPage:t}}))}},{key:"fetchOptimistic",value:function(e){var t=this,r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then((function(){return t.createResult(n,r)}))}},{key:"fetch",value:function(e){var t,r=this;return this.executeFetch(_objectSpread(_objectSpread({},e),{},{cancelRefetch:null==(t=e.cancelRefetch)||t})).then((function(){return r.updateResult(),r.currentResult}))}},{key:"executeFetch",value:function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(c)),t}},{key:"updateStaleTimeout",value:function(){var e=this;if(this.clearStaleTimeout(),!s&&!this.currentResult.isStale&&l(this.options.staleTime)){var t=h(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}}},{key:"computeRefetchInterval",value:function(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}},{key:"updateRefetchInterval",value:function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!s&&!1!==this.options.enabled&&l(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||Q.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))}},{key:"updateTimers",value:function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}},{key:"clearStaleTimeout",value:function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}},{key:"clearRefetchInterval",value:function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}},{key:"createResult",value:function(e,t){var r,n=this.currentQuery,i=this.options,o=this.currentResult,u=this.currentResultState,a=this.currentResultOptions,s=e!==n,c=s?e.state:this.currentQueryInitialState,l=s?this.currentResult:this.previousQueryResult,f=e.state,h=f.dataUpdatedAt,d=f.error,y=f.errorUpdatedAt,p=f.fetchStatus,v=f.status,b=!1,m=!1;if(t._optimisticResults){var g=this.hasListeners(),_=!g&&Z(e,t),S=g&&te(e,n,t,i);(_||S)&&(p=T(e.options.networkMode)?"fetching":"paused",h||(v="loading")),"isRestoring"===t._optimisticResults&&(p="idle")}if(t.keepPreviousData&&!f.dataUpdatedAt&&null!=l&&l.isSuccess&&"error"!==v)r=l.data,h=l.dataUpdatedAt,v=l.status,b=!0;else if(t.select&&void 0!==f.data)if(o&&f.data===(null==u?void 0:u.data)&&t.select===this.selectFn)r=this.selectResult;else try{this.selectFn=t.select,r=t.select(f.data),r=q(null==o?void 0:o.data,r,t),this.selectResult=r,this.selectError=null}catch(e){this.selectError=e}else r=f.data;if(void 0!==t.placeholderData&&void 0===r&&"loading"===v){var O;if(null!=o&&o.isPlaceholderData&&t.placeholderData===(null==a?void 0:a.placeholderData))O=o.data;else if(O="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==O)try{O=t.select(O),this.selectError=null}catch(e){this.selectError=e}void 0!==O&&(v="success",r=q(null==o?void 0:o.data,O,t),m=!0)}this.selectError&&(d=this.selectError,r=this.selectResult,y=Date.now(),v="error");var k="fetching"===p,C="loading"===v,P="error"===v;return{status:v,fetchStatus:p,isLoading:C,isSuccess:"success"===v,isError:P,isInitialLoading:C&&k,data:r,dataUpdatedAt:h,error:d,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:k,isRefetching:k&&!C,isLoadingError:P&&0===f.dataUpdatedAt,isPaused:"paused"===p,isPlaceholderData:m,isPreviousData:b,isRefetchError:P&&0!==f.dataUpdatedAt,isStale:re(e,t),refetch:this.refetch,remove:this.remove}}},{key:"updateResult",value:function(e){var t=this,r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!C(n,r)){this.currentResult=n;var i={cache:!0};!1!==(null==e?void 0:e.listeners)&&function(){if(!r)return!0;var e=t.options.notifyOnChangeProps,n="function"==typeof e?e():e;if("all"===n||!n&&!t.trackedProps.size)return!0;var i=new Set(null!=n?n:t.trackedProps);return t.options.useErrorBoundary&&i.add("error"),Object.keys(t.currentResult).some((function(e){var n=e;return t.currentResult[n]!==r[n]&&i.has(n)}))}()&&(i.listeners=!0),this.notify(_objectSpread(_objectSpread({},i),e))}}},{key:"updateQuery",value:function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}}},{key:"onQueryUpdate",value:function(e){var t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||I(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}},{key:"notify",value:function(e){var t=this;K.batch((function(){var r,n,i,o;if(e.onSuccess)null==(r=(n=t.options).onSuccess)||r.call(n,t.currentResult.data),null==(i=(o=t.options).onSettled)||i.call(o,t.currentResult.data,null);else if(e.onError){var u,a,s,c;null==(u=(a=t.options).onError)||u.call(a,t.currentResult.error),null==(s=(c=t.options).onSettled)||s.call(c,void 0,t.currentResult.error)}e.listeners&&t.listeners.forEach((function(e){(0,e.listener)(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))}}]),t}(a);function Z(e,t){return function(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&ee(e,t,t.refetchOnMount)}function ee(e,t,r){if(!1!==t.enabled){var n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&re(e,t)}return!1}function te(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&re(e,r)}function re(e,t){return e.isStaleByTime(t.staleTime)}var ne=function(e){function t(e,r){var n;return _classCallCheck(this,t),(n=_callSuper(this,t)).client=e,n.queries=[],n.result=[],n.observers=[],n.observersMap={},r&&n.setQueries(r),n}return _inherits(t,e),_createClass(t,[{key:"onSubscribe",value:function(){var e=this;1===this.listeners.size&&this.observers.forEach((function(t){t.subscribe((function(r){e.onUpdate(t,r)}))}))}},{key:"onUnsubscribe",value:function(){this.listeners.size||this.destroy()}},{key:"destroy",value:function(){this.listeners=new Set,this.observers.forEach((function(e){e.destroy()}))}},{key:"setQueries",value:function(e,t){var r=this;this.queries=e,K.batch((function(){var e=r.observers,n=r.findMatchingObservers(r.queries);n.forEach((function(e){return e.observer.setOptions(e.defaultedQueryOptions,t)}));var i=n.map((function(e){return e.observer})),o=Object.fromEntries(i.map((function(e){return[e.options.queryHash,e]}))),u=i.map((function(e){return e.getCurrentResult()})),a=i.some((function(t,r){return t!==e[r]}));(e.length!==i.length||a)&&(r.observers=i,r.observersMap=o,r.result=u,r.hasListeners()&&(f(e,i).forEach((function(e){e.destroy()})),f(i,e).forEach((function(e){e.subscribe((function(t){r.onUpdate(e,t)}))})),r.notify()))}))}},{key:"getCurrentResult",value:function(){return this.result}},{key:"getQueries",value:function(){return this.observers.map((function(e){return e.getCurrentQuery()}))}},{key:"getObservers",value:function(){return this.observers}},{key:"getOptimisticResult",value:function(e){return this.findMatchingObservers(e).map((function(e){return e.observer.getOptimisticResult(e.defaultedQueryOptions)}))}},{key:"findMatchingObservers",value:function(e){var t=this,r=this.observers,n=new Map(r.map((function(e){return[e.options.queryHash,e]}))),i=e.map((function(e){return t.client.defaultQueryOptions(e)})),o=i.flatMap((function(e){var t=n.get(e.queryHash);return null!=t?[{defaultedQueryOptions:e,observer:t}]:[]})),u=new Set(o.map((function(e){return e.defaultedQueryOptions.queryHash}))),a=i.filter((function(e){return!u.has(e.queryHash)})),s=new Set(o.map((function(e){return e.observer}))),c=r.filter((function(e){return!s.has(e)})),l=function(e){var r=t.client.defaultQueryOptions(e),n=t.observersMap[r.queryHash];return null!=n?n:new X(t.client,r)},f=a.map((function(e,t){if(e.keepPreviousData){var r=c[t];if(void 0!==r)return{defaultedQueryOptions:e,observer:r}}return{defaultedQueryOptions:e,observer:l(e)}}));return o.concat(f).sort((function(e,t){return i.indexOf(e.defaultedQueryOptions)-i.indexOf(t.defaultedQueryOptions)}))}},{key:"onUpdate",value:function(e,t){var r=this.observers.indexOf(e);-1!==r&&(this.result=function(e,t,r){var n=e.slice(0);return n[t]=r,n}(this.result,r,t),this.notify())}},{key:"notify",value:function(){var e=this;K.batch((function(){e.listeners.forEach((function(t){(0,t.listener)(e.result)}))}))}}]),t}(a),ie=function(e){function t(e,r){return _classCallCheck(this,t),_callSuper(this,t,[e,r])}return _inherits(t,e),_createClass(t,[{key:"bindMethods",value:function(){_get(_getPrototypeOf(t.prototype),"bindMethods",this).call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}},{key:"setOptions",value:function(e,r){_get(_getPrototypeOf(t.prototype),"setOptions",this).call(this,_objectSpread(_objectSpread({},e),{},{behavior:z()}),r)}},{key:"getOptimisticResult",value:function(e){return e.behavior=z(),_get(_getPrototypeOf(t.prototype),"getOptimisticResult",this).call(this,e)}},{key:"fetchNextPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageParam,r=_objectWithoutProperties(e,_excluded2);return this.fetch(_objectSpread(_objectSpread({},r),{},{meta:{fetchMore:{direction:"forward",pageParam:t}}}))}},{key:"fetchPreviousPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageParam,r=_objectWithoutProperties(e,_excluded3);return this.fetch(_objectSpread(_objectSpread({},r),{},{meta:{fetchMore:{direction:"backward",pageParam:t}}}))}},{key:"createResult",value:function(e,r){var n,i,o,u,a,s,c=e.state,l=_get(_getPrototypeOf(t.prototype),"createResult",this).call(this,e,r),f=l.isFetching,h=l.isRefetching,d=f&&"forward"===(null==(n=c.fetchMeta)||null==(i=n.fetchMore)?void 0:i.direction),y=f&&"backward"===(null==(o=c.fetchMeta)||null==(u=o.fetchMore)?void 0:u.direction);return _objectSpread(_objectSpread({},l),{},{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:V(r,null==(a=c.data)?void 0:a.pages),hasPreviousPage:$(r,null==(s=c.data)?void 0:s.pages),isFetchingNextPage:d,isFetchingPreviousPage:y,isRefetching:h&&!d&&!y})}}]),t}(X),oe=function(e){function t(e,r){var n;return _classCallCheck(this,t),(n=_callSuper(this,t)).client=e,n.setOptions(r),n.bindMethods(),n.updateResult(),n}return _inherits(t,e),_createClass(t,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(e){var t,r=this.options;this.options=this.client.defaultMutationOptions(e),C(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||null==(e=this.currentMutation)||e.removeObserver(this)}},{key:"onMutationUpdate",value:function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"reset",value:function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}},{key:"mutate",value:function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,_objectSpread(_objectSpread({},this.options),{},{variables:void 0!==e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}},{key:"updateResult",value:function(){var e=this.currentMutation?this.currentMutation.state:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},t=_objectSpread(_objectSpread({},e),{},{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset});this.currentResult=t}},{key:"notify",value:function(e){var t=this;K.batch((function(){var r,n,i,o;if(t.mutateOptions&&t.hasListeners())if(e.onSuccess)null==(r=(n=t.mutateOptions).onSuccess)||r.call(n,t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==(i=(o=t.mutateOptions).onSettled)||i.call(o,t.currentResult.data,null,t.currentResult.variables,t.currentResult.context);else if(e.onError){var u,a,s,c;null==(u=(a=t.mutateOptions).onError)||u.call(a,t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==(s=(c=t.mutateOptions).onSettled)||s.call(c,void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context)}e.listeners&&t.listeners.forEach((function(e){(0,e.listener)(t.currentResult)}))}))}}]),t}(a);function ue(e){return e.state.isPaused}function ae(e){return"success"===e.state.status}function se(e,t,r){if("object"==_typeof(t)&&null!==t){var n=e.getMutationCache(),i=e.getQueryCache(),o=t.mutations||[],u=t.queries||[];o.forEach((function(t){var i;n.build(e,_objectSpread(_objectSpread({},null==r||null==(i=r.defaultOptions)?void 0:i.mutations),{},{mutationKey:t.mutationKey}),t.state)})),u.forEach((function(t){var n,o=t.queryKey,u=t.state,a=t.queryHash,s=i.get(a);if(s){if(s.state.dataUpdatedAt<u.dataUpdatedAt){u.fetchStatus;var c=_objectWithoutProperties(u,_excluded4);s.setState(c)}}else i.build(e,_objectSpread(_objectSpread({},null==r||null==(n=r.defaultOptions)?void 0:n.queries),{},{queryKey:o,queryHash:a}),_objectSpread(_objectSpread({},u),{},{fetchStatus:"idle"}))}))}}var ce=i.unstable_batchedUpdates;K.setBatchNotifyFunction(ce);var le,fe={exports:{}},he={};!function(e){e.exports=function(){if(le)return he;le=1;var e=o.default,t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=e.useState,n=e.useEffect,i=e.useLayoutEffect,u=e.useDebugValue;function a(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!t(e,n)}catch(e){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),s=r({inst:{value:o,getSnapshot:t}}),c=s[0].inst,l=s[1];return i((function(){c.value=o,c.getSnapshot=t,a(c)&&l({inst:c})}),[e,o,t]),n((function(){return a(c)&&l({inst:c}),e((function(){a(c)&&l({inst:c})}))}),[e]),u(o),o};return he.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:s,he}()}(fe);var de=fe.exports.useSyncExternalStore,ye=u.createContext(void 0),pe=u.createContext(!1);function ve(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ye),window.ReactQueryClientContext):ye)}var be=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).context,t=u.useContext(ve(e,u.useContext(pe)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},me=u.createContext(!1),ge=function(){return u.useContext(me)},_e=me.Provider;function Se(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var Oe=u.createContext(Se()),ke=function(){return u.useContext(Oe)};function Ce(e,t){return"function"==typeof e?e.apply(void 0,_toConsumableArray(t)):!!e}var Pe=function(e,t){(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},we=function(e){u.useEffect((function(){e.clearReset()}),[e])},je=function(e){var t=e.result,r=e.errorResetBoundary,n=e.useErrorBoundary,i=e.query;return t.isError&&!r.isReset()&&!t.isFetching&&Ce(n,[t.error,i])},Re=function(e){e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},Ee=function(e,t){return e.isLoading&&e.isFetching&&!t},xe=function(e,t,r){return(null==e?void 0:e.suspense)&&Ee(t,r)},qe=function(e,t,r){return t.fetchOptimistic(e).then((function(t){var r=t.data;null==e.onSuccess||e.onSuccess(r),null==e.onSettled||e.onSettled(r,null)})).catch((function(t){r.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}))};function Qe(e,t){var r=be({context:e.context}),n=ge(),i=ke(),o=r.defaultQueryOptions(e);o._optimisticResults=n?"isRestoring":"optimistic",o.onError&&(o.onError=K.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=K.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=K.batchCalls(o.onSettled)),Re(o),Pe(o,i),we(i);var a=_slicedToArray(u.useState((function(){return new t(r,o)})),1)[0],s=a.getOptimisticResult(o);if(de(u.useCallback((function(e){var t=n?function(){}:a.subscribe(K.batchCalls(e));return a.updateResult(),t}),[a,n]),(function(){return a.getCurrentResult()}),(function(){return a.getCurrentResult()})),u.useEffect((function(){a.setOptions(o,{listeners:!1})}),[o,a]),xe(o,s,n))throw qe(o,a,i);if(je({result:s,errorResetBoundary:i,useErrorBoundary:o.useErrorBoundary,query:a.getCurrentQuery()}))throw s.error;return o.notifyOnChangeProps?s:a.trackResult(s)}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=be({context:t.context}),n=u.useRef(t);n.current=t,u.useMemo((function(){e&&se(r,e,n.current)}),[r,e])}function Me(){}e.CancelledError=D,e.Hydrate=function(e){var t=e.children,r=e.options;return Ae(e.state,r),t},e.InfiniteQueryObserver=ie,e.IsRestoringProvider=_e,e.MutationCache=W,e.MutationObserver=oe,e.QueriesObserver=ne,e.Query=N,e.QueryCache=G,e.QueryClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.queryCache=t.queryCache||new G,this.mutationCache=t.mutationCache||new W,this.logger=t.logger||U,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}return _createClass(e,[{key:"mount",value:function(){var e=this;this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=Q.subscribe((function(){Q.isFocused()&&(e.resumePausedMutations(),e.queryCache.onFocus())})),this.unsubscribeOnline=M.subscribe((function(){M.isOnline()&&(e.resumePausedMutations(),e.queryCache.onOnline())})))}},{key:"unmount",value:function(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}},{key:"isFetching",value:function(e,t){var r=_slicedToArray(p(e,t),1)[0];return r.fetchStatus="fetching",this.queryCache.findAll(r).length}},{key:"isMutating",value:function(e){return this.mutationCache.findAll(_objectSpread(_objectSpread({},e),{},{fetching:!0})).length}},{key:"getQueryData",value:function(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state.data}},{key:"ensureQueryData",value:function(e,t,r){var n=d(e,t,r),i=this.getQueryData(n.queryKey);return i?Promise.resolve(i):this.fetchQuery(n)}},{key:"getQueriesData",value:function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))}},{key:"setQueryData",value:function(e,t,r){var n=this.queryCache.find(e),i=function(e,t){return"function"==typeof e?e(t):e}(t,null==n?void 0:n.state.data);if(void 0!==i){var o=d(e),u=this.defaultQueryOptions(o);return this.queryCache.build(this,u).setData(i,_objectSpread(_objectSpread({},r),{},{manual:!0}))}}},{key:"setQueriesData",value:function(e,t,r){var n=this;return K.batch((function(){return n.getQueryCache().findAll(e).map((function(e){var i=e.queryKey;return[i,n.setQueryData(i,t,r)]}))}))}},{key:"getQueryState",value:function(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state}},{key:"removeQueries",value:function(e,t){var r=_slicedToArray(p(e,t),1)[0],n=this.queryCache;K.batch((function(){n.findAll(r).forEach((function(e){n.remove(e)}))}))}},{key:"resetQueries",value:function(e,t,r){var n=this,i=_slicedToArray(p(e,t,r),2),o=i[0],u=i[1],a=this.queryCache,s=_objectSpread({type:"active"},o);return K.batch((function(){return a.findAll(o).forEach((function(e){e.reset()})),n.refetchQueries(s,u)}))}},{key:"cancelQueries",value:function(e,t,r){var n=this,i=_slicedToArray(p(e,t,r),2),o=i[0],u=i[1],a=void 0===u?{}:u;void 0===a.revert&&(a.revert=!0);var s=K.batch((function(){return n.queryCache.findAll(o).map((function(e){return e.cancel(a)}))}));return Promise.all(s).then(c).catch(c)}},{key:"invalidateQueries",value:function(e,t,r){var n=this,i=_slicedToArray(p(e,t,r),2),o=i[0],u=i[1];return K.batch((function(){var e,t;if(n.queryCache.findAll(o).forEach((function(e){e.invalidate()})),"none"===o.refetchType)return Promise.resolve();var r=_objectSpread(_objectSpread({},o),{},{type:null!=(e=null!=(t=o.refetchType)?t:o.type)?e:"active"});return n.refetchQueries(r,u)}))}},{key:"refetchQueries",value:function(e,t,r){var n=this,i=_slicedToArray(p(e,t,r),2),o=i[0],u=i[1],a=K.batch((function(){return n.queryCache.findAll(o).filter((function(e){return!e.isDisabled()})).map((function(e){var t;return e.fetch(void 0,_objectSpread(_objectSpread({},u),{},{cancelRefetch:null==(t=null==u?void 0:u.cancelRefetch)||t,meta:{refetchPage:o.refetchPage}}))}))})),s=Promise.all(a).then(c);return null!=u&&u.throwOnError||(s=s.catch(c)),s}},{key:"fetchQuery",value:function(e,t,r){var n=d(e,t,r),i=this.defaultQueryOptions(n);void 0===i.retry&&(i.retry=!1);var o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}},{key:"prefetchQuery",value:function(e,t,r){return this.fetchQuery(e,t,r).then(c).catch(c)}},{key:"fetchInfiniteQuery",value:function(e,t,r){var n=d(e,t,r);return n.behavior=z(),this.fetchQuery(n)}},{key:"prefetchInfiniteQuery",value:function(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(c).catch(c)}},{key:"resumePausedMutations",value:function(){return this.mutationCache.resumePausedMutations()}},{key:"getQueryCache",value:function(){return this.queryCache}},{key:"getMutationCache",value:function(){return this.mutationCache}},{key:"getLogger",value:function(){return this.logger}},{key:"getDefaultOptions",value:function(){return this.defaultOptions}},{key:"setDefaultOptions",value:function(e){this.defaultOptions=e}},{key:"setQueryDefaults",value:function(e,t){var r=this.queryDefaults.find((function(t){return _(e)===_(t.queryKey)}));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}},{key:"getQueryDefaults",value:function(e){if(e){var t=this.queryDefaults.find((function(t){return S(e,t.queryKey)}));return null==t?void 0:t.defaultOptions}}},{key:"setMutationDefaults",value:function(e,t){var r=this.mutationDefaults.find((function(t){return _(e)===_(t.mutationKey)}));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}},{key:"getMutationDefaults",value:function(e){if(e){var t=this.mutationDefaults.find((function(t){return S(e,t.mutationKey)}));return null==t?void 0:t.defaultOptions}}},{key:"defaultQueryOptions",value:function(e){if(null!=e&&e._defaulted)return e;var t=_objectSpread(_objectSpread(_objectSpread(_objectSpread({},this.defaultOptions.queries),this.getQueryDefaults(null==e?void 0:e.queryKey)),e),{},{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=g(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}},{key:"defaultMutationOptions",value:function(e){return null!=e&&e._defaulted?e:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},this.defaultOptions.mutations),this.getMutationDefaults(null==e?void 0:e.mutationKey)),e),{},{_defaulted:!0})}},{key:"clear",value:function(){this.queryCache.clear(),this.mutationCache.clear()}}]),e}(),e.QueryClientProvider=function(e){var t=e.client,r=e.children,n=e.context,i=e.contextSharing,o=void 0!==i&&i;u.useEffect((function(){return t.mount(),function(){t.unmount()}}),[t]);var a=ve(n,o);return u.createElement(pe.Provider,{value:!n&&o},u.createElement(a.Provider,{value:t},r))},e.QueryErrorResetBoundary=function(e){var t=e.children,r=_slicedToArray(u.useState((function(){return Se()})),1)[0];return u.createElement(Oe.Provider,{value:r},"function"==typeof t?t(r):t)},e.QueryObserver=X,e.defaultContext=ye,e.defaultShouldDehydrateMutation=ue,e.defaultShouldDehydrateQuery=ae,e.dehydrate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=[];if(!1!==t.dehydrateMutations){var i=t.shouldDehydrateMutation||ue;e.getMutationCache().getAll().forEach((function(e){i(e)&&r.push(function(e){return{mutationKey:e.options.mutationKey,state:e.state}}(e))}))}if(!1!==t.dehydrateQueries){var o=t.shouldDehydrateQuery||ae;e.getQueryCache().getAll().forEach((function(e){o(e)&&n.push(function(e){return{state:e.state,queryKey:e.queryKey,queryHash:e.queryHash}}(e))}))}return{mutations:r,queries:n}},e.focusManager=Q,e.hashQueryKey=_,e.hydrate=se,e.isCancelledError=I,e.isError=function(e){return e instanceof Error},e.isServer=s,e.matchQuery=b,e.notifyManager=K,e.onlineManager=M,e.parseFilterArgs=p,e.parseMutationArgs=y,e.parseMutationFilterArgs=v,e.parseQueryArgs=d,e.replaceEqualDeep=k,e.useHydrate=Ae,e.useInfiniteQuery=function(e,t,r){return Qe(d(e,t,r),ie)},e.useIsFetching=function(e,t,r){var n=_slicedToArray(p(e,t,r),2),i=n[0],o=n[1],a=be({context:(void 0===o?{}:o).context}),s=a.getQueryCache();return de(u.useCallback((function(e){return s.subscribe(K.batchCalls(e))}),[s]),(function(){return a.isFetching(i)}),(function(){return a.isFetching(i)}))},e.useIsMutating=function(e,t,r){var n=_slicedToArray(v(e,t,r),2),i=n[0],o=n[1],a=be({context:(void 0===o?{}:o).context}),s=a.getMutationCache();return de(u.useCallback((function(e){return s.subscribe(K.batchCalls(e))}),[s]),(function(){return a.isMutating(i)}),(function(){return a.isMutating(i)}))},e.useIsRestoring=ge,e.useMutation=function(e,t,r){var n=y(e,t,r),i=be({context:n.context}),o=_slicedToArray(u.useState((function(){return new oe(i,n)})),1)[0];u.useEffect((function(){o.setOptions(n)}),[o,n]);var a=de(u.useCallback((function(e){return o.subscribe(K.batchCalls(e))}),[o]),(function(){return o.getCurrentResult()}),(function(){return o.getCurrentResult()})),s=u.useCallback((function(e,t){o.mutate(e,t).catch(Me)}),[o]);if(a.error&&Ce(o.options.useErrorBoundary,[a.error]))throw a.error;return _objectSpread(_objectSpread({},a),{},{mutate:s,mutateAsync:a.mutate})},e.useQueries=function(e){var t=e.queries,r=e.context,n=be({context:r}),i=ge(),o=ke(),a=u.useMemo((function(){return t.map((function(e){var t=n.defaultQueryOptions(e);return t._optimisticResults=i?"isRestoring":"optimistic",t}))}),[t,n,i]);a.forEach((function(e){Re(e),Pe(e,o)})),we(o);var s=_slicedToArray(u.useState((function(){return new ne(n,a)})),1)[0],c=s.getOptimisticResult(a);de(u.useCallback((function(e){return i?function(){}:s.subscribe(K.batchCalls(e))}),[s,i]),(function(){return s.getCurrentResult()}),(function(){return s.getCurrentResult()})),u.useEffect((function(){s.setQueries(a,{listeners:!1})}),[a,s]);var l=c.some((function(e,t){return xe(a[t],e,i)}))?c.flatMap((function(e,t){var r=a[t],n=s.getObservers()[t];if(r&&n){if(xe(r,e,i))return qe(r,n,o);Ee(e,i)&&qe(r,n,o)}return[]})):[];if(l.length>0)throw Promise.all(l);var f=s.getQueries(),h=c.find((function(e,t){var r,n;return je({result:e,errorResetBoundary:o,useErrorBoundary:null!=(r=null==(n=a[t])?void 0:n.useErrorBoundary)&&r,query:f[t]})}));if(null!=h&&h.error)throw h.error;return c},e.useQuery=function(e,t,r){return Qe(d(e,t,r),X)},e.useQueryClient=be,e.useQueryErrorResetBoundary=ke,Object.defineProperty(e,"__esModule",{value:!0})}));