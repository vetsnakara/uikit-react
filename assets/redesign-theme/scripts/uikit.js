function ownKeys(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach(function(t){_defineProperty2(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function _defineProperty2(t,e,i){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _typeof2(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass2(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof2(t)?t:String(t)}function _toPrimitive(t,e){if("object"!=_typeof2(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===e?String:Number)(t);i=i.call(t,e||"default");if("object"!=_typeof2(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}!function(i){var n="banner-animate-init",s="banner__image_hide",e=".banner-new__images",o=".banner-new__image",a=function(){function e(t){_classCallCheck2(this,e),this.$el=i(t),this.currentImage=0,this.imageList=[].slice.call(this.$el.get(0).querySelectorAll(o)),this.interval=this.$el.data("animate-interval")||5e3,this.imageList.length&&1<this.imageList.length&&(this.imageList=this.imageList.reverse(),this.startAnimate())}return _createClass2(e,[{key:"startAnimate",value:function(){var t=this;_.each(_.range(1,this.imageList.length),function(t){return i(t).addClass(s)}),setInterval(function(){t.animateTick()},this.interval)}},{key:"animateTick",value:function(){var t=this.currentImage;i(this.imageList[this.currentImage]).addClass(s),t=t===this.imageList.length-1?0:t+1,i(this.imageList[t]).removeClass(s),this.currentImage=t}}]),e}();i(document).ready(function(){var t=[].slice.call(document.querySelectorAll(e));_.each(t,function(t){var e=i(t);e.data(n)||e.data(n,!!new a(t))})})}(jQuery,Util),!function(i){var n="banner-animate-init",s="banner__image_hide",e=".banner__container",o=".banner__image",a=function(){function e(t){_classCallCheck2(this,e),this.$el=i(t),this.currentImage=0,this.imageList=[].slice.call(this.$el.get(0).querySelectorAll(o)),this.interval=this.$el.data("animate-interval")||5e3,this.imageList.length&&1<this.imageList.length&&(this.imageList=this.imageList.reverse(),this.startAnimate())}return _createClass2(e,[{key:"startAnimate",value:function(){var t=this;_.each(_.range(1,this.imageList.length),function(t){return i(t).addClass(s)}),setInterval(function(){t.animateTick()},this.interval)}},{key:"animateTick",value:function(){var t=this.currentImage;i(this.imageList[this.currentImage]).addClass(s),t=t===this.imageList.length-1?0:t+1,i(this.imageList[t]).removeClass(s),this.currentImage=t}}]),e}();i(document).ready(function(){var t=[].slice.call(document.querySelectorAll(e));_.each(t,function(t){var e=i(t);e.data(n)||e.data(n,!!new a(t))})})}(jQuery,Util),!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof2(module))?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?exports.ClipboardJS=e():t.ClipboardJS=e()}(window,function(){return i=[function(t,e){t.exports=function(t){var e,i;return t="SELECT"===t.nodeName?(t.focus(),t.value):"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName?((e=t.hasAttribute("readonly"))||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),e||t.removeAttribute("readonly"),t.value):(t.hasAttribute("contenteditable")&&t.focus(),e=window.getSelection(),(i=document.createRange()).selectNodeContents(t),e.removeAllRanges(),e.addRange(i),e.toString())}},function(t,e){function i(){}i.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function s(){n.off(t,s),e.apply(i,arguments)}return s._=e,this.on(t,s,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;n<s;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&e)for(var o=0,a=n.length;o<a;o++)n[o].fn!==e&&n[o].fn._!==e&&s.push(n[o]);return s.length?i[t]=s:delete i[t],this}},t.exports=i,t.exports.TinyEmitter=i},function(t,e,i){var c=i(3),h=i(4);t.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(i))throw new TypeError("Third argument must be a Function");if(c.node(t))return r=e,l=i,(a=t).addEventListener(r,l),{destroy:function(){a.removeEventListener(r,l)}};if(c.nodeList(t))return n=t,s=e,o=i,Array.prototype.forEach.call(n,function(t){t.addEventListener(s,o)}),{destroy:function(){Array.prototype.forEach.call(n,function(t){t.removeEventListener(s,o)})}};if(c.string(t))return h(document.body,t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var n,s,o,a,r,l}},function(t,i){i.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},i.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||i.node(t[0]))},i.string=function(t){return"string"==typeof t||t instanceof String},i.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,i){var a=i(5);function o(t,e,i,n,s){var o=function(e,i,t,n){return function(t){t.delegateTarget=a(t.target,i),t.delegateTarget&&n.call(e,t)}}.apply(this,arguments);return t.addEventListener(i,o,s),{destroy:function(){t.removeEventListener(i,o,s)}}}t.exports=function(t,e,i,n,s){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof i?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return o(t,e,i,n,s)}))}},function(t,e){var i;"undefined"==typeof Element||Element.prototype.matches||((i=Element.prototype).matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector),t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,i){"use strict";i.r(e);var n=i(0),s=i.n(n),o="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.resolveOptions(t),this.initSelection()}(function(t,e,i){e&&a(t.prototype,e),i&&a(t,i)})(r,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir"),e=(this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",window.pageYOffset||document.documentElement.scrollTop);this.fakeElem.style.top=e+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=s()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=s()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]);var l=r,n=i(1),n=i.n(n),c=i(2),h=i.n(c),d="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},u=function(t,e,i){return e&&p(t.prototype,e),i&&p(t,i),t};function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t));function n(t,e){var i;if(this instanceof n)return(i=function(t,e){if(t)return!e||"object"!==_typeof2(e)&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))).resolveOptions(e),i.listenClick(t),i;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),u(n,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===d(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=h()(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){t=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(t){return f("action",t)}},{key:"defaultTarget",value:function(t){t=f("target",t);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(t){return f("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof t?[t]:t,e=!!document.queryCommandSupported;return t.forEach(function(t){e=e&&!!document.queryCommandSupported(t)}),e}}]),n}(n.a);function f(t,e){t="data-clipboard-"+t;if(e.hasAttribute(t))return e.getAttribute(t)}e.default=i}],n={},s.m=i,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===_typeof2(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=6).default;function s(t){var e;return(n[t]||(e=n[t]={i:t,l:!1,exports:{}},i[t].call(e.exports,e,e.exports,s),e.l=!0,e)).exports}var i,n}),!function(c,a){function i(t){t=c(t),this.$element=t,this.selector=null,this._isExpanded=!t.hasClass(l),(this._isExpanded?this.$element.removeClass(l):this.$element.addClass(l)).attr("aria-expanded",this._isExpanded),this._targetsList=this.getTargets()}function n(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(t[e]);return i}var t=".collapse",s="collapseInstance",h={top:"iblock:top",down:"iblock:down"},r={SHOW:"show"+t,SHOWN:"shown"+t,HIDE:"hide"+t,HIDDEN:"hidden"+t},o="collapse__control",l="collapse__control_closed",d="collapse",u="collapse_animated",p="collapse_active";i.prototype.toggle=function(){this._isExpanded?this.hide():this.show()},i.prototype.show=function(){var n=this.$element,s=0,o=this._targetsList.length,t=c.Event(r.SHOW);this._isExpanded=!0,this._addAriaAndCollapsedClass(n,this._isExpanded),n.trigger(t),t.isDefaultPrevented()||this._targetsList.each(function(t,e){var i=c(e),e=a.getTransitionDurationFromElement(i);i.addClass(d).addClass(u),c(i).one(a.TRANSITION_END,function(){i.removeClass(u).addClass(p),o<=++s&&n.trigger(r.SHOWN)}).emulateTransitionEnd(e)})},i.prototype.hide=function(){var n=this.$element,s=0,o=this._targetsList.length,t=c.Event(r.HIDE);this._isExpanded=!1,this._addAriaAndCollapsedClass(this.$element,this._isExpanded),n.trigger(t),t.isDefaultPrevented()||this._targetsList.each(function(t,e){var i=c(e),e=a.getTransitionDurationFromElement(i);i.removeClass(p).addClass(d).addClass(u),c(i).one(a.TRANSITION_END,function(){i.removeClass(u),o<=++s&&n.trigger(r.SHOWN)}).emulateTransitionEnd(e)})},i.prototype.getTargets=function(){var t,e=this._targetsList;return e||(t=this.selector||this._getSelectorFromElement(this.$element.get(0)),e=-1<n(h).indexOf(t)?this._findNextIBlock(t):c(t)),e},i.prototype._getSelectorFromElement=function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=(t=t.getAttribute("href"))&&"#"!==t?t.trim():"");try{return-1<n(h).indexOf(e)||document.querySelector(e)?e:null}catch(t){return null}},i.prototype._findNextIBlock=function(t){var e,i=t===h.top?-1:1,n=this.$element.closest("[data-uid]").data("uid"),s=this.$element.closest(".container"),o=!!s.length,a=c("div[data-uid]:not(div.ib-container div[data-uid])",o?s:c("body"));if(a.length){for(var r=0,l=a.length;r<l;r++)if(c(a.get(r)).data("uid")===n){e=r;break}if(a[e+i])return c(a[e+i]);console.log("Не найден инфоблок по селектору",t,a)}return[]},i.prototype._addAriaAndCollapsedClass=function(t,e){var i=t.data("name");i&&(t.data("name",t.text()),t.text(i)),t.toggleClass(l,!e).attr("aria-expanded",e)},c(document).on("click",function(t){var e=c(t.target);e.hasClass(o)&&("A"===t.target.tagName&&t.preventDefault(),(t=e.data(s))||(t=new i(e),e.data(s,t)),t.toggle())})}($,Util),!function(t,o,s){function i(t,e){this.el=t,this.$el=o(t),this.opts=o.extend(!0,{},l,e,this.$el.data()),n==s&&(n=o("body")),this.opts.startDate||(this.opts.startDate=new Date),"INPUT"==this.el.nodeName&&(this.elIsInput=!0),this.opts.altField&&(this.$altField="string"==typeof this.opts.altField?o(this.opts.altField):this.opts.altField),this.inited=!1,this.visible=!1,this.silent=!1,this.currentDate=this.opts.startDate,this.currentView=this.opts.view,this._createShortCuts(),this.selectedDates=[],this.views={},this.keys=[],this.minRange="",this.maxRange="",this._prevOnSelectValue="",this.init()}var n,e,a,r,l,c,u,h,p,d,f,m;l={classes:"",inline:r=!(a="datepicker"),language:"ru",startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"@",toggleSelected:!0,keyboardNav:!0,position:"bottom left",offset:12,view:"days",minView:"days",showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:",",range:!1,todayButton:!1,clearButton:!1,showEvent:"focus",autoClose:!1,monthsField:"monthsShort",prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MM <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:"",onShow:"",onHide:"",onChangeMonth:"",onChangeYear:"",onChangeDecade:"",onChangeView:"",onRenderCell:""},c={ctrlRight:[17,39],ctrlUp:[17,38],ctrlLeft:[17,37],ctrlDown:[17,40],shiftRight:[16,39],shiftUp:[16,38],shiftLeft:[16,37],shiftDown:[16,40],altUp:[18,38],altRight:[18,39],altLeft:[18,37],altDown:[18,40],ctrlShiftUp:[16,17,38]},(u=i).prototype={VERSION:"2.2.3",viewIndexes:["days","months","years"],init:function(){r||this.opts.inline||!this.elIsInput||this._buildDatepickersContainer(),this._buildBaseHtml(),this._defineLocale(this.opts.language),this._syncWithMinMaxDates(),this.elIsInput&&(this.opts.inline||(this._setPositionClasses(this.opts.position),this._bindEvents()),this.opts.keyboardNav&&!this.opts.onlyTimepicker&&this._bindKeyboardEvents(),this.$datepicker.on("mousedown",this._onMouseDownDatepicker.bind(this)),this.$datepicker.on("mouseup",this._onMouseUpDatepicker.bind(this))),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.timepicker&&(this.timepicker=new o.fn.datepicker.Timepicker(this,this.opts),this._bindTimepickerEvents()),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.views[this.currentView]=new o.fn.datepicker.Body(this,this.currentView,this.opts),this.views[this.currentView].show(),this.nav=new o.fn.datepicker.Navigation(this,this.opts),this.view=this.currentView,this.$el.on("clickCell.adp",this._onClickCell.bind(this)),this.$datepicker.on("mouseenter",".datepicker--cell",this._onMouseEnterCell.bind(this)),this.$datepicker.on("mouseleave",".datepicker--cell",this._onMouseLeaveCell.bind(this)),this.inited=!0},_createShortCuts:function(){this.minDate=this.opts.minDate||new Date(-86399999136e5),this.maxDate=this.opts.maxDate||new Date(86399999136e5)},_bindEvents:function(){this.$el.on(this.opts.showEvent+".adp",this._onShowEvent.bind(this)),this.$el.on("mouseup.adp",this._onMouseUpEl.bind(this)),this.$el.on("blur.adp",this._onBlur.bind(this)),this.$el.on("keyup.adp",this._onKeyUpGeneral.bind(this)),o(t).on("resize.adp",this._onResize.bind(this)),o("body").on("mouseup.adp",this._onMouseUpBody.bind(this))},_bindKeyboardEvents:function(){this.$el.on("keydown.adp",this._onKeyDown.bind(this)),this.$el.on("keyup.adp",this._onKeyUp.bind(this)),this.$el.on("hotKey.adp",this._onHotKey.bind(this))},_bindTimepickerEvents:function(){this.$el.on("timeChange.adp",this._onTimeChange.bind(this))},isWeekend:function(t){return-1!==this.opts.weekends.indexOf(t)},_defineLocale:function(t){"string"==typeof t?(this.loc=o.fn.datepicker.language[t],this.loc||(console.warn("Can't find language \""+t+'" in Datepicker.language, will use "ru" instead'),this.loc=o.extend(!0,{},o.fn.datepicker.language.ru)),this.loc=o.extend(!0,{},o.fn.datepicker.language.ru,o.fn.datepicker.language[t])):this.loc=o.extend(!0,{},o.fn.datepicker.language.ru,t),this.opts.dateFormat&&(this.loc.dateFormat=this.opts.dateFormat),this.opts.timeFormat&&(this.loc.timeFormat=this.opts.timeFormat),""!==this.opts.firstDay&&(this.loc.firstDay=this.opts.firstDay),this.opts.timepicker&&(this.loc.dateFormat=[this.loc.dateFormat,this.loc.timeFormat].join(this.opts.dateTimeSeparator)),this.opts.onlyTimepicker&&(this.loc.dateFormat=this.loc.timeFormat);t=this._getWordBoundaryRegExp;(this.loc.timeFormat.match(t("aa"))||this.loc.timeFormat.match(t("AA")))&&(this.ampm=!0)},_buildDatepickersContainer:function(){r=!0,n.append('<div class="datepickers-container" id="datepickers-container"></div>'),e=o("#datepickers-container")},_buildBaseHtml:function(){var t=o('<div class="datepicker-inline">'),t="INPUT"==this.el.nodeName?this.opts.inline?t.insertAfter(this.$el):e:t.appendTo(this.$el);this.$datepicker=o('<div class="datepicker"><i class="datepicker--pointer"></i><nav class="datepicker--nav"></nav><div class="datepicker--content"></div></div>').appendTo(t),this.$content=o(".datepicker--content",this.$datepicker),this.$nav=o(".datepicker--nav",this.$datepicker)},_triggerOnChange:function(){if(!this.selectedDates.length)return""===this._prevOnSelectValue?void 0:(this._prevOnSelectValue="",this.opts.onSelect("","",this));var t=this.selectedDates,e=u.getParsedDate(t[0]),i=this,e=new Date(e.year,e.month,e.date,e.hours,e.minutes),n=t.map(function(t){return i.formatDate(i.loc.dateFormat,t)}).join(this.opts.multipleDatesSeparator);(this.opts.multipleDates||this.opts.range)&&(e=t.map(function(t){t=u.getParsedDate(t);return new Date(t.year,t.month,t.date,t.hours,t.minutes)})),this._prevOnSelectValue=n,this.opts.onSelect(n,e,this)},next:function(){var t=this.parsedDate,e=this.opts;switch(this.view){case"days":this.date=new Date(t.year,t.month+1,1),e.onChangeMonth&&e.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(t.year+1,t.month,1),e.onChangeYear&&e.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(t.year+10,0,1),e.onChangeDecade&&e.onChangeDecade(this.curDecade)}},prev:function(){var t=this.parsedDate,e=this.opts;switch(this.view){case"days":this.date=new Date(t.year,t.month-1,1),e.onChangeMonth&&e.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(t.year-1,t.month,1),e.onChangeYear&&e.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(t.year-10,0,1),e.onChangeDecade&&e.onChangeDecade(this.curDecade)}},formatDate:function(t,e){e=e||this.date;var i=t,n=this._getWordBoundaryRegExp,s=this.loc,o=u.getLeadingZeroNum,a=u.getDecade(e),r=u.getParsedDate(e),l=r.fullHours,c=r.hours,t=t.match(n("aa"))||t.match(n("AA")),h="am",d=this._replacer;switch(this.opts.timepicker&&this.timepicker&&t&&(l=o((o=this.timepicker._getValidHoursFromDate(e,t)).hours),c=o.hours,h=o.dayPeriod),!0){case/@/.test(i):i=i.replace(/@/,e.getTime());case/aa/.test(i):i=d(i,n("aa"),h);case/AA/.test(i):i=d(i,n("AA"),h.toUpperCase());case/dd/.test(i):i=d(i,n("dd"),r.fullDate);case/d/.test(i):i=d(i,n("d"),r.date);case/DD/.test(i):i=d(i,n("DD"),s.days[r.day]);case/D/.test(i):i=d(i,n("D"),s.daysShort[r.day]);case/mm/.test(i):i=d(i,n("mm"),r.fullMonth);case/m/.test(i):i=d(i,n("m"),r.month+1);case/MM/.test(i):i=d(i,n("MM"),this.loc.months[r.month]);case/M/.test(i):i=d(i,n("M"),s.monthsShort[r.month]);case/ii/.test(i):i=d(i,n("ii"),r.fullMinutes);case/i/.test(i):i=d(i,n("i"),r.minutes);case/hh/.test(i):i=d(i,n("hh"),l);case/h/.test(i):i=d(i,n("h"),c);case/yyyy/.test(i):i=d(i,n("yyyy"),r.year);case/yyyy1/.test(i):i=d(i,n("yyyy1"),a[0]);case/yyyy2/.test(i):i=d(i,n("yyyy2"),a[1]);case/yy/.test(i):i=d(i,n("yy"),r.year.toString().slice(-2))}return i},_replacer:function(t,e,s){return t.replace(e,function(t,e,i,n){return e+s+n})},_getWordBoundaryRegExp:function(t){var e="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+e+")("+t+")($|<|"+e+")","g")},selectDate:function(t){var e=this,i=e.opts,n=e.parsedDate,s=e.selectedDates.length,o="";if(Array.isArray(t))t.forEach(function(t){e.selectDate(t)});else if(t instanceof Date){if(this.lastSelectedDate=t,this.timepicker&&this.timepicker._setTime(t),e._trigger("selectDate",t),this.timepicker&&(t.setHours(this.timepicker.hours),t.setMinutes(this.timepicker.minutes)),"days"==e.view&&t.getMonth()!=n.month&&i.moveToOtherMonthsOnSelect&&(o=new Date(t.getFullYear(),t.getMonth(),1)),(o="years"==e.view&&t.getFullYear()!=n.year&&i.moveToOtherYearsOnSelect?new Date(t.getFullYear(),0,1):o)&&(e.silent=!0,e.date=o,e.silent=!1,e.nav._render()),i.multipleDates&&!i.range){if(s===i.multipleDates)return;e._isSelected(t)||e.selectedDates.push(t)}else i.range?2==s?(e.selectedDates=[t],e.minRange=t,e.maxRange=""):1==s?(e.selectedDates.push(t),e.maxRange?e.minRange=t:e.maxRange=t,u.bigger(e.maxRange,e.minRange)&&(e.maxRange=e.minRange,e.minRange=t),e.selectedDates=[e.minRange,e.maxRange]):(e.selectedDates=[t],e.minRange=t):e.selectedDates=[t];e._setInputValue(),i.onSelect&&e._triggerOnChange(),i.autoClose&&!this.timepickerIsActive&&(!i.multipleDates&&!i.range||i.range&&2==e.selectedDates.length)&&e.hide(),e.views[this.currentView]._render()}},removeDate:function(i){var n=this.selectedDates,s=this;if(i instanceof Date)return n.some(function(t,e){if(u.isSame(t,i))return n.splice(e,1),s.selectedDates.length?s.lastSelectedDate=s.selectedDates[s.selectedDates.length-1]:(s.minRange="",s.maxRange="",s.lastSelectedDate=""),s.views[s.currentView]._render(),s._setInputValue(),s.opts.onSelect&&s._triggerOnChange(),!0})},today:function(){this.silent=!0,this.view=this.opts.minView,this.silent=!1,this.date=new Date,this.opts.todayButton instanceof Date&&this.selectDate(this.opts.todayButton)},clear:function(){this.selectedDates=[],this.minRange="",this.maxRange="",this.views[this.currentView]._render(),this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()},update:function(t,e){var i=arguments.length,n=this.lastSelectedDate;return 2==i?this.opts[t]=e:1==i&&"object"==_typeof2(t)&&(this.opts=o.extend(!0,this.opts,t)),this._createShortCuts(),this._syncWithMinMaxDates(),this._defineLocale(this.opts.language),this.nav._addButtonsIfNeed(),this.opts.onlyTimepicker||this.nav._render(),this.views[this.currentView]._render(),this.elIsInput&&!this.opts.inline&&(this._setPositionClasses(this.opts.position),this.visible)&&this.setPosition(this.opts.position),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.opts.timepicker&&(n&&this.timepicker._handleDate(n),this.timepicker._updateRanges(),this.timepicker._updateCurrentTime(),n)&&(n.setHours(this.timepicker.hours),n.setMinutes(this.timepicker.minutes)),this._setInputValue(),this},_syncWithMinMaxDates:function(){var t=this.date.getTime();this.silent=!0,this.minTime>t&&(this.date=this.minDate),this.maxTime<t&&(this.date=this.maxDate),this.silent=!1},_isSelected:function(e,i){var n=!1;return this.selectedDates.some(function(t){if(u.isSame(t,e,i))return n=t,!0}),n},_setInputValue:function(){var e=this,t=e.opts,i=e.loc.dateFormat,n=t.altFieldDateFormat,s=e.selectedDates.map(function(t){return e.formatDate(i,t)});t.altField&&e.$altField.length&&(t=(t=this.selectedDates.map(function(t){return e.formatDate(n,t)})).join(this.opts.multipleDatesSeparator),this.$altField.val(t)),s=s.join(this.opts.multipleDatesSeparator),this.$el.val(s)},_isInRange:function(t,e){var i=t.getTime(),t=u.getParsedDate(t),n=u.getParsedDate(this.minDate),s=u.getParsedDate(this.maxDate),o=new Date(t.year,t.month,n.date).getTime(),a=new Date(t.year,t.month,s.date).getTime(),i={day:i>=this.minTime&&i<=this.maxTime,month:o>=this.minTime&&a<=this.maxTime,year:t.year>=n.year&&t.year<=s.year};return e?i[e]:i.day},_getDimensions:function(t){var e=t.offset();return{width:t.outerWidth(),height:t.outerHeight(),left:e.left,top:e.top}},_getDateFromCell:function(t){var e=this.parsedDate,i=t.data("year")||e.year,e=t.data("month")==s?e.month:t.data("month"),t=t.data("date")||1;return new Date(i,e,t)},_setPositionClasses:function(t){var e=(t=t.split(" "))[0],t="datepicker -"+e+"-"+t[1]+"- -from-"+e+"-";this.visible&&(t+=" active"),this.$datepicker.removeAttr("class").addClass(t)},setPosition:function(t){t=t||this.opts.position;var e,i,n=this._getDimensions(this.$el),s=this._getDimensions(this.$datepicker),t=t.split(" "),o=this.opts.offset,a=t[0],t=t[1];switch(a){case"top":e=n.top-s.height-o;break;case"right":i=n.left+n.width+o;break;case"bottom":e=n.top+n.height+o;break;case"left":i=n.left-s.width-o}switch(t){case"top":e=n.top;break;case"right":i=n.left+n.width-s.width;break;case"bottom":e=n.top+n.height-s.height;break;case"left":i=n.left;break;case"center":/left|right/.test(a)?e=n.top+n.height/2-s.height/2:i=n.left+n.width/2-s.width/2}this.$datepicker.css({left:i,top:e})},show:function(){var t=this.opts.onShow;this.setPosition(this.opts.position),this.$datepicker.addClass("active"),this.visible=!0,t&&this._bindVisionEvents(t)},hide:function(){var t=this.opts.onHide;this.$datepicker.removeClass("active").css({left:"-100000px"}),this.focused="",this.keys=[],this.inFocus=!1,this.visible=!1,this.$el.blur(),t&&this._bindVisionEvents(t)},down:function(t){this._changeView(t,"down")},up:function(t){this._changeView(t,"up")},_bindVisionEvents:function(t){this.$datepicker.off("transitionend.dp"),t(this,!1),this.$datepicker.one("transitionend.dp",t.bind(this,this,!0))},_changeView:function(t,e){t=t||this.focused||this.date;e="up"==e?this.viewIndex+1:this.viewIndex-1;(e=2<e?2:e)<0&&(e=0),this.silent=!0,this.date=new Date(t.getFullYear(),t.getMonth(),1),this.silent=!1,this.view=this.viewIndexes[e]},_handleHotKey:function(t){var e,i=u.getParsedDate(this._getFocusedDate()),n=this.opts,s=!1,o=!1,a=!1,r=i.year,l=i.month,i=i.date;switch(t){case"ctrlRight":case"ctrlUp":l+=1,s=!0;break;case"ctrlLeft":case"ctrlDown":--l,s=!0;break;case"shiftRight":case"shiftUp":o=!0,r+=1;break;case"shiftLeft":case"shiftDown":o=!0,--r;break;case"altRight":case"altUp":a=!0,r+=10;break;case"altLeft":case"altDown":a=!0,r-=10;break;case"ctrlShiftUp":this.up()}t=u.getDaysCount(new Date(r,l)),e=new Date(r,l,i),e.getTime()<this.minTime?e=this.minDate:e.getTime()>this.maxTime&&(e=this.maxDate),this.focused=e,t=u.getParsedDate(e),s&&n.onChangeMonth&&n.onChangeMonth(t.month,t.year),o&&n.onChangeYear&&n.onChangeYear(t.year),a&&n.onChangeDecade&&n.onChangeDecade(this.curDecade)},_registerKey:function(e){this.keys.some(function(t){return t==e})||this.keys.push(e)},_unRegisterKey:function(t){t=this.keys.indexOf(t);this.keys.splice(t,1)},_isHotKeyPressed:function(){var t,e,i=!1,n=this.keys.sort();for(e in c)n.length==(t=c[e]).length&&t.every(function(t,e){return t==n[e]})&&(this._trigger("hotKey",e),i=!0);return i},_trigger:function(t,e){this.$el.trigger(t,e)},_focusNextCell:function(t,e){e=e||this.cellType;var i=u.getParsedDate(this._getFocusedDate()),n=i.year,s=i.month,o=i.date;if(!this._isHotKeyPressed()){switch(t){case 37:"day"==e&&--o,"month"==e&&--s,"year"==e&&--n;break;case 38:"day"==e&&(o-=7),"month"==e&&(s-=3),"year"==e&&(n-=4);break;case 39:"day"==e&&(o+=1),"month"==e&&(s+=1),"year"==e&&(n+=1);break;case 40:"day"==e&&(o+=7),"month"==e&&(s+=3),"year"==e&&(n+=4)}i=new Date(n,s,o);i.getTime()<this.minTime?i=this.minDate:i.getTime()>this.maxTime&&(i=this.maxDate),this.focused=i}},_getFocusedDate:function(){var t=this.focused||this.selectedDates[this.selectedDates.length-1],e=this.parsedDate;if(!t)switch(this.view){case"days":t=new Date(e.year,e.month,(new Date).getDate());break;case"months":t=new Date(e.year,e.month,1);break;case"years":t=new Date(e.year,0,1)}return t},_getCell:function(t,e){e=e||this.cellType;var i=u.getParsedDate(t),n='.datepicker--cell[data-year="'+i.year+'"]';switch(e){case"month":n='[data-month="'+i.month+'"]';break;case"day":n+='[data-month="'+i.month+'"][data-date="'+i.date+'"]'}return(t=this.views[this.currentView].$el.find(n)).length?t:o("")},destroy:function(){var t=this;t.$el.off(".adp").data("datepicker",""),t.selectedDates=[],t.focused="",t.views={},t.keys=[],t.minRange="",t.maxRange="",(t.opts.inline||!t.elIsInput?t.$datepicker.closest(".datepicker-inline"):t.$datepicker).remove()},_handleAlreadySelectedDates:function(t,e){this.opts.range?this.opts.toggleSelected?this.removeDate(e):2!=this.selectedDates.length&&this._trigger("clickCell",e):this.opts.toggleSelected&&this.removeDate(e),this.opts.toggleSelected||(this.lastSelectedDate=t,this.opts.timepicker&&(this.timepicker._setTime(t),this.timepicker.update()))},_onShowEvent:function(t){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownDatepicker:function(t){this.inFocus=!0},_onMouseUpDatepicker:function(t){this.inFocus=!1,t.originalEvent.inFocus=!0,t.originalEvent.timepickerFocus||this.$el.focus()},_onKeyUpGeneral:function(t){this.$el.val()||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onMouseUpBody:function(t){t.originalEvent.inFocus||this.visible&&!this.inFocus&&this.hide()},_onMouseUpEl:function(t){t.originalEvent.inFocus=!0,setTimeout(this._onKeyUpGeneral.bind(this),4)},_onKeyDown:function(t){var e=t.which;if(this._registerKey(e),37<=e&&e<=40&&(t.preventDefault(),this._focusNextCell(e)),13==e&&this.focused){if(this._getCell(this.focused).hasClass("-disabled-"))return;if(this.view!=this.opts.minView)this.down();else{t=this._isSelected(this.focused,this.cellType);if(!t)return this.timepicker&&(this.focused.setHours(this.timepicker.hours),this.focused.setMinutes(this.timepicker.minutes)),void this.selectDate(this.focused);this._handleAlreadySelectedDates(t,this.focused)}}27==e&&this.hide()},_onKeyUp:function(t){t=t.which;this._unRegisterKey(t)},_onHotKey:function(t,e){this._handleHotKey(e)},_onMouseEnterCell:function(t){var t=o(t.target).closest(".datepicker--cell"),e=this._getDateFromCell(t);this.silent=!0,this.focused&&(this.focused=""),t.addClass("-focus-"),this.focused=e,this.silent=!1,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",u.less(this.minRange,this.focused)&&(this.maxRange=this.minRange,this.minRange=""),this.views[this.currentView]._update())},_onMouseLeaveCell:function(t){o(t.target).closest(".datepicker--cell").removeClass("-focus-"),this.silent=!0,this.focused="",this.silent=!1},_onTimeChange:function(t,e,i){var n=new Date,s=!1;this.selectedDates.length&&(s=!0,n=this.lastSelectedDate),n.setHours(e),n.setMinutes(i),s||this._getCell(n).hasClass("-disabled-")?(this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()):this.selectDate(n)},_onClickCell:function(t,e){this.timepicker&&(e.setHours(this.timepicker.hours),e.setMinutes(this.timepicker.minutes)),this.selectDate(e)},set focused(t){var e;!t&&this.focused&&(e=this._getCell(this.focused)).length&&e.removeClass("-focus-"),this._focused=t,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",u.less(this.minRange,this._focused))&&(this.maxRange=this.minRange,this.minRange=""),this.silent||(this.date=t)},get focused(){return this._focused},get parsedDate(){return u.getParsedDate(this.date)},set date(t){if(t instanceof Date)return this.currentDate=t,this.inited&&!this.silent&&(this.views[this.view]._render(),this.nav._render(),this.visible)&&this.elIsInput&&this.setPosition(),t},get date(){return this.currentDate},set view(t){if(this.viewIndex=this.viewIndexes.indexOf(t),!(this.viewIndex<0))return this.prevView=this.currentView,this.currentView=t,this.inited&&(this.views[t]?this.views[t]._render():this.views[t]=new o.fn.datepicker.Body(this,t,this.opts),this.views[this.prevView].hide(),this.views[t].show(),this.nav._render(),this.opts.onChangeView&&this.opts.onChangeView(t),this.elIsInput)&&this.visible&&this.setPosition(),t},get view(){return this.currentView},get cellType(){return this.view.substring(0,this.view.length-1)},get minTime(){var t=u.getParsedDate(this.minDate);return new Date(t.year,t.month,t.date).getTime()},get maxTime(){var t=u.getParsedDate(this.maxDate);return new Date(t.year,t.month,t.date).getTime()},get curDecade(){return u.getDecade(this.date)}},u.getDaysCount=function(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},u.getParsedDate=function(t){return{year:t.getFullYear(),month:t.getMonth(),fullMonth:t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,date:t.getDate(),fullDate:t.getDate()<10?"0"+t.getDate():t.getDate(),day:t.getDay(),hours:t.getHours(),fullHours:t.getHours()<10?"0"+t.getHours():t.getHours(),minutes:t.getMinutes(),fullMinutes:t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}},u.getDecade=function(t){t=10*Math.floor(t.getFullYear()/10);return[t,9+t]},u.template=function(t,i){return t.replace(/#\{([\w]+)\}/g,function(t,e){if(i[e]||0===i[e])return i[e]})},u.isSame=function(t,e,i){return!(!t||!e)&&(t=u.getParsedDate(t),e=u.getParsedDate(e),{day:t.date==e.date&&t.month==e.month&&t.year==e.year,month:t.month==e.month&&t.year==e.year,year:t.year==e.year}[i||"day"])},u.less=function(t,e,i){return!(!t||!e)&&e.getTime()<t.getTime()},u.bigger=function(t,e,i){return!(!t||!e)&&e.getTime()>t.getTime()},u.getLeadingZeroNum=function(t){return parseInt(t)<10?"0"+t:t},u.resetTime=function(t){if("object"==_typeof2(t))return t=u.getParsedDate(t),new Date(t.year,t.month,t.date)},o.fn.datepicker=function(e){return this.each(function(){var t;o.data(this,a)?((t=o.data(this,a)).opts=o.extend(!0,t.opts,e),t.update()):o.data(this,a,new i(this,e))})},o.fn.datepicker.Constructor=i,o.fn.datepicker.language={ru:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.mm.yyyy",timeFormat:"hh:ii",firstDay:1}},o(function(){o(".input_date .input__control, .single-calendar").datepicker()}),h={days:'<div class="datepicker--days datepicker--body"><div class="datepicker--days-names"></div><div class="datepicker--cells datepicker--cells-days"></div></div>',months:'<div class="datepicker--months datepicker--body"><div class="datepicker--cells datepicker--cells-months"></div></div>',years:'<div class="datepicker--years datepicker--body"><div class="datepicker--cells datepicker--cells-years"></div></div>'},f=o.fn.datepicker,p=f.Constructor,f.Body=function(t,e,i){this.d=t,this.type=e,this.opts=i,this.$el=o(""),this.opts.onlyTimepicker||this.init()},f.Body.prototype={init:function(){this._buildBaseHtml(),this._render(),this._bindEvents()},_bindEvents:function(){this.$el.on("click",".datepicker--cell",o.proxy(this._onClickCell,this))},_buildBaseHtml:function(){this.$el=o(h[this.type]).appendTo(this.d.$content),this.$names=o(".datepicker--days-names",this.$el),this.$cells=o(".datepicker--cells",this.$el)},_getDayNamesHtml:function(t,e,i,n){return i=i||"",7<(n=n!=s?n:0)?i:7==(e=e!=s?e:t)?this._getDayNamesHtml(t,0,i,++n):(i+='<div class="datepicker--day-name'+(this.d.isWeekend(e)?" -weekend-":"")+'">'+this.d.loc.daysMin[e]+"</div>",this._getDayNamesHtml(t,++e,i,++n))},_getCellContents:function(t,e){var i="datepicker--cell datepicker--cell-"+e,n=new Date,s=this.d,o=p.resetTime(s.minRange),a=p.resetTime(s.maxRange),r=s.opts,l=p.getParsedDate(t),c={},h=l.date;switch(e){case"day":s.isWeekend(l.day)&&(i+=" -weekend-"),l.month!=this.d.parsedDate.month&&(i+=" -other-month-",r.selectOtherMonths||(i+=" -disabled-"),r.showOtherMonths||(h=""));break;case"month":h=s.loc[s.opts.monthsField][l.month];break;case"year":var d=s.curDecade,h=l.year;(l.year<d[0]||l.year>d[1])&&(i+=" -other-decade-",r.selectOtherYears||(i+=" -disabled-"),r.showOtherYears||(h=""))}return r.onRenderCell&&(h=(c=r.onRenderCell(t,e)||{}).html||h,i+=c.classes?" "+c.classes:""),r.range&&(p.isSame(o,t,e)&&(i+=" -range-from-"),p.isSame(a,t,e)&&(i+=" -range-to-"),1==s.selectedDates.length&&s.focused?((p.bigger(o,t)&&p.less(s.focused,t)||p.less(a,t)&&p.bigger(s.focused,t))&&(i+=" -in-range-"),p.less(a,t)&&p.isSame(s.focused,t)&&(i+=" -range-from-"),p.bigger(o,t)&&p.isSame(s.focused,t)&&(i+=" -range-to-")):2==s.selectedDates.length&&p.bigger(o,t)&&p.less(a,t)&&(i+=" -in-range-")),p.isSame(n,t,e)&&(i+=" -current-"),s.focused&&p.isSame(t,s.focused,e)&&(i+=" -focus-"),s._isSelected(t,e)&&(i+=" -selected-"),s._isInRange(t,e)&&!c.disabled||(i+=" -disabled-"),{html:h,classes:i}},_getDaysHtml:function(t){for(var e,i,n=p.getDaysCount(t),s=new Date(t.getFullYear(),t.getMonth(),1).getDay(),o=new Date(t.getFullYear(),t.getMonth(),n).getDay(),s=s-this.d.loc.firstDay,o=6-o+this.d.loc.firstDay,a="",r=1-(s<0?7+s:s),l=n+(6<o?o-7:o);r<=l;r++)i=t.getFullYear(),e=t.getMonth(),a+=this._getDayHtml(new Date(i,e,r));return a},_getDayHtml:function(t){var e=this._getCellContents(t,"day");return'<div class="'+e.classes+'" data-date="'+t.getDate()+'" data-month="'+t.getMonth()+'" data-year="'+t.getFullYear()+'">'+e.html+"</div>"},_getMonthsHtml:function(t){for(var e="",i=p.getParsedDate(t),n=0;n<12;)e+=this._getMonthHtml(new Date(i.year,n)),n++;return e},_getMonthHtml:function(t){var e=this._getCellContents(t,"month");return'<div class="'+e.classes+'" data-month="'+t.getMonth()+'">'+e.html+"</div>"},_getYearsHtml:function(t){p.getParsedDate(t);for(var e=p.getDecade(t),i="",n=e[0]-1;n<=e[1]+1;n++)i+=this._getYearHtml(new Date(n,0));return i},_getYearHtml:function(t){var e=this._getCellContents(t,"year");return'<div class="'+e.classes+'" data-year="'+t.getFullYear()+'">'+e.html+"</div>"},_renderTypes:{days:function(){var t=this._getDayNamesHtml(this.d.loc.firstDay),e=this._getDaysHtml(this.d.currentDate);this.$cells.html(e),this.$names.html(t)},months:function(){var t=this._getMonthsHtml(this.d.currentDate);this.$cells.html(t)},years:function(){var t=this._getYearsHtml(this.d.currentDate);this.$cells.html(t)}},_render:function(){this.opts.onlyTimepicker||this._renderTypes[this.type].bind(this)()},_update:function(){var i,n,t=o(".datepicker--cell",this.$cells),s=this;t.each(function(t,e){i=o(this),n=s.d._getDateFromCell(o(this)),n=s._getCellContents(n,s.d.cellType),i.attr("class",n.classes)})},show:function(){this.opts.onlyTimepicker||(this.$el.addClass("active"),this.acitve=!0)},hide:function(){this.$el.removeClass("active"),this.active=!1},_handleClick:function(t){var e=t.data("date")||1,i=t.data("month")||0,t=t.data("year")||this.d.parsedDate.year,n=this.d;n.view!=this.opts.minView?n.down(new Date(t,i,e)):(t=new Date(t,i,e),(i=this.d._isSelected(t,this.d.cellType))?n._handleAlreadySelectedDates.bind(n,i,t)():n._trigger("clickCell",t))},_onClickCell:function(t){t=o(t.target).closest(".datepicker--cell");t.hasClass("-disabled-")||this._handleClick.bind(this)(t)}},f=o.fn.datepicker,d=f.Constructor,f.Navigation=function(t,e){this.d=t,this.opts=e,this.$buttonsContainer="",this.init()},f.Navigation.prototype={init:function(){this._buildBaseHtml(),this._bindEvents()},_bindEvents:function(){this.d.$nav.on("click",".datepicker--nav-action",o.proxy(this._onClickNavButton,this)),this.d.$nav.on("click",".datepicker--nav-title",o.proxy(this._onClickNavTitle,this)),this.d.$datepicker.on("click",".datepicker--button",o.proxy(this._onClickNavButton,this))},_buildBaseHtml:function(){this.opts.onlyTimepicker||this._render(),this._addButtonsIfNeed()},_addButtonsIfNeed:function(){this.opts.todayButton&&this._addButton("today"),this.opts.clearButton&&this._addButton("clear")},_render:function(){var t=this._getTitle(this.d.currentDate),t=d.template('<div class="datepicker--nav-action" data-action="prev">#{prevHtml}</div><div class="datepicker--nav-title">#{title}</div><div class="datepicker--nav-action" data-action="next">#{nextHtml}</div>',o.extend({title:t},this.opts));this.d.$nav.html(t),"years"==this.d.view&&o(".datepicker--nav-title",this.d.$nav).addClass("-disabled-"),this.setNavStatus()},_getTitle:function(t){return this.d.formatDate(this.opts.navTitles[this.d.view],t)},_addButton:function(t){this.$buttonsContainer.length||this._addButtonsContainer();var e={action:t,label:this.d.loc[t]},e=d.template('<span class="datepicker--button" data-action="#{action}">#{label}</span>',e);o("[data-action="+t+"]",this.$buttonsContainer).length||this.$buttonsContainer.append(e)},_addButtonsContainer:function(){this.d.$datepicker.append('<div class="datepicker--buttons"></div>'),this.$buttonsContainer=o(".datepicker--buttons",this.d.$datepicker)},setNavStatus:function(){if((this.opts.minDate||this.opts.maxDate)&&this.opts.disableNavWhenOutOfRange){var t=this.d.parsedDate,e=t.month,i=t.year,n=t.date;switch(this.d.view){case"days":this.d._isInRange(new Date(i,e-1,1),"month")||this._disableNav("prev"),this.d._isInRange(new Date(i,e+1,1),"month")||this._disableNav("next");break;case"months":this.d._isInRange(new Date(i-1,e,n),"year")||this._disableNav("prev"),this.d._isInRange(new Date(i+1,e,n),"year")||this._disableNav("next");break;case"years":var s=d.getDecade(this.d.date);this.d._isInRange(new Date(s[0]-1,0,1),"year")||this._disableNav("prev"),this.d._isInRange(new Date(s[1]+1,0,1),"year")||this._disableNav("next")}}},_disableNav:function(t){o('[data-action="'+t+'"]',this.d.$nav).addClass("-disabled-")},_activateNav:function(t){o('[data-action="'+t+'"]',this.d.$nav).removeClass("-disabled-")},_onClickNavButton:function(t){t=o(t.target).closest("[data-action]").data("action");this.d[t]()},_onClickNavTitle:function(t){if(!o(t.target).hasClass("-disabled-"))return"days"==this.d.view?this.d.view="months":void(this.d.view="years")}},f=o.fn.datepicker,m=f.Constructor,f.Timepicker=function(t,e){this.d=t,this.opts=e,this.init()},f.Timepicker.prototype={init:function(){var t="input";this._setTime(this.d.date),this._buildHTML(),navigator.userAgent.match(/trident/gi)&&(t="change"),this.d.$el.on("selectDate",this._onSelectDate.bind(this)),this.$ranges.on(t,this._onChangeRange.bind(this)),this.$ranges.on("mouseup",this._onMouseUpRange.bind(this)),this.$ranges.on("mousemove focus ",this._onMouseEnterRange.bind(this)),this.$ranges.on("mouseout blur",this._onMouseOutRange.bind(this))},_setTime:function(t){var e=m.getParsedDate(t);this._handleDate(t),this.hours=e.hours<this.minHours?this.minHours:e.hours,this.minutes=e.minutes<this.minMinutes?this.minMinutes:e.minutes},_setMinTimeFromDate:function(t){this.minHours=t.getHours(),this.minMinutes=t.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()>t.getHours()&&(this.minMinutes=this.opts.minMinutes)},_setMaxTimeFromDate:function(t){this.maxHours=t.getHours(),this.maxMinutes=t.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()<t.getHours()&&(this.maxMinutes=this.opts.maxMinutes)},_setDefaultMinMaxTime:function(){var t=this.opts;this.minHours=t.minHours<0||23<t.minHours?0:t.minHours,this.minMinutes=t.minMinutes<0||59<t.minMinutes?0:t.minMinutes,this.maxHours=t.maxHours<0||23<t.maxHours?23:t.maxHours,this.maxMinutes=t.maxMinutes<0||59<t.maxMinutes?59:t.maxMinutes},_validateHoursMinutes:function(t){this.hours<this.minHours?this.hours=this.minHours:this.hours>this.maxHours&&(this.hours=this.maxHours),this.minutes<this.minMinutes?this.minutes=this.minMinutes:this.minutes>this.maxMinutes&&(this.minutes=this.maxMinutes)},_buildHTML:function(){var t=m.getLeadingZeroNum,t={hourMin:this.minHours,hourMax:t(this.maxHours),hourStep:this.opts.hoursStep,hourValue:this.hours,hourVisible:t(this.displayHours),minMin:this.minMinutes,minMax:t(this.maxMinutes),minStep:this.opts.minutesStep,minValue:t(this.minutes)},t=m.template('<div class="datepicker--time"><div class="datepicker--time-current">   <span class="datepicker--time-current-hours">#{hourVisible}</span>   <span class="datepicker--time-current-colon">:</span>   <span class="datepicker--time-current-minutes">#{minValue}</span></div><div class="datepicker--time-sliders">   <div class="datepicker--time-row">      <input type="range" name="hours" value="#{hourValue}" min="#{hourMin}" max="#{hourMax}" step="#{hourStep}"/>   </div>   <div class="datepicker--time-row">      <input type="range" name="minutes" value="#{minValue}" min="#{minMin}" max="#{minMax}" step="#{minStep}"/>   </div></div></div>',t);this.$timepicker=o(t).appendTo(this.d.$datepicker),this.$ranges=o('[type="range"]',this.$timepicker),this.$hours=o('[name="hours"]',this.$timepicker),this.$minutes=o('[name="minutes"]',this.$timepicker),this.$hoursText=o(".datepicker--time-current-hours",this.$timepicker),this.$minutesText=o(".datepicker--time-current-minutes",this.$timepicker),this.d.ampm&&(this.$ampm=o('<span class="datepicker--time-current-ampm">').appendTo(o(".datepicker--time-current",this.$timepicker)).html(this.dayPeriod),this.$timepicker.addClass("-am-pm-"))},_updateCurrentTime:function(){var t=m.getLeadingZeroNum(this.displayHours),e=m.getLeadingZeroNum(this.minutes);this.$hoursText.html(t),this.$minutesText.html(e),this.d.ampm&&this.$ampm.html(this.dayPeriod)},_updateRanges:function(){this.$hours.attr({min:this.minHours,max:this.maxHours}).val(this.hours),this.$minutes.attr({min:this.minMinutes,max:this.maxMinutes}).val(this.minutes)},_handleDate:function(t){this._setDefaultMinMaxTime(),t&&(m.isSame(t,this.d.opts.minDate)?this._setMinTimeFromDate(this.d.opts.minDate):m.isSame(t,this.d.opts.maxDate)&&this._setMaxTimeFromDate(this.d.opts.maxDate)),this._validateHoursMinutes(t)},update:function(){this._updateRanges(),this._updateCurrentTime()},_getValidHoursFromDate:function(t,e){var i=t;t instanceof Date&&(i=m.getParsedDate(t).hours);var n="am";if(e||this.d.ampm)switch(!0){case 0==i:i=12;break;case 12==i:n="pm";break;case 11<i:i-=12,n="pm"}return{hours:i,dayPeriod:n}},set hours(t){this._hours=t;t=this._getValidHoursFromDate(t);this.displayHours=t.hours,this.dayPeriod=t.dayPeriod},get hours(){return this._hours},_onChangeRange:function(t){var t=o(t.target),e=t.attr("name");this.d.timepickerIsActive=!0,this[e]=t.val(),this._updateCurrentTime(),this.d._trigger("timeChange",[this.hours,this.minutes]),this._handleDate(this.d.lastSelectedDate),this.update()},_onSelectDate:function(t,e){this._handleDate(e),this.update()},_onMouseEnterRange:function(t){t=o(t.target).attr("name");o(".datepicker--time-current-"+t,this.$timepicker).addClass("-focus-")},_onMouseOutRange:function(t){t=o(t.target).attr("name");this.d.inFocus||o(".datepicker--time-current-"+t,this.$timepicker).removeClass("-focus-")},_onMouseUpRange:function(t){this.d.timepickerIsActive=!1}}}(window,jQuery),$(document).ready(function(){$("[data-target=hide-show]").on("click",function(){var t=$(this).siblings(".input__control");$(this).toggleClass("input__eye_off"),"password"==t.attr("type")?t.attr("type","text"):t.attr("type","password")});var t=/firefox/i.test(navigator.userAgent);document.addEventListener(t?"DOMMouseScroll":"mousewheel",function(t){"input"===t.target.nodeName.toLowerCase()&&"number"===$(t.target).attr("type").toLowerCase()&&t.preventDefault()},{passive:!1})}),!function(t,e){if("object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module)))module.exports=e(t.jQuery);else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var i,n="object"==("undefined"==typeof exports?"undefined":_typeof2(exports))?e(require("jquery")):e(t.jQuery);for(i in n)("object"==("undefined"==typeof exports?"undefined":_typeof2(exports))?exports:t)[i]=n[i]}}(window,function(__WEBPACK_EXTERNAL_MODULE__8__){return modules=[function(t){t.exports=JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"CONTROL":17,"KEY_229":229}')},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(16),i(17);var o=i(9),h=f(i(11)),d=f(i(12)),a=i(18),n=i(3),s=i(2),r=i(4),l=i(5),c=i(10),u=f(i(19)),i=f(i(20));function p(t){return(p="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function f(t){return t&&t.__esModule?t:{default:t}}var m=d.default.document,g="_inputmask_opts";function v(t,e,i){if(!(this instanceof v))return new v(t,e,i);this.dependencyLib=h.default,this.el=void 0,this.events={},!(this.maskset=void 0)!==i&&("[object Object]"===Object.prototype.toString.call(t)?e=t:(e=e||{},t&&(e.alias=t)),this.opts=h.default.extend(!0,{},this.defaults,e),this.noMasksCache=e&&void 0!==e.definitions,this.userOptions=e||{},_(this.opts.alias,e,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipKeyPressEvent=!1,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.originalPlaceholder=void 0,this.isComposing=!1}function _(t,e,i){var n=v.prototype.aliases[t];n?(n.alias&&_(n.alias,void 0,i),h.default.extend(!0,i,n),h.default.extend(!0,i,e)):null===i.mask&&(i.mask=t)}v.prototype={dataAttribute:"data-inputmask",defaults:i.default,definitions:u.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(t){var s=this;return(t=(t="string"==typeof t?m.getElementById(t)||m.querySelectorAll(t):t).nodeName?[t]:Array.isArray(t)?t:Array.from(t)).forEach(function(t,e){var i,n=h.default.extend(!0,{},s.opts);!function(i,t,n,s){function e(t,e){null!==(e=void 0!==e?e:i.getAttribute(""===s?t:s+"-"+t))&&("string"==typeof e&&(0===t.indexOf("on")?e=d.default[e]:"false"===e?e=!1:"true"===e&&(e=!0)),n[t]=e)}if(!0===t.importDataAttributes){var o,a,r,l,c=i.getAttribute(s);if(c&&""!==c&&(c=c.replace(/'/g,'"'),a=JSON.parse("{"+c+"}")),a)for(l in r=void 0,a)if("alias"===l.toLowerCase()){r=a[l];break}for(o in e("alias",r),n.alias&&_(n.alias,n,t),t){if(a)for(l in r=void 0,a)if(l.toLowerCase()===o.toLowerCase()){r=a[l];break}e(o,r)}}return h.default.extend(!0,t,n),"rtl"!==i.dir&&!t.rightAlign||(i.style.textAlign="right"),"rtl"!==i.dir&&!t.numericInput||(i.dir="ltr",i.removeAttribute("dir"),t.isRTL=!0),Object.keys(n).length}(t,n,h.default.extend(!0,{},s.userOptions),s.dataAttribute)||void 0===(i=(0,a.generateMaskSet)(n,s.noMasksCache))||(void 0!==t.inputmask&&(t.inputmask.opts.autoUnmask=!0,t.inputmask.remove()),t.inputmask=new v(void 0,void 0,!0),t.inputmask.opts=n,t.inputmask.noMasksCache=s.noMasksCache,t.inputmask.userOptions=h.default.extend(!0,{},s.userOptions),(t.inputmask.el=t).inputmask.$el=(0,h.default)(t),t.inputmask.maskset=i,h.default.data(t,g,s.userOptions),o.mask.call(t.inputmask))}),t&&t[0]&&t[0].inputmask||this},option:function(t,e){return"string"==typeof t?this.opts[t]:"object"===p(t)?(h.default.extend(this.userOptions,t),this.el&&!0!==e&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){return this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache),void 0!==this.el&&void 0===t||(t=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split(""),l.checkVal.call(this,void 0,!1,!1,t),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,s.getBuffer.call(this),0,this.opts)),l.unmaskedvalue.call(this,this.el)},remove:function(){var t;return this.el&&(h.default.data(this.el,g,null),(t=this.opts.autoUnmask?(0,l.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask))!==s.getBufferTemplate.call(this).join("")?this._valueSet(t,this.opts.autoUnmask):this._valueSet(""),c.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):m.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0),this.el},getemptymask:function(){return this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache),s.getBufferTemplate.call(this).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache),r.isComplete.call(this,s.getBuffer.call(this))},getmetadata:function(){var e;return this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)?(e=n.getMaskTemplate.call(this,!0,0,!1).join(""),this.maskset.metadata.forEach(function(t){return t.mask!==e||(e=t,!1)}),e):this.maskset.metadata},isValid:function(t){this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache),t?(e=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split(""),l.checkVal.call(this,void 0,!0,!1,e)):t=(this.isRTL?s.getBuffer.call(this).slice().reverse():s.getBuffer.call(this)).join("");for(var e=s.getBuffer.call(this),i=s.determineLastRequiredPosition.call(this),n=e.length-1;i<n&&!s.isMask.call(this,n);n--);return e.splice(i,n+1-i),r.isComplete.call(this,e)&&t===(this.isRTL?s.getBuffer.call(this).slice().reverse():s.getBuffer.call(this)).join("")},format:function(t,e){this.maskset=this.maskset||(0,a.generateMaskSet)(this.opts,this.noMasksCache);t=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,t,this.opts)||t).split(""),l.checkVal.call(this,void 0,!0,!1,t),t=(this.isRTL?s.getBuffer.call(this).slice().reverse():s.getBuffer.call(this)).join("");return e?{value:t,metadata:this.getmetadata()}:t},setValue:function(t){this.el&&(0,h.default)(this.el).trigger("setvalue",[t])},analyseMask:a.analyseMask},v.extendDefaults=function(t){h.default.extend(!0,v.prototype.defaults,t)},v.extendDefinitions=function(t){h.default.extend(!0,v.prototype.definitions,t)},v.extendAliases=function(t){h.default.extend(!0,v.prototype.aliases,t)},v.format=function(t,e,i){return v(e).format(t,i)},v.unmask=function(t,e){return v(e).unmaskedvalue(t)},v.isValid=function(t,e){return v(e).isValid(t)},v.remove=function(t){(t=(t="string"==typeof t?m.getElementById(t)||m.querySelectorAll(t):t).nodeName?[t]:t).forEach(function(t){t.inputmask&&t.inputmask.remove()})},v.setValue=function(t,e){(t=(t="string"==typeof t?m.getElementById(t)||m.querySelectorAll(t):t).nodeName?[t]:t).forEach(function(t){t.inputmask?t.inputmask.setValue(e):(0,h.default)(t).trigger("setvalue",[e])})},v.dependencyLib=h.default,d.default.Inputmask=v,e.default=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.caret=function(t,e,i,n,s){var o,a=this.opts;if(void 0===e)return"selectionStart"in t&&"selectionEnd"in t?(e=t.selectionStart,i=t.selectionEnd):window.getSelection?(o=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==t&&o.commonAncestorContainer!==t||(e=o.startOffset,i=o.endOffset):document.selection&&document.selection.createRange&&(o=document.selection.createRange(),e=0-o.duplicate().moveStart("character",-t.inputmask._valueGet().length),i=e+o.text.length),{begin:n?e:r.call(this,e),end:n?i:r.call(this,i)};Array.isArray(e)&&(i=this.isRTL?e[0]:e[1],e=this.isRTL?e[1]:e[0]),void 0!==e.begin&&(i=this.isRTL?e.begin:e.end,e=this.isRTL?e.end:e.begin),"number"==typeof e&&(e=n?e:r.call(this,e),i="number"==typeof(i=n?i:r.call(this,i))?i:e,n=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*i,t.scrollLeft=n>t.scrollWidth?n:0,t.inputmask.caretPos={begin:e,end:i},a.insertModeVisual&&!1===a.insertMode&&e===i&&!s&&i++,t===(t.inputmask.shadowRoot||document).activeElement)&&("setSelectionRange"in t?t.setSelectionRange(e,i):window.getSelection?(o=document.createRange(),void 0!==t.firstChild&&null!==t.firstChild||(n=document.createTextNode(""),t.appendChild(n)),o.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),o.setEnd(t.firstChild,i<t.inputmask._valueGet().length?i:t.inputmask._valueGet().length),o.collapse(!0),(a=window.getSelection()).removeAllRanges(),a.addRange(o)):t.createTextRange&&((o=t.createTextRange()).collapse(!0),o.moveEnd("character",i),o.moveStart("character",e),o.select()))},e.determineLastRequiredPosition=function(t){var e,i,n=this.maskset,s=this.dependencyLib,o=u.getMaskTemplate.call(this,!0,f.call(this),!0,!0),a=o.length,r=f.call(this),l={},c=n.validPositions[r],h=void 0!==c?c.locator.slice():void 0;for(e=r+1;e<o.length;e++)i=u.getTestTemplate.call(this,e,h,e-1),h=i.locator.slice(),l[e]=s.extend(!0,{},i);var d=c&&void 0!==c.alternation?c.locator[c.alternation]:void 0;for(e=a-1;r<e&&((i=l[e]).match.optionality||i.match.optionalQuantifier&&i.match.newBlockMarker||d&&(d!==l[e].locator[c.alternation]&&1!=i.match.static||!0===i.match.static&&i.locator[c.alternation]&&p.checkAlternationMatch.call(this,i.locator[c.alternation].toString().split(","),d.toString().split(","))&&""!==u.getTests.call(this,e)[0].def))&&o[e]===u.getPlaceholder.call(this,e,i.match);e--)a--;return t?{l:a,def:l[a]?l[a].match:void 0}:a},e.determineNewCaretPosition=function(t,e){var s=this,o=this.maskset,a=this.opts;if(e&&(s.isRTL?t.end=t.begin:t.begin=t.end),t.begin===t.end){switch(a.positionCaretOnClick){case"none":break;case"select":t={begin:0,end:c.call(s).length};break;case"ignore":t.end=t.begin=d.call(s,f.call(s));break;case"radixFocus":if(function(t){if(""!==a.radixPoint&&0!==a.digits){var e=o.validPositions;if(void 0===e[t]||e[t].input===u.getPlaceholder.call(s,t)){if(t<d.call(s,-1))return 1;var i=c.call(s).indexOf(a.radixPoint);if(-1!==i){for(var n in e)if(e[n]&&i<n&&e[n].input!==u.getPlaceholder.call(s,n))return;return 1}}}}(t.begin)){var i=c.call(s).join("").indexOf(a.radixPoint);t.end=t.begin=a.numericInput?d.call(s,i):i;break}default:var n,i=t.begin,r=f.call(s,i,!0),l=d.call(s,-1!==r||h.call(s,0)?r:-1);i<=l?t.end=t.begin=h.call(s,i,!1,!0)?i:d.call(s,i):(r=o.validPositions[r],r=u.getTestTemplate.call(s,l,r?r.match.locator:void 0,r),(""!==(n=u.getPlaceholder.call(s,l,r.match))&&c.call(s)[l]!==n&&!0!==r.match.optionalQuantifier&&!0!==r.match.newBlockMarker||!h.call(s,l,a.keepStatic,!0)&&r.match.def===n)&&((r=d.call(s,l))<=i||i===l)&&(l=r),t.end=t.begin=l)}return t}},e.getBuffer=c,e.getBufferTemplate=function(){var t=this.maskset;return void 0===t._buffer&&(t._buffer=u.getMaskTemplate.call(this,!1,1),void 0===t.buffer)&&(t.buffer=t._buffer.slice()),t._buffer},e.getLastValidPosition=f,e.isMask=h,e.resetMaskSet=function(t){var e=this.maskset;!(e.buffer=void 0)!==t&&(e.validPositions={},e.p=0)},e.seekNext=d,e.seekPrevious=function(t,e){var i=t-1;if(t<=0)return 0;for(;0<i&&(!0===e&&(!0!==u.getTest.call(this,i).match.newBlockMarker||!h.call(this,i,void 0,!0))||!0!==e&&!h.call(this,i,void 0,!0));)i--;return i},e.translatePosition=r;var u=i(3),p=i(4);i(9);function c(t){var e=this.maskset;return void 0!==e.buffer&&!0!==t||(e.buffer=u.getMaskTemplate.call(this,!0,f.call(this),!0),void 0===e._buffer&&(e._buffer=e.buffer.slice())),e.buffer}function f(t,e,i){var n,s=this.maskset,o=-1,a=-1,r=i||s.validPositions;for(n in void 0===t&&(t=-1),r){var l=parseInt(n);r[l]&&(e||!0!==r[l].generatedInput)&&(l<=t&&(o=l),t<=l)&&(a=l)}return-1!==o&&o!=t&&(-1==a||t-o<a-t)?o:a}function h(t,e,i){var n=this.maskset,s=u.getTestTemplate.call(this,t).match;return!0!==(s=""===s.def?u.getTest.call(this,t).match:s).static?s.fn:!0===i&&void 0!==n.validPositions[t]&&!0!==n.validPositions[t].generatedInput||!0!==e&&-1<t&&(i?(s=u.getTests.call(this,t)).length>1+(""===s[s.length-1].match.def?1:0):(n=u.determineTestTemplate.call(this,t,u.getTests.call(this,t)),e=u.getPlaceholder.call(this,t,n.match),n.match.def!==e))}function d(t,e,i){void 0===i&&(i=!0);for(var n=t+1;""!==u.getTest.call(this,n).match.def&&(!0===e&&(!0!==u.getTest.call(this,n).match.newBlockMarker||!h.call(this,n,void 0,!0))||!0!==e&&!h.call(this,n,void 0,i));)n++;return n}function r(t){var e=this.opts,i=this.el;return t=!this.isRTL||"number"!=typeof t||e.greedy&&""===e.placeholder||!i?t:this._valueGet().length-t}},function(t,e,i){"use strict";function h(t,e){var i=(null!=t.alternation?t.mloc[n(t)]:t.locator).join("");if(""!==i)for(;i.length<e;)i+="0";return i}function n(t){t=t.locator[t.alternation];return void 0!==(t="string"==typeof t&&0<t.length?t.split(",")[0]:t)?t.toString():""}function m(t,e,i){var n=this.opts,s=this.maskset;if(void 0!==(e=e||d.call(this,t).match).placeholder||!0===i)return"function"==typeof e.placeholder?e.placeholder(n):e.placeholder;if(!0!==e.static)return n.placeholder.charAt(t%n.placeholder.length);if(-1<t&&void 0===s.validPositions[t]){var o,a=_.call(this,t),r=[];if(a.length>1+(""===a[a.length-1].match.def?1:0))for(var l=0;l<a.length;l++)if(""!==a[l].match.def&&!0!==a[l].match.optionality&&!0!==a[l].match.optionalQuantifier&&(!0===a[l].match.static||void 0===o||!1!==a[l].match.fn.test(o.match.def,s,t,!0,n))&&(r.push(a[l]),!0===a[l].match.static&&(o=a[l]),1<r.length)&&/[0-9a-bA-Z]/.test(r[0].match.def))return n.placeholder.charAt(t%n.placeholder.length)}return e.def}function g(t,e,i){return this.maskset.validPositions[t]||v.call(this,t,_.call(this,t,e&&e.slice(),i))}function v(t,e){for(var i,n,s=this.opts,o=h(d.call(this,t=0<t?t-1:0)),a=0;a<e.length;a++){var r=e[a],l=h(r,o.length),c=Math.abs(l-o);(void 0===i||""!==l&&c<i||n&&!s.greedy&&n.match.optionality&&"master"===n.match.newBlockMarker&&(!r.match.optionality||!r.match.newBlockMarker)||n&&n.match.optionalQuantifier&&!r.match.optionalQuantifier)&&(i=c,n=r)}return n}function d(t,e){var i=this.maskset;return i.validPositions[t]||(e||_.call(this,t))[0]}function _(N,t,e){var j,i,n,s,o=this,a=this.dependencyLib,R=this.maskset,F=this.opts,H=this.el,r=R.maskToken,B=t?e:0,l=t?t.slice():[0],U=[],V=!1,z=t?t.join(""):"";function G(M,A,t,e){function L(t,e,i){function o(i,n){var s=0===n.matches.indexOf(i);return s||n.matches.every(function(t,e){return!0===t.isQuantifier?s=o(i,n.matches[e-1]):Object.prototype.hasOwnProperty.call(t,"matches")&&(s=o(i,t)),!s}),s}function n(t,e){function i(t){for(var e,i=[],n=-1,s=0,o=t.length;s<o;s++)if("-"===t.charAt(s))for(e=t.charCodeAt(s+1);++n<e;)i.push(String.fromCharCode(n));else n=t.charCodeAt(s),i.push(t.charAt(s));return i.join("")}return t.match.def===e.match.nativeDef||(F.regex||t.match.fn instanceof RegExp&&e.match.fn instanceof RegExp)&&!0!==t.match.static&&!0!==e.match.static&&-1!==i(e.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(i(t.match.fn.toString().replace(/[[\]/]/g,"")))}function s(t,e){var i=t.alternation,n=void 0===e||i===e.alternation&&-1===t.locator[i].toString().indexOf(e.locator[i]);if(!n&&i>e.alternation)for(var s=e.alternation;s<i;s++)if(t.locator[s]!==e.locator[s]){i=s,n=!0;break}if(n){t.mloc=t.mloc||{};var o=t.locator[i];if(void 0!==o){if("string"==typeof o&&(o=o.split(",")[0]),void 0===t.mloc[o]&&(t.mloc[o]=t.locator.slice()),void 0!==e){for(var a in e.mloc)"string"==typeof a&&(a=a.split(",")[0]),void 0===t.mloc[a]&&(t.mloc[a]=e.mloc[a]);t.locator[i]=Object.keys(t.mloc).join(",")}return 1}t.alternation=void 0}}if(B>N+F._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+R.mask;if(B===N&&void 0===t.matches)return U.push({match:t,locator:e.reverse(),cd:z,mloc:{}}),!0;if(void 0!==t.matches){if(t.isGroup&&i!==t){if(t=L(M.matches[M.matches.indexOf(t)+1],e,i))return!0}else if(t.isOptional){var a=t,r=U.length;if(t=G(t,A,e,i)){if(U.forEach(function(t,e){r<=e&&(t.match.optionality=!0)}),j=U[U.length-1].match,void 0!==i||!o(j,a))return!0;V=!0,B=N}}else if(t.isAlternator){var l,c=t,h=[],a=U.slice(),d=e.length,u=0<A.length?A.shift():-1;if(-1===u||"string"==typeof u){var p,f=B,m=A.slice(),g=[];if("string"==typeof u)g=u.split(",");else for(p=0;p<c.matches.length;p++)g.push(p.toString());if(void 0!==R.excludes[N]){for(var v=g.slice(),_=0,y=R.excludes[N].length;_<y;_++){var b=R.excludes[N][_].toString().split(":");e.length==b[1]&&g.splice(g.indexOf(b[0]),1)}0===g.length&&(delete R.excludes[N],g=v)}(!0===F.keepStatic||isFinite(parseInt(F.keepStatic))&&f>=F.keepStatic)&&(g=g.slice(0,1));for(var k=!1,w=0;w<g.length;w++){p=parseInt(g[w]),U=[],A="string"==typeof u&&function t(e,n,s){var o,a,i;return(R.tests[e]||R.validPositions[e])&&(R.tests[e]||[R.validPositions[e]]).every(function(t,e){var i;return t.mloc[n]?(o=t,!1):(i=void 0!==s?s:t.alternation,i=void 0!==t.locator[i]?t.locator[i].toString().indexOf(n):-1,(void 0===a||i<a)&&-1!==i&&(o=t,a=i),!0)}),o?(i=o.locator[o.alternation],(o.mloc[n]||o.mloc[i]||o.locator).slice((void 0!==s?s:o.alternation)+1)):void 0!==s?t(e,n):void 0}(B,p,d)||m.slice(),c.matches[p]&&L(c.matches[p],[p].concat(e),i)?t=!0:0===w&&(k=!0),l=U.slice(),B=f,U=[];for(var x=0;x<l.length;x++){var S=l[x],E=!1;S.match.jit=S.match.jit||k,S.alternation=S.alternation||d,s(S);for(var T=0;T<h.length;T++){var C=h[T];if("string"!=typeof u||void 0!==S.alternation&&g.includes(S.locator[S.alternation].toString())){if(S.match.nativeDef===C.match.nativeDef){E=!0,s(C,S);break}if(n(S,C)){s(S,C)&&(E=!0,h.splice(h.indexOf(C),0,S));break}if(n(C,S)){s(C,S);break}if(P=C,!0===(I=S).match.static&&!0!==P.match.static&&P.match.fn.test(I.match.def,R,N,!1,F,!1)){!function(t,e){if(t.locator.length===e.locator.length){for(var i=t.alternation+1;i<t.locator.length;i++)if(t.locator[i]!==e.locator[i])return;return 1}}(S,C)&&void 0===H.inputmask.userOptions.keepStatic?F.keepStatic=!0:s(S,C)&&(E=!0,h.splice(h.indexOf(C),0,S));break}}}E||h.push(S)}}U=a.concat(h),B=N,V=0<U.length,t=0<h.length,A=m.slice()}else t=L(c.matches[u]||M.matches[u],[u].concat(e),i);if(t)return!0}else if(t.isQuantifier&&i!==M.matches[M.matches.indexOf(t)-1])for(var D=t,O=0<A.length?A.shift():0;O<(isNaN(D.quantifier.max)?O+1:D.quantifier.max)&&B<=N;O++){var $=M.matches[M.matches.indexOf(D)-1];if(t=L($,[O].concat(e),$)){if((j=U[U.length-1].match).optionalQuantifier=O>=D.quantifier.min,j.jit=(O||1)*$.matches.indexOf(j)>=D.quantifier.jit,j.optionalQuantifier&&o(j,$)){V=!0,B=N;break}return j.jit&&(R.jitOffset[N]=$.matches.length-$.matches.indexOf(j)),!0}}else if(t=G(t,A,e,i))return!0}else B++;var I,P}for(var i=0<A.length?A.shift():0;i<M.matches.length;i++)if(!0!==M.matches[i].isQuantifier){var n=L(M.matches[i],[i].concat(t),e);if(n&&B===N)return n;if(N<B)break}}if(-1<N&&(void 0===o.maxLength||N<o.maxLength)){if(void 0===t){for(var c,h=N-1;void 0===(c=R.validPositions[h]||R.tests[h])&&-1<h;)h--;void 0!==c&&-1<h&&(e=h,i=c,s=[],0<(i=Array.isArray(i)?i:[i]).length&&(void 0===i[0].alternation||!0===F.keepStatic?0===(s=v.call(o,e,i.slice()).locator.slice()).length&&(s=i[0].locator.slice()):i.forEach(function(t){""!==t.def&&(0===s.length?(n=t.alternation,s=t.locator.slice()):t.locator[n]&&-1===s[n].toString().indexOf(t.locator[n])&&(s[n]+=","+t.locator[n]))})),z=(l=s).join(""),B=h)}if(R.tests[N]&&R.tests[N][0].cd===z)return R.tests[N];for(var d=l.shift();d<r.length;d++)if(G(r[d],l,[d])&&B===N||N<B)break}return 0!==U.length&&!V||U.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:z}),void 0!==t&&R.tests[N]?a.extend(!0,[],U):(R.tests[N]=a.extend(!0,[],U),R.tests[N])}Object.defineProperty(e,"__esModule",{value:!0}),e.determineTestTemplate=v,e.getDecisionTaker=n,e.getMaskTemplate=function(t,e,i,n,s){var o,a,r,l,c,h=this.opts,d=this.maskset,u=h.greedy,p=(s&&(h.greedy=!1),e=e||0,[]),f=0;do{}while(!0===t&&d.validPositions[f]?(a=(o=s&&!0===d.validPositions[f].match.optionality&&void 0===d.validPositions[f+1]&&(!0===d.validPositions[f].generatedInput||d.validPositions[f].input==h.skipOptionalPartCharacter&&0<f)?v.call(this,f,_.call(this,f,r,f-1)):d.validPositions[f]).match,r=o.locator.slice(),p.push(!0===i?o.input:!1===i?a.nativeDef:m.call(this,f,a))):(a=(o=g.call(this,f,r,f-1)).match,r=o.locator.slice(),l=!0!==n&&(!1!==h.jitMasking?h.jitMasking:a.jit),(c=c&&a.static&&a.def!==h.groupSeparator&&null===a.fn||d.validPositions[f-1]&&a.static&&a.def!==h.groupSeparator&&null===a.fn)||!1===l||void 0===l||"number"==typeof l&&isFinite(l)&&f<l?p.push(!1===i?a.nativeDef:m.call(this,f,a)):c=!1),f++,(void 0===this.maxLength||f<this.maxLength)&&(!0!==a.static||""!==a.def)||f<e);return""===p[p.length-1]&&p.pop(),!1===i&&void 0!==d.maskLength||(d.maskLength=f-1),h.greedy=u,p},e.getPlaceholder=m,e.getTest=d,e.getTests=_,e.getTestTemplate=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.alternate=O,e.checkAlternationMatch=function(t,e,i){for(var n,s=this.opts.greedy?e:e.slice(0,1),o=!1,a=void 0!==i?i.split(","):[],r=0;r<a.length;r++)-1!==(n=t.indexOf(a[r]))&&t.splice(n,1);for(var l=0;l<t.length;l++)if(s.includes(t[l])){o=!0;break}return o},e.isComplete=w,e.isValid=$,e.refreshFromBuffer=x,e.revalidateMask=E,e.handleRemove=function(t,e,i,n,s){var o=this.maskset,a=this.opts;(a.numericInput||this.isRTL)&&(e===k.default.BACKSPACE?e=k.default.DELETE:e===k.default.DELETE&&(e=k.default.BACKSPACE),this.isRTL)&&(r=i.end,i.end=i.begin,i.begin=r);var r=D.getLastValidPosition.call(this,void 0,!0);i.end>=D.getBuffer.call(this).length&&r>=i.end&&(i.end=r+1),e===k.default.BACKSPACE?i.end-i.begin<1&&(i.begin=D.seekPrevious.call(this,i.begin)):e===k.default.DELETE&&i.begin===i.end&&(i.end=D.isMask.call(this,i.end,!0,!0)?i.end+1:D.seekNext.call(this,i.end)+1),!1!==(r=E.call(this,i))&&((!0!==n&&!1!==a.keepStatic||null!==a.regex&&-1!==C.getTest.call(this,i.begin).match.def.indexOf("|"))&&(a=O.call(this,!0))&&(a=void 0!==a.caret?a.caret:a.pos?D.seekNext.call(this,a.pos.begin||a.pos):D.getLastValidPosition.call(this,-1,!0),e!==k.default.DELETE||i.begin>a)&&i.begin,!0!==n)&&(o.p=e===k.default.DELETE?i.begin+r:i.begin)};var C=i(3),k=(e=i(0))&&e.__esModule?e:{default:e},D=i(2),p=i(6);function O(t,e,i,n,s,o){var a,r,l,c,h,d,u,p,f,m=this.dependencyLib,g=this.opts,v=this.maskset,_=m.extend(!0,{},v.validPositions),y=m.extend(!0,{},v.tests),b=!1,k=!1,w=void 0!==s?s:D.getLastValidPosition.call(this);if(o&&(p=o.begin,f=o.end,o.begin>o.end)&&(p=o.end,f=o.begin),-1===w&&void 0===s)r=(c=C.getTest.call(this,a=0)).alternation;else for(;0<=w;w--)if((l=v.validPositions[w])&&void 0!==l.alternation){if(c&&c.locator[l.alternation]!==l.locator[l.alternation])break;a=w,r=v.validPositions[a].alternation,c=l}if(void 0!==r){d=parseInt(a),v.excludes[d]=v.excludes[d]||[],!0!==t&&v.excludes[d].push((0,C.getDecisionTaker)(c)+":"+c.alternation);for(var x=[],S=-1,E=d;E<D.getLastValidPosition.call(this,void 0,!0)+1;E++)-1===S&&t<=E&&void 0!==e&&(x.push(e),S=x.length-1),(h=v.validPositions[E])&&!0!==h.generatedInput&&(void 0===o||E<p||f<=E)&&x.push(h.input),delete v.validPositions[E];for(-1===S&&void 0!==e&&(x.push(e),S=x.length-1);void 0!==v.excludes[d]&&v.excludes[d].length<10;){for(v.tests={},D.resetMaskSet.call(this,!0),b=!0,E=0;E<x.length&&(u=b.caret||D.getLastValidPosition.call(this,void 0,!0)+1,b=$.call(this,u,x[E],!1,n,!0));E++)E===S&&(k=b),1==t&&b&&(k={caretPos:E});if(b)break;if(D.resetMaskSet.call(this),c=C.getTest.call(this,d),v.validPositions=m.extend(!0,{},_),v.tests=m.extend(!0,{},y),!v.excludes[d]){k=O.call(this,t,e,i,n,d-1,o);break}var T=(0,C.getDecisionTaker)(c);if(-1!==v.excludes[d].indexOf(T+":"+c.alternation)){k=O.call(this,t,e,i,n,d-1,o);break}for(v.excludes[d].push(T+":"+c.alternation),E=d;E<D.getLastValidPosition.call(this,void 0,!0)+1;E++)delete v.validPositions[E]}}return k&&!1===g.keepStatic||delete v.excludes[d],k}function w(t){var e=this.opts,i=this.maskset;if("function"==typeof e.isComplete)return e.isComplete(t,e);if("*"!==e.repeat){var n=!1,e=D.determineLastRequiredPosition.call(this,!0),s=D.seekPrevious.call(this,e.l);if(void 0===e.def||e.def.newBlockMarker||e.def.optionality||e.def.optionalQuantifier)for(var n=!0,o=0;o<=s;o++){var a=C.getTestTemplate.call(this,o).match;if(!0!==a.static&&void 0===i.validPositions[o]&&!0!==a.optionality&&!0!==a.optionalQuantifier||!0===a.static&&t[o]!==C.getPlaceholder.call(this,o,a)){n=!1;break}}return n}}function $(c,t,e,h,i,n,s){var d=this,u=this.dependencyLib,p=this.opts,f=(d.el,d.maskset);function m(t){return d.isRTL?1<t.begin-t.end||t.begin-t.end==1:1<t.end-t.begin||t.end-t.begin==1}e=!0===e;var o=c;function g(t){var e;return void 0!==t&&(void 0!==t.remove&&(Array.isArray(t.remove)||(t.remove=[t.remove]),t.remove.sort(function(t,e){return e.pos-t.pos}).forEach(function(t){E.call(d,{begin:t,end:t+1})}),t.remove=void 0),void 0!==t.insert&&(Array.isArray(t.insert)||(t.insert=[t.insert]),t.insert.sort(function(t,e){return t.pos-e.pos}).forEach(function(t){""!==t.c&&$.call(d,t.pos,t.c,void 0===t.strict||t.strict,void 0!==t.fromIsValid?t.fromIsValid:h)}),t.insert=void 0),t.refreshFromBuffer&&t.buffer&&(e=t.refreshFromBuffer,x.call(d,!0===e?e:e.start,e.end,t.buffer),t.refreshFromBuffer=void 0),void 0!==t.rewritePosition)&&(o=t.rewritePosition,t=!0),t}function a(o,a,r){var l=!1;return C.getTests.call(d,o).every(function(t,e){var i,n,s=t.match;return D.getBuffer.call(d,!0),!1===(l=null!=s.fn?s.fn.test(a,f,o,r,p,m(c)):(a===s.def||a===p.skipOptionalPartCharacter)&&""!==s.def&&{c:C.getPlaceholder.call(d,o,s,!0)||s.def,pos:o})||(n=void 0!==l.c?l.c:a,i=o,n=n===p.skipOptionalPartCharacter&&!0===s.static?C.getPlaceholder.call(d,o,s,!0)||s.def:n,!0!==(l=g(l))&&void 0!==l.pos&&l.pos!==o&&(i=l.pos),!0!==l&&void 0===l.pos&&void 0===l.c||!1===E.call(d,c,u.extend({},t,{input:function(t,e,i){var n=this.opts,s=this.maskset;switch(n.casing||e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var o=s.validPositions[i-1];t=0===i||o&&o.input===String.fromCharCode(k.default.SPACE)?t.toUpperCase():t.toLowerCase();break;default:"function"==typeof n.casing&&((o=Array.prototype.slice.call(arguments)).push(s.validPositions),t=n.casing.apply(this,o))}return t}.call(d,n,s,i)}),h,i)&&(l=!1),!1)}),l}void 0!==c.begin&&(o=d.isRTL?c.end:c.begin);var r=!0,l=u.extend(!0,{},f.validPositions);if(!1===p.keepStatic&&void 0!==f.excludes[o]&&!0!==i&&!0!==h)for(var v=o;v<(d.isRTL?c.begin:c.end);v++)void 0!==f.excludes[v]&&(f.excludes[v]=void 0,delete f.tests[v]);if(!0===(r="function"==typeof p.preValidation&&!0!==h&&!0!==n?g(r=p.preValidation.call(d,D.getBuffer.call(d),o,t,m(c),p,f,c,e||i)):r)){if(void 0===d.maxLength||o<d.maxLength){if(r=a(o,t,e),(!e||!0===h)&&!1===r&&!0!==n){var _=f.validPositions[o];if(!_||!0!==_.match.static||_.match.def!==t&&t!==p.skipOptionalPartCharacter){if(p.insertMode||void 0===f.validPositions[D.seekNext.call(d,o)]||c.end>o){var _=!1;if(f.jitOffset[o]&&void 0===f.validPositions[D.seekNext.call(d,o)]&&!1!==(r=$.call(d,o+f.jitOffset[o],t,!0))&&(!0!==i&&(r.caret=o),_=!0),c.end>o&&(f.validPositions[o]=void 0),!_&&!D.isMask.call(d,o,p.keepStatic&&0===o))for(var y=o+1,b=D.seekNext.call(d,o,!1,0!==o);y<=b;y++)if(!1!==(r=a(y,t,e))){r=S.call(d,o,void 0!==r.pos?r.pos:y)||r,o=y;break}}}else r={caret:D.seekNext.call(d,o)}}}else r=!1;!1!==r||!p.keepStatic||!w.call(d,D.getBuffer.call(d))&&0!==o||e||!0===i?m(c)&&f.tests[o]&&1<f.tests[o].length&&p.keepStatic&&!e&&!0!==i&&(r=O.call(d,!0)):r=O.call(d,o,t,e,h,void 0,c),!0===r&&(r={pos:o})}return(r="function"==typeof p.postValidation&&!0!==h&&!0!==n&&void 0!==(_=p.postValidation.call(d,D.getBuffer.call(d,!0),void 0!==c.begin?d.isRTL?c.end:c.begin:c,t,r,p,f,e,s))?!0===_?r:_:r)&&void 0===r.pos&&(r.pos=o),!1===r||!0===n?(D.resetMaskSet.call(d,!0),f.validPositions=u.extend(!0,{},l)):S.call(d,void 0,o,!0),g(r)}function y(t,e,i){for(var n=this.maskset,s=!1,o=C.getTests.call(this,t),a=0;a<o.length;a++){if(o[a].match&&(!(o[a].match.nativeDef!==e.match[i.shiftPositions?"def":"nativeDef"]||i.shiftPositions&&e.match.static)||o[a].match.nativeDef===e.match.nativeDef)){s=!0;break}if(o[a].match&&o[a].match.def===e.match.nativeDef){s=void 0;break}}return s=!1===s&&void 0!==n.jitOffset[t]?y.call(this,t+n.jitOffset[t],e,i):s}function x(t,e,i){var n,s=this.maskset,o=this.opts,a=this.dependencyLib,r=this.el,l=o.skipOptionalPartCharacter,c=this.isRTL?i.slice().reverse():i;if(!(o.skipOptionalPartCharacter="")===t)D.resetMaskSet.call(this),s.tests={},e=i.length,n=D.determineNewCaretPosition.call(this,{begin:t=0,end:0},!1).begin;else{for(d=t;d<e;d++)delete s.validPositions[d];n=t}for(var h=new a.Event("keypress"),d=t;d<e;d++){h.which=c[d].toString().charCodeAt(0),this.ignorable=!1;var u=p.EventHandlers.keypressEvent.call(r,h,!0,!1,!1,n);!1!==u&&(n=u.forwardPosition)}o.skipOptionalPartCharacter=l}function S(t,e,i){var n=this.maskset,s=this.dependencyLib;if(void 0===t)for(t=e-1;0<t&&!n.validPositions[t];t--);for(var o=t;o<e;o++)if(void 0===n.validPositions[o]&&!D.isMask.call(this,o,!0))if(0==o?C.getTest.call(this,o):n.validPositions[o-1]){var a,r=C.getTests.call(this,o).slice(),r=(""===r[r.length-1].match.def&&r.pop(),C.determineTestTemplate.call(this,o,r));if(r&&(!0!==r.match.jit||"master"===r.match.newBlockMarker&&(a=n.validPositions[o+1])&&!0===a.match.optionalQuantifier)&&((r=s.extend({},r,{input:C.getPlaceholder.call(this,o,r.match,!0)||r.match.def})).generatedInput=!0,E.call(this,o,r,!0),!0!==i))return a=n.validPositions[e].input,n.validPositions[e]=void 0,$.call(this,e,a,!0,!0)}}function E(t,e,i,n){var s=this.maskset,o=this.opts,a=this.dependencyLib;var r=0,l=void 0!==t.begin?t.begin:t,c=void 0!==t.end?t.end:t;if(t.begin>t.end&&(l=t.end,c=t.begin),n=void 0!==n?n:l,l!==c||o.insertMode&&void 0!==s.validPositions[n]&&void 0===i||void 0===e){var h,d=a.extend(!0,{},s.validPositions),u=D.getLastValidPosition.call(this,void 0,!0);for(s.p=l,h=u;l<=h;h--)delete s.validPositions[h],void 0===e&&delete s.tests[h+1];var p,f,m=!0,g=_=n;for(e&&(s.validPositions[n]=a.extend(!0,{},e),g++,_++),h=e?c:c-1;h<=u;h++){if(void 0!==(p=d[h])&&!0!==p.generatedInput&&(c<=h||l<=h&&function(t,e,i){var n=e[t];if(void 0!==n&&!0===n.match.static&&!0!==n.match.optionality&&(void 0===e[0]||void 0===e[0].alternation))return n=(!(i.begin<=t-1)||e[t-1]&&!0===e[t-1].match.static)&&e[t-1],i=(!(i.end>t+1)||e[t+1]&&!0===e[t+1].match.static)&&e[t+1],n&&i}(h,d,{begin:l,end:c}))){for(;""!==C.getTest.call(this,g).match.def;){if(!1!==(f=y.call(this,g,p,o))||"+"===p.match.def){"+"===p.match.def&&D.getBuffer.call(this,!0);var v=$.call(this,g,p.input,"+"!==p.match.def,"+"!==p.match.def),m=!1!==v,_=(v.pos||g)+1;if(!m&&f)break}else m=!1;if(m){void 0===e&&p.match.static&&h===t.begin&&r++;break}if(!m&&g>s.maskLength)break;g++}""==C.getTest.call(this,g).match.def&&(m=!1),g=_}if(!m)break}if(!m)return s.validPositions=a.extend(!0,{},d),D.resetMaskSet.call(this,!0),!1}else e&&C.getTest.call(this,n).match.cd===e.match.cd&&(s.validPositions[n]=a.extend(!0,{},e));return D.resetMaskSet.call(this,!0),r}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyInputValue=l,e.clearOptionalTail=r,e.checkVal=s,e.HandleNativePlaceholder=function(t,e){var i=t?t.inputmask:this;{var n,s,o;a.ie?t.inputmask._valueGet()===e||t.placeholder===e&&""!==t.placeholder||(n=k.getBuffer.call(i).slice(),(s=t.inputmask._valueGet())!==e&&(-1===(o=k.getLastValidPosition.call(i))&&s===k.getBufferTemplate.call(i).join("")?n=[]:-1!==o&&r.call(i,n),S(t,n))):t.placeholder!==e&&(t.placeholder=e,""===t.placeholder)&&t.removeAttribute("placeholder")}},e.unmaskedvalue=function(t){var e=t?t.inputmask:this,i=e.opts,n=e.maskset;if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&l(t,t.inputmask._valueGet(!0))}var s,o=[],a=n.validPositions;for(s in a)a[s]&&a[s].match&&(1!=a[s].match.static||Array.isArray(n.metadata)&&!0!==a[s].generatedInput)&&o.push(a[s].input);t=0===o.length?"":(e.isRTL?o.reverse():o).join("");{var r;"function"==typeof i.onUnMask&&(r=(e.isRTL?k.getBuffer.call(e).slice().reverse():k.getBuffer.call(e)).join(""),t=i.onUnMask.call(e,r,t,i))}return t},e.writeBuffer=S;var d=(e=i(0))&&e.__esModule?e:{default:e},b=i(3),k=i(2),w=i(4),a=i(7),x=i(6);function l(t,e){var i=t?t.inputmask:this,n=i.opts;t.inputmask.refreshValue=!1,s(t,!0,!1,e=(e="function"==typeof n.onBeforeMask?n.onBeforeMask.call(i,e,n)||e:e).toString().split("")),i.undoValue=k.getBuffer.call(i).join(""),(n.clearMaskOnLostFocus||n.clearIncomplete)&&t.inputmask._valueGet()===k.getBufferTemplate.call(i).join("")&&-1===k.getLastValidPosition.call(i)&&t.inputmask._valueSet("")}function r(t){t.length=0;for(var e,i=b.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(e=i.shift());)t.push(e);return t}function s(t,e,i,n,s){var o=t?t.inputmask:this,a=o.maskset,r=o.opts,l=o.dependencyLib,c=n.slice(),h="",d=-1,u=void 0,n=r.skipOptionalPartCharacter;r.skipOptionalPartCharacter="",k.resetMaskSet.call(o),a.tests={},d=r.radixPoint?k.determineNewCaretPosition.call(o,{begin:0,end:0}).begin:0,a.p=d,o.caretPos={begin:d};var p=[],f=o.caretPos;if(c.forEach(function(t,e){void 0!==t&&(void 0===a.validPositions[e]&&c[e]===b.getPlaceholder.call(o,e)&&k.isMask.call(o,e,!0)&&!1===w.isValid.call(o,e,c[e],!0,void 0,void 0,!0)?a.p++:((e=new l.Event("_checkval")).which=t.toString().charCodeAt(0),h+=t,t=k.getLastValidPosition.call(o,void 0,!0),!function(t,e){for(var i=b.getMaskTemplate.call(o,!0,0).slice(t,k.seekNext.call(o,t,!1,!1)).join("").replace(/'/g,""),n=i.indexOf(e);0<n&&" "===i[n-1];)n--;return!(e=0===n&&!k.isMask.call(o,t)&&(b.getTest.call(o,t).match.nativeDef===e.charAt(0)||!0===b.getTest.call(o,t).match.static&&b.getTest.call(o,t).match.nativeDef==="'"+e.charAt(0)||" "===b.getTest.call(o,t).match.nativeDef&&(b.getTest.call(o,t+1).match.nativeDef===e.charAt(0)||!0===b.getTest.call(o,t+1).match.static&&b.getTest.call(o,t+1).match.nativeDef==="'"+e.charAt(0))))&&0<n&&!k.isMask.call(o,t,!1,!0)&&(t=k.seekNext.call(o,t),o.caretPos.begin<t)&&(o.caretPos={begin:t}),e}(d,h)?(u=x.EventHandlers.keypressEvent.call(o,e,!0,!1,i,o.caretPos.begin))&&(d=o.caretPos.begin+1,h=""):u=x.EventHandlers.keypressEvent.call(o,e,!0,!1,i,t+1),u?(void 0!==u.pos&&a.validPositions[u.pos]&&!0===a.validPositions[u.pos].match.static&&void 0===a.validPositions[u.pos].alternation&&(p.push(u.pos),o.isRTL||(u.forwardPosition=u.pos+1)),S.call(o,void 0,k.getBuffer.call(o),u.forwardPosition,e,!1),o.caretPos={begin:u.forwardPosition,end:u.forwardPosition},f=o.caretPos):o.caretPos=f))}),0<p.length){var m,g=k.seekNext.call(o,-1,void 0,!1);if(!w.isComplete.call(o,k.getBuffer.call(o))&&p.length<=g||w.isComplete.call(o,k.getBuffer.call(o))&&0<p.length&&p.length!==g&&0===p[0])for(var v=g;void 0!==(m=p.shift());){var _,y=new l.Event("_checkval");if((_=a.validPositions[m]).generatedInput=!0,y.which=_.input.charCodeAt(0),(u=x.EventHandlers.keypressEvent.call(o,y,!0,!1,i,v))&&void 0!==u.pos&&u.pos!==m&&a.validPositions[u.pos]&&!0===a.validPositions[u.pos].match.static)p.push(u.pos);else if(!u)break;v++}}e&&S.call(o,t,k.getBuffer.call(o),u?u.forwardPosition:o.caretPos.begin,s||new l.Event("checkval"),s&&"input"===s.type&&o.undoValue!==k.getBuffer.call(o).join("")),r.skipOptionalPartCharacter=n}function S(t,e,i,n,s){var o,a,r,l=t?t.inputmask:this,c=l.opts,h=l.dependencyLib;n&&"function"==typeof c.onBeforeWrite&&(c=c.onBeforeWrite.call(l,n,e,i,c))&&(c.refreshFromBuffer&&(o=c.refreshFromBuffer,w.refreshFromBuffer.call(l,!0===o?o:o.start,o.end,c.buffer||e),e=k.getBuffer.call(l,!0)),void 0!==i)&&(i=void 0!==c.caret?c.caret:i),void 0!==t&&(t.inputmask._valueSet(e.join("")),void 0===i||void 0!==n&&"blur"===n.type||k.caret.call(l,t,i,void 0,void 0,void 0!==n&&"keydown"===n.type&&(n.keyCode===d.default.DELETE||n.keyCode===d.default.BACKSPACE)),!0===s)&&(a=h(t),r=t.inputmask._valueGet(),t.inputmask.skipInputEvent=!0,a.trigger("input"),setTimeout(function(){r===k.getBufferTemplate.call(l).join("")?a.trigger("cleared"):!0===w.isComplete.call(l,e)&&a.trigger("complete")},0))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventHandlers=void 0;var n,_=i(2),f=(n=i(0))&&n.__esModule?n:{default:n},u=i(7),m=i(4),y=i(5),b=i(3);var p={keydownEvent:function(t){var e=this.inputmask,i=e.opts,n=e.dependencyLib,s=e.maskset,o=this,n=n(o),a=t.keyCode,r=_.caret.call(e,o),l=i.onKeyDown.call(this,t,_.getBuffer.call(e),r,i);if(void 0!==l)return l;a===f.default.BACKSPACE||a===f.default.DELETE||u.iphone&&a===f.default.BACKSPACE_SAFARI||t.ctrlKey&&a===f.default.X&&!("oncut"in o)?(t.preventDefault(),m.handleRemove.call(e,o,a,r),(0,y.writeBuffer)(o,_.getBuffer.call(e,!0),s.p,t,o.inputmask._valueGet()!==_.getBuffer.call(e).join(""))):a===f.default.END||a===f.default.PAGE_DOWN?(t.preventDefault(),l=_.seekNext.call(e,_.getLastValidPosition.call(e)),_.caret.call(e,o,t.shiftKey?r.begin:l,l,!0)):a===f.default.HOME&&!t.shiftKey||a===f.default.PAGE_UP?(t.preventDefault(),_.caret.call(e,o,0,t.shiftKey?r.begin:0,!0)):(i.undoOnEscape&&a===f.default.ESCAPE||90===a&&t.ctrlKey)&&!0!==t.altKey?((0,y.checkVal)(o,!0,!1,e.undoValue.split("")),n.trigger("click")):!0===i.tabThrough&&a===f.default.TAB?!0===t.shiftKey?(r.end=_.seekPrevious.call(e,r.end,!0),!0===b.getTest.call(e,r.end-1).match.static&&r.end--,r.begin=_.seekPrevious.call(e,r.end,!0),0<=r.begin&&0<r.end&&(t.preventDefault(),_.caret.call(e,o,r.begin,r.end))):(r.begin=_.seekNext.call(e,r.begin,!0),r.end=_.seekNext.call(e,r.begin,!0),r.end<s.maskLength&&r.end--,r.begin<=s.maskLength&&(t.preventDefault(),_.caret.call(e,o,r.begin,r.end))):t.shiftKey||i.insertModeVisual&&!1===i.insertMode&&(a===f.default.RIGHT?setTimeout(function(){var t=_.caret.call(e,o);_.caret.call(e,o,t.begin)},0):a===f.default.LEFT&&setTimeout(function(){var t=_.translatePosition.call(e,o.inputmask.caretPos.begin);_.translatePosition.call(e,o.inputmask.caretPos.end);e.isRTL?_.caret.call(e,o,t+(t===s.maskLength?0:1)):_.caret.call(e,o,t-(0===t?0:1))},0)),e.ignorable=i.ignorables.includes(a)},keypressEvent:function(t,e,i,n,s){var o=this.inputmask||this,a=o.opts,r=o.dependencyLib,l=o.maskset,c=o.el,h=r(c),d=t.which||t.charCode||t.keyCode;if(!(!0===e||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||o.ignorable))return d===f.default.ENTER&&o.undoValue!==_.getBuffer.call(o).join("")&&(o.undoValue=_.getBuffer.call(o).join(""),setTimeout(function(){h.trigger("change")},0)),o.skipInputEvent=!0;if(d){44!==d&&46!==d||3!==t.location||""===a.radixPoint||(d=a.radixPoint.charCodeAt(0));var u,r=e?{begin:s,end:s}:_.caret.call(o,c),s=String.fromCharCode(d),p=(l.writeOutBuffer=!0,m.isValid.call(o,r,s,n,void 0,void 0,void 0,e));if(!1!==p&&(_.resetMaskSet.call(o,!0),u=void 0!==p.caret?p.caret:_.seekNext.call(o,p.pos.begin||p.pos),l.p=u),u=a.numericInput&&void 0===p.caret?_.seekPrevious.call(o,u):u,!1!==i&&(setTimeout(function(){a.onKeyValidation.call(c,d,p)},0),l.writeOutBuffer)&&!1!==p&&(r=_.getBuffer.call(o),(0,y.writeBuffer)(c,r,u,t,!0!==e)),t.preventDefault(),e)return!1!==p&&(p.forwardPosition=u),p}},keyupEvent:function(t){var e=this.inputmask;!e.isComposing||t.keyCode!==f.default.KEY_229&&t.keyCode!==f.default.ENTER||e.$el.trigger("input")},pasteEvent:function(t){var e=this.inputmask,i=e.opts,n=e._valueGet(!0),s=_.caret.call(e,this),o=(e.isRTL&&(o=s.end,s.end=s.begin,s.begin=o),n.substr(0,s.begin)),a=n.substr(s.end,n.length);if(o==(e.isRTL?_.getBufferTemplate.call(e).slice().reverse():_.getBufferTemplate.call(e)).slice(0,s.begin).join("")&&(o=""),a==(e.isRTL?_.getBufferTemplate.call(e).slice().reverse():_.getBufferTemplate.call(e)).slice(s.end).join("")&&(a=""),window.clipboardData&&window.clipboardData.getData)n=o+window.clipboardData.getData("Text")+a;else{if(!t.clipboardData||!t.clipboardData.getData)return!0;n=o+t.clipboardData.getData("text/plain")+a}s=n;if("function"==typeof i.onBeforePaste){if(!1===(s=i.onBeforePaste.call(e,n,i)))return t.preventDefault();s=s||n}return(0,y.checkVal)(this,!0,!1,s.toString().split(""),t),t.preventDefault()},inputFallBackEvent:function(t){var g=this.inputmask,v=g.opts,n=g.dependencyLib;var e,i,s,o,a=this,r=a.inputmask._valueGet(!0),l=(g.isRTL?_.getBuffer.call(g).slice().reverse():_.getBuffer.call(g)).join(""),c=_.caret.call(g,a,void 0,void 0,!0);if(l!==r){e=r,i=c,u.iemobile&&1===(s=e.replace(_.getBuffer.call(g).join(""),"")).length&&((o=e.split("")).splice(i.begin,0,s),e=o.join(""));var h=function(t,e,i){for(var n,s=t.substr(0,i.begin).split(""),o=t.substr(i.begin).split(""),a=e.substr(0,i.begin).split(""),r=e.substr(i.begin).split(""),l=(s.length>=a.length?s:a).length,c=(o.length>=r.length?o:r).length,h="",d=[];s.length<l;)s.push("~");for(;a.length<l;)a.push("~");for(;o.length<c;)o.unshift("~");for(;r.length<c;)r.unshift("~");for(var u=s.concat(o),p=a.concat(r),f=0,m=u.length;f<m;f++)switch(n=b.getPlaceholder.call(g,_.translatePosition.call(g,f)),h){case"insertText":p[f-1]===u[f]&&i.begin==u.length-1&&d.push(u[f]),f=m;break;case"insertReplacementText":case"deleteContentBackward":"~"===u[f]?i.end++:f=m;break;default:u[f]!==p[f]&&(("~"===u[f+1]||u[f+1]===n||void 0===u[f+1])&&(p[f]===n&&"~"===p[f+1]||"~"===p[f])||"~"===p[f+1]&&p[f]===u[f+1]?(h="insertText",d.push(u[f]),i.begin--,i.end--):u[f]!==n&&"~"!==u[f]&&("~"===u[f+1]||p[f]!==u[f]&&p[f+1]===u[f+1])?(h="insertReplacementText",d.push(u[f]),i.begin--):"~"===u[f]?(h="deleteContentBackward",!_.isMask.call(g,_.translatePosition.call(g,f),!0)&&p[f]!==v.radixPoint||i.end++):f=m)}return{action:h,data:d,caret:i}}(r=e,l,c);switch((a.inputmask.shadowRoot||document).activeElement!==a&&a.focus(),(0,y.writeBuffer)(a,_.getBuffer.call(g)),_.caret.call(g,a,c.begin,c.end,!0),h.action){case"insertText":case"insertReplacementText":h.data.forEach(function(t,e){var i=new n.Event("keypress");i.which=t.charCodeAt(0),g.ignorable=!1,p.keypressEvent.call(a,i)}),setTimeout(function(){g.$el.trigger("keyup")},0);break;case"deleteContentBackward":var d=new n.Event("keydown");d.keyCode=f.default.BACKSPACE,p.keydownEvent.call(a,d);break;default:(0,y.applyInputValue)(a,r)}t.preventDefault()}},compositionendEvent:function(t){var e=this.inputmask;e.isComposing=!1,e.$el.trigger("input")},setValueEvent:function(t,e,i){var n=this.inputmask,e=t&&t.detail?t.detail[0]:e;void 0===e&&(e=this.inputmask._valueGet(!0)),(0,y.applyInputValue)(this,e),(t.detail&&void 0!==t.detail[1]||void 0!==i)&&_.caret.call(n,this,t.detail?t.detail[1]:i)},focusEvent:function(t){var e=this.inputmask,i=e.opts,n=this.inputmask._valueGet();i.showMaskOnFocus&&n!==_.getBuffer.call(e).join("")&&(0,y.writeBuffer)(this,_.getBuffer.call(e),_.seekNext.call(e,_.getLastValidPosition.call(e))),!0!==i.positionCaretOnTab||!1!==e.mouseEnter||m.isComplete.call(e,_.getBuffer.call(e))&&-1!==_.getLastValidPosition.call(e)||p.clickEvent.apply(this,[t,!0]),e.undoValue=_.getBuffer.call(e).join("")},invalidEvent:function(t){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var t=this.inputmask,e=t.opts;t.mouseEnter=!1,e.clearMaskOnLostFocus&&(this.inputmask.shadowRoot||document).activeElement!==this&&(0,y.HandleNativePlaceholder)(this,t.originalPlaceholder)},clickEvent:function(t,e){var i=this.inputmask;(this.inputmask.shadowRoot||document).activeElement===this&&void 0!==(e=_.determineNewCaretPosition.call(i,_.caret.call(i,this),e))&&_.caret.call(i,this,e)},cutEvent:function(t){var e=this.inputmask,i=e.maskset,n=_.caret.call(e,this),s=window.clipboardData||t.clipboardData,o=e.isRTL?_.getBuffer.call(e).slice(n.end,n.begin):_.getBuffer.call(e).slice(n.begin,n.end);s.setData("text",(e.isRTL?o.reverse():o).join("")),document.execCommand&&document.execCommand("copy"),m.handleRemove.call(e,this,f.default.DELETE,n),(0,y.writeBuffer)(this,_.getBuffer.call(e),i.p,t,e.undoValue!==_.getBuffer.call(e).join(""))},blurEvent:function(t){var e,i,n=this.inputmask,s=n.opts,o=(0,n.dependencyLib)(this);this.inputmask&&((0,y.HandleNativePlaceholder)(this,n.originalPlaceholder),e=this.inputmask._valueGet(),i=_.getBuffer.call(n).slice(),""!==e&&(s.clearMaskOnLostFocus&&(-1===_.getLastValidPosition.call(n)&&e===_.getBufferTemplate.call(n).join("")?i=[]:y.clearOptionalTail.call(n,i)),!1===m.isComplete.call(n,i)&&(setTimeout(function(){o.trigger("incomplete")},0),s.clearIncomplete)&&(_.resetMaskSet.call(n),i=s.clearMaskOnLostFocus?[]:_.getBufferTemplate.call(n).slice()),(0,y.writeBuffer)(this,i,void 0,t)),n.undoValue!==_.getBuffer.call(n).join(""))&&(n.undoValue=_.getBuffer.call(n).join(""),o.trigger("change"))},mouseenterEvent:function(){var t=this.inputmask,e=t.opts;t.mouseEnter=!0,(this.inputmask.shadowRoot||document).activeElement!==this&&(null==t.originalPlaceholder&&this.placeholder!==t.originalPlaceholder&&(t.originalPlaceholder=this.placeholder),e.showMaskOnHover)&&(0,y.HandleNativePlaceholder)(this,(t.isRTL?_.getBufferTemplate.call(t).slice().reverse():_.getBufferTemplate.call(t)).join(""))},submitEvent:function(){var t=this.inputmask,e=t.opts;t.undoValue!==_.getBuffer.call(t).join("")&&t.$el.trigger("change"),e.clearMaskOnLostFocus&&-1===_.getLastValidPosition.call(t)&&t._valueGet&&t._valueGet()===_.getBufferTemplate.call(t).join("")&&t._valueSet(""),e.clearIncomplete&&!1===m.isComplete.call(t,_.getBuffer.call(t))&&t._valueSet(""),e.removeMaskOnSubmit&&(t._valueSet(t.unmaskedvalue(),!0),setTimeout(function(){(0,y.writeBuffer)(t.el,_.getBuffer.call(t))},0))},resetEvent:function(){var t=this.inputmask;t.refreshValue=!0,setTimeout(function(){(0,y.applyInputValue)(t.el,t._valueGet(!0))},0)}};e.EventHandlers=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iphone=e.iemobile=e.mobile=e.ie=e.ua=void 0;var n=window.navigator&&window.navigator.userAgent||"",s=0<n.indexOf("MSIE ")||0<n.indexOf("Trident/"),o="ontouchstart"in window,a=/iemobile/i.test(n),r=/iphone/i.test(n)&&!a;e.iphone=r,e.iemobile=a,e.mobile=o,e.ie=s,e.ua=n},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__8__},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mask=function(){var u=this,t=this.opts,e=this.el,p=this.dependencyLib;v.EventRuler.off(e);var i=function(t,i){"textarea"!==t.tagName.toLowerCase()&&i.ignorables.push(f.default.ENTER);var e,n,s,o,a,r,l=t.getAttribute("type"),c="input"===t.tagName.toLowerCase()&&i.supportsInputType.includes(l)||t.isContentEditable||"textarea"===t.tagName.toLowerCase();return c||("input"===t.tagName.toLowerCase()?((e=document.createElement("input")).setAttribute("type",l),c="text"===e.type,e=null):c="partial"),!1!==c?(l=t).inputmask.__valueGet||(!0!==i.noValuePatching&&(Object.getOwnPropertyDescriptor?(o=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(l),"value"):void 0)&&o.get&&o.set?(n=o.get,s=o.set,Object.defineProperty(l,"value",{get:h,set:d,configurable:!0})):"input"!==l.tagName.toLowerCase()&&(n=function(){return this.textContent},s=function(t){this.textContent=t},Object.defineProperty(l,"value",{get:h,set:d,configurable:!0})):document.__lookupGetter__&&l.__lookupGetter__("value")&&(n=l.__lookupGetter__("value"),s=l.__lookupSetter__("value"),l.__defineGetter__("value",h),l.__defineSetter__("value",d)),l.inputmask.__valueGet=n,l.inputmask.__valueSet=s),l.inputmask._valueGet=function(t){return u.isRTL&&!0!==t?n.call(this.el).split("").reverse().join(""):n.call(this.el)},l.inputmask._valueSet=function(t,e){s.call(this.el,null==t?"":!0!==e&&u.isRTL?t.split("").reverse().join(""):t)},void 0===n&&(n=function(){return this.value},s=function(t){this.value=t},o=l.type,!p.valHooks||void 0!==p.valHooks[o]&&!0===p.valHooks[o].inputmaskpatch||(a=p.valHooks[o]&&p.valHooks[o].get?p.valHooks[o].get:function(t){return t.value},r=p.valHooks[o]&&p.valHooks[o].set?p.valHooks[o].set:function(t,e){return t.value=e,t},p.valHooks[o]={get:function(t){var e;return t.inputmask?t.inputmask.opts.autoUnmask?t.inputmask.unmaskedvalue():(e=a(t),-1!==m.getLastValidPosition.call(u,void 0,void 0,t.inputmask.maskset.validPositions)||!0!==i.nullable?e:""):a(t)},set:function(t,e){var i=r(t,e);return t.inputmask&&(0,g.applyInputValue)(t,e),i},inputmaskpatch:!0}),v.EventRuler.on(l,"mouseenter",function(){var t=this.inputmask._valueGet(!0);t!==(u.isRTL?m.getBuffer.call(u).reverse():m.getBuffer.call(u)).join("")&&(0,g.applyInputValue)(this,t)}))):t.inputmask=void 0,c;function h(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==m.getLastValidPosition.call(u)||!0!==i.nullable?(this.inputmask.shadowRoot||document.activeElement)===this&&i.clearMaskOnLostFocus?(u.isRTL?g.clearOptionalTail.call(u,m.getBuffer.call(u).slice()).reverse():g.clearOptionalTail.call(u,m.getBuffer.call(u).slice())).join(""):n.call(this):"":n.call(this)}function d(t){s.call(this,t),this.inputmask&&(0,g.applyInputValue)(this,t)}}(e,t);{var n;!1!==i&&(u.originalPlaceholder=e.placeholder,u.maxLength=void 0!==e?e.maxLength:void 0,-1===u.maxLength&&(u.maxLength=void 0),"inputMode"in e&&null===e.getAttribute("inputmode")&&(e.inputMode=t.inputmode,e.setAttribute("inputmode",t.inputmode)),!0===i&&(t.showMaskOnFocus=t.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(e.autocomplete),s.iphone&&(t.insertModeVisual=!1),v.EventRuler.on(e,"submit",a.EventHandlers.submitEvent),v.EventRuler.on(e,"reset",a.EventHandlers.resetEvent),v.EventRuler.on(e,"blur",a.EventHandlers.blurEvent),v.EventRuler.on(e,"focus",a.EventHandlers.focusEvent),v.EventRuler.on(e,"invalid",a.EventHandlers.invalidEvent),v.EventRuler.on(e,"click",a.EventHandlers.clickEvent),v.EventRuler.on(e,"mouseleave",a.EventHandlers.mouseleaveEvent),v.EventRuler.on(e,"mouseenter",a.EventHandlers.mouseenterEvent),v.EventRuler.on(e,"paste",a.EventHandlers.pasteEvent),v.EventRuler.on(e,"cut",a.EventHandlers.cutEvent),v.EventRuler.on(e,"complete",t.oncomplete),v.EventRuler.on(e,"incomplete",t.onincomplete),v.EventRuler.on(e,"cleared",t.oncleared),!0!==t.inputEventOnly&&(v.EventRuler.on(e,"keydown",a.EventHandlers.keydownEvent),v.EventRuler.on(e,"keypress",a.EventHandlers.keypressEvent),v.EventRuler.on(e,"keyup",a.EventHandlers.keyupEvent)),(s.mobile||t.inputEventOnly)&&e.removeAttribute("maxLength"),v.EventRuler.on(e,"input",a.EventHandlers.inputFallBackEvent),v.EventRuler.on(e,"compositionend",a.EventHandlers.compositionendEvent)),v.EventRuler.on(e,"setvalue",a.EventHandlers.setValueEvent),u.undoValue=m.getBufferTemplate.call(u).join(""),i=(e.inputmask.shadowRoot||document).activeElement,""===e.inputmask._valueGet(!0)&&!1!==t.clearMaskOnLostFocus&&i!==e||((0,g.applyInputValue)(e,e.inputmask._valueGet(!0),t),n=m.getBuffer.call(u).slice(),!1===o.isComplete.call(u,n)&&t.clearIncomplete&&m.resetMaskSet.call(u),t.clearMaskOnLostFocus&&i!==e&&(-1===m.getLastValidPosition.call(u)?n=[]:g.clearOptionalTail.call(u,n)),(!1===t.clearMaskOnLostFocus||t.showMaskOnFocus&&i===e||""!==e.inputmask._valueGet(!0))&&(0,g.writeBuffer)(e,n),i===e&&m.caret.call(u,e,m.seekNext.call(u,m.getLastValidPosition.call(u)))))}};var f=(e=i(0))&&e.__esModule?e:{default:e},m=i(2),g=i(5),v=i(10),s=i(7),o=i(4),a=i(6)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventRuler=void 0;var c=n(i(1)),h=n(i(0)),d=i(2),u=i(5);function n(t){return t&&t.__esModule?t:{default:t}}e.EventRuler={on:function(a,t,r){function e(t){t.originalEvent&&(t=t.originalEvent||t,arguments[0]=t);var e,i=this,n=i.inputmask,s=n?n.opts:void 0;if(void 0===n&&"FORM"!==this.nodeName){var o=l.data(i,"_inputmask_opts");l(i).off(),o&&new c.default(o).mask(i)}else{if(["submit","reset","setvalue"].includes(t.type)||"FORM"===this.nodeName||!(i.disabled||i.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===s.tabThrough&&t.keyCode===h.default.TAB))){switch(t.type){case"input":if(!0===n.skipInputEvent||t.inputType&&"insertCompositionText"===t.inputType)return n.skipInputEvent=!1,t.preventDefault();break;case"keydown":n.skipKeyPressEvent=!1,n.skipInputEvent=n.isComposing=t.keyCode===h.default.KEY_229;break;case"keyup":case"compositionend":n.isComposing&&(n.skipInputEvent=!1);break;case"keypress":if(!0===n.skipKeyPressEvent)return t.preventDefault();n.skipKeyPressEvent=!0;break;case"click":case"focus":return n.validationEvent?(n.validationEvent=!1,a.blur(),(0,u.HandleNativePlaceholder)(a,(n.isRTL?d.getBufferTemplate.call(n).slice().reverse():d.getBufferTemplate.call(n)).join("")),setTimeout(function(){a.focus()},3e3)):(e=arguments,setTimeout(function(){a.inputmask&&r.apply(i,e)},0)),!1}o=r.apply(i,arguments);return!1===o&&(t.preventDefault(),t.stopPropagation()),o}t.preventDefault()}}var l=a.inputmask.dependencyLib;a.inputmask.events[t]=a.inputmask.events[t]||[],a.inputmask.events[t].push(e),["submit","reset"].includes(t)?null!==a.form&&l(a.form).on(t,e.bind(a)):l(a).on(t,e)},off:function(t,e){if(t.inputmask&&t.inputmask.events){var i,n=t.inputmask.dependencyLib,s=t.inputmask.events;for(i in e&&((s=[])[e]=t.inputmask.events[e]),s){for(var o=s[i];0<o.length;){var a=o.pop();["submit","reset"].includes(i)?null!==t.form&&n(t.form).off(i,a):n(t).off(i,a)}delete t.inputmask.events[i]}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i=(i=i(8))&&i.__esModule?i:{default:i};if(void 0===i.default)throw"jQuery not loaded!";i=i.default;e.default=i},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default="undefined"!=typeof window?window:new(eval("require('jsdom').JSDOM"))("").window;exports.default=_default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(n,"\\$1")};var n=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(15),i(21),i(22),i(23);i=((i=i(1))&&i.__esModule?i:{default:i}).default;e.default=i},function(t,e,i){"use strict";i=(i=i(1))&&i.__esModule?i:{default:i};i.default.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var o=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function n(t,e,i,n,s){return t=-1<i-1&&"."!==e.buffer[i-1]?(t=e.buffer[i-1]+t,-1<i-2&&"."!==e.buffer[i-2]?e.buffer[i-2]+t:"0"+t):"00"+t,o.test(t)}i.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i[i[i]].j[j[j]].k[k[k]].l[l[l]]",definitions:{i:{validator:n},j:{validator:n},k:{validator:n},l:{validator:n}},onUnMask:function(t,e,i){return t},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(t,e,i){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(t,e,i,n,s,o,a){return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(t.join(""))}}})},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===n("test".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype})},function(t,e,i){"use strict";Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0!=n)for(var e=0|e,s=Math.max(0<=e?e:n-Math.abs(e),0);s<n;){if(i[s]===t)return!0;s++}return!1}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateMaskSet=function(e,a){function t(t,e,i){var n,s,o=!1;return 1===(t=null!==t&&""!==t?t:(o=null!==i.regex)?(t=i.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(o=!0,".*")).length&&!1===i.greedy&&0!==i.repeat&&(i.placeholder=""),(0<i.repeat||"*"===i.repeat||"+"===i.repeat)&&(s="*"===i.repeat?0:"+"===i.repeat?1:i.repeat,t=i.groupmarker[0]+t+i.groupmarker[1]+i.quantifiermarker[0]+s+","+i.repeat+i.quantifiermarker[1]),s=o?"regex_"+i.regex:i.numericInput?t.split("").reverse().join(""):t,!1!==i.keepStatic&&(s="ks_"+s),void 0===Inputmask.prototype.masksCache[s]||!0===a?(n={mask:t,maskToken:Inputmask.prototype.analyseMask(t,o,i),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:e,maskLength:void 0,jitOffset:{}},!0!==a&&(Inputmask.prototype.masksCache[s]=n,n=r.default.extend(!0,{},Inputmask.prototype.masksCache[s]))):n=r.default.extend(!0,{},Inputmask.prototype.masksCache[s]),n}if("function"==typeof e.mask&&(e.mask=e.mask(e)),Array.isArray(e.mask)){var i;if(1<e.mask.length)return null===e.keepStatic&&(e.keepStatic=!0),i=e.groupmarker[0],(e.isRTL?e.mask.reverse():e.mask).forEach(function(t){1<i.length&&(i+=e.groupmarker[1]+e.alternatormarker+e.groupmarker[0]),void 0!==t.mask&&"function"!=typeof t.mask?i+=t.mask:i+=t}),t(i+=e.groupmarker[1],e.mask,e);e.mask=e.mask.pop()}return null===e.keepStatic&&(e.keepStatic=!1),e.mask&&void 0!==e.mask.mask&&"function"!=typeof e.mask.mask?t(e.mask.mask,e.mask,e):t(e.mask,e.mask,e)},e.analyseMask=function(t,o,a){var e,i,n,s,r,l=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,c=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,h=!1,d=new m,u=[],p=[],f=!1;function m(t,e,i,n){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function g(i,t,n){n=void 0!==n?n:i.matches.length;var e,s=i.matches[n-1];o?(0===t.indexOf("[")||h&&/\\d|\\s|\\w]/i.test(t)||"."===t?i.matches.splice(n++,0,{fn:new RegExp(t,a.casing?"i":""),static:!1,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==t,casing:null,def:t,placeholder:void 0,nativeDef:t}):(t=h?t[t.length-1]:t).split("").forEach(function(t,e){s=i.matches[n-1],i.matches.splice(n++,0,{fn:/[a-z]/i.test(a.staticDefinitionSymbol||t)?new RegExp("["+(a.staticDefinitionSymbol||t)+"]",a.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==t&&!0!==s.static,casing:null,def:a.staticDefinitionSymbol||t,placeholder:void 0!==a.staticDefinitionSymbol?t:void 0,nativeDef:(h?"'":"")+t})}),h=!1):(e=a.definitions&&a.definitions[t]||a.usePrototypeDefinitions&&Inputmask.prototype.definitions[t])&&!h?i.matches.splice(n++,0,{fn:e.validator?"string"==typeof e.validator?new RegExp(e.validator,a.casing?"i":""):new function(){this.test=e.validator}:new RegExp("."),static:e.static||!1,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==(e.definitionSymbol||t),casing:e.casing,def:e.definitionSymbol||t,placeholder:e.placeholder,nativeDef:t,generated:e.generated}):(i.matches.splice(n++,0,{fn:/[a-z]/i.test(a.staticDefinitionSymbol||t)?new RegExp("["+(a.staticDefinitionSymbol||t)+"]",a.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==t&&!0!==s.static,casing:null,def:a.staticDefinitionSymbol||t,placeholder:void 0!==a.staticDefinitionSymbol?t:void 0,nativeDef:(h?"'":"")+t}),h=!1)}function v(){if(0<u.length){if(g(s=u[u.length-1],i),s.isAlternator){r=u.pop();for(var t=0;t<r.matches.length;t++)r.matches[t].isGroup&&(r.matches[t].isGroup=!1);(0<u.length?s=u[u.length-1]:d).matches.push(r)}}else g(d,i)}function _(t){var e=new m(!0);return e.openGroup=!1,e.matches=t,e}function y(){if((n=u.pop()).openGroup=!1,void 0!==n)if(0<u.length){if((s=u[u.length-1]).matches.push(n),s.isAlternator){r=u.pop();for(var t=0;t<r.matches.length;t++)r.matches[t].isGroup=!1,r.matches[t].alternatorGroup=!1;(0<u.length?s=u[u.length-1]:d).matches.push(r)}}else d.matches.push(n);else v()}function b(t){var e=t.pop();return e=e.isQuantifier?_([t.pop(),e]):e}for(o&&(a.optionalmarker[0]=void 0,a.optionalmarker[1]=void 0);e=(o?c:l).exec(t);){if(i=e[0],o)switch(i.charAt(0)){case"?":i="{0,1}";break;case"+":case"*":i="{"+i+"}";break;case"|":var k;0===u.length&&((k=_(d.matches)).openGroup=!0,u.push(k),d.matches=[],f=!0)}if(h)v();else switch(i.charAt(0)){case"$":case"^":o||v();break;case"(?=":case"(?!":case"(?<=":case"(?<!":break;case a.escapeChar:h=!0,o&&v();break;case a.optionalmarker[1]:case a.groupmarker[1]:y();break;case a.optionalmarker[0]:u.push(new m(!1,!0));break;case a.groupmarker[0]:u.push(new m(!0));break;case a.quantifiermarker[0]:var w=new m(!1,!1,!0),x=(i=i.replace(/[{}]/g,"")).split("|"),S=x[0].split(","),E=isNaN(S[0])?S[0]:parseInt(S[0]),S=1===S.length?E:isNaN(S[1])?S[1]:parseInt(S[1]),E=("*"!==E&&"+"!==E||(E="*"===S?0:1),w.quantifier={min:E,max:S,jit:x[1]},(0<u.length?u[u.length-1]:d).matches);(e=E.pop()).isAlternator&&(E.push(e),E=e.matches,S=new m(!0),x=E.pop(),E.push(S),E=S.matches,e=x),e.isGroup||(e=_([e])),E.push(e),E.push(w);break;case a.alternatormarker:(x=0<u.length?(S=(s=u[u.length-1]).matches[s.matches.length-1],s.openGroup&&(void 0===S.matches||!1===S.isGroup&&!1===S.isAlternator)?u.pop():b(s.matches)):b(d.matches)).isAlternator?u.push(x):(x.alternatorGroup?(r=u.pop(),x.alternatorGroup=!1):r=new m(!1,!1,!1,!0),r.matches.push(x),u.push(r),x.openGroup&&((E=new m(!(x.openGroup=!1))).alternatorGroup=!0,u.push(E)));break;default:v()}}for(f&&y();0<u.length;)n=u.pop(),d.matches.push(n);return 0<d.matches.length&&(function i(n){n&&n.matches&&n.matches.forEach(function(t,e){(void 0===(e=n.matches[e+1])||void 0===e.matches||!1===e.isQuantifier)&&t&&t.isGroup&&(t.isGroup=!1,o||(g(t,a.groupmarker[0],0),!0!==t.openGroup&&g(t,a.groupmarker[1]))),i(t)})}(d),p.push(d)),(a.numericInput||a.isRTL)&&function t(e){for(var i in e.matches=e.matches.reverse(),e.matches){var n;Object.prototype.hasOwnProperty.call(e.matches,i)&&(s=parseInt(i),e.matches[i].isQuantifier&&e.matches[s+1]&&e.matches[s+1].isGroup&&(n=e.matches[i],e.matches.splice(i,1),e.matches.splice(s+1,0,n)),void 0!==e.matches[i].matches?e.matches[i]=t(e.matches[i]):e.matches[i]=((s=e.matches[i])===a.optionalmarker[0]?s=a.optionalmarker[1]:s===a.optionalmarker[1]?s=a.optionalmarker[0]:s===a.groupmarker[0]?s=a.groupmarker[1]:s===a.groupmarker[1]&&(s=a.groupmarker[0]),s))}var s;return e}(p[0]),p};var r=(e=i(11))&&e.__esModule?e:{default:e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={9:{validator:"[0-9０-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(t,e){return"function"==typeof e.onBeforeMask?e.onBeforeMask.call(this,t,e):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0}},function(t,e,i){"use strict";var n=o(i(1)),s=o(i(0)),r=o(i(13)),f=i(2);function h(t){return(h="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function o(t){return t&&t.__esModule?t:{default:t}}var a=n.default.dependencyLib,m=(new Date).getFullYear(),g={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return u(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return u(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return u(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return u(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return u(Date.prototype.getHours.call(this),2)}],hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return u(Date.prototype.getHours.call(this),2)}],Hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return function(){return u(Date.prototype.getHours.call(this),t)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return u(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return u(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return u(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return u(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},l={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function c(t){var e,i=new RegExp("\\d+$").exec(t[0]);return i&&void 0!==i[0]?((e=g[t[0][0]+"x"].slice(""))[0]=e[0](i[0]),e[3]=e[3](i[0]),e):g[t[0]]||void 0}function d(t){if(!t.tokenizer){var e,i,n=[],s=[];for(e in g)/\.*x$/.test(e)?(i=e[0]+"\\d+",-1===s.indexOf(i)&&s.push(i)):-1===n.indexOf(e[0])&&n.push(e[0]);t.tokenizer="("+(0<s.length?s.join("|")+"|":"")+n.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function v(t,e,i,n){var s,o,a="";for(d(i).lastIndex=0;s=d(i).exec(t);)if(void 0===e)if(o=c(s))a+="("+o[0]+")";else switch(s[0]){case"[":a+="(";break;case"]":a+=")?";break;default:a+=(0,r.default)(s[0])}else(o=c(s))?!0!==n&&o[3]?a+=o[3].call(e.date):o[2]?a+=e["raw"+o[2]]:a+=s[0]:a+=s[0];return a}function u(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function _(t,e,i){var n,s={date:new Date(1,0,1)},o=t;if("string"==typeof o){for(d(i).lastIndex=0;a=d(i).exec(e);){var a,r=new RegExp("\\d+$").exec(a[0]),l=r?a[0][0]+"x":a[0],c=void 0,c=r?(r=d(i).lastIndex,a=y(a.index,i),d(i).lastIndex=r,o.slice(0,o.indexOf(a.nextMatch[0]))):o.slice(0,l.length);Object.prototype.hasOwnProperty.call(g,l)&&(r=g[l][2],a=g[l][1],l=c,(n=s)[r]=l.replace(/[^0-9]/g,"0"),n["raw"+r]=l,void 0!==a&&(l=n[r],"day"===r&&0===parseInt(l)&&(l=1),"month"===r&&0<(l=parseInt(l))&&--l,a.call(n.date,l))),o=o.slice(c.length)}return s}if(o&&"object"===h(o)&&Object.prototype.hasOwnProperty.call(o,"date"))return o}function p(t,e){return v(e.inputFormat,{date:t},e)}function y(t,e){var i,n,s=0,o=0;for(d(e).lastIndex=0;n=d(e).exec(e.inputFormat);){var a=new RegExp("\\d+$").exec(n[0]);if(t<=(s+=o=a?parseInt(a[0]):n[0].length)){i=n,n=d(e).exec(e.inputFormat);break}}return{targetMatchIndex:s-o,nextMatch:n,targetMatch:i}}n.default.extendAliases({datetime:{mask:function(t){return t.numericInput=!1,g.S=t.i18n.ordinalSuffix.join("|"),t.inputFormat=l[t.inputFormat]||t.inputFormat,t.displayFormat=l[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=l[t.outputFormat]||t.outputFormat||t.inputFormat,t.placeholder=""!==t.placeholder?t.placeholder:t.inputFormat.replace(/[[\]]/,""),t.regex=v(t.inputFormat,void 0,t),t.min=_(t.min,t.inputFormat,t),t.max=_(t.max,t.inputFormat,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function(t,e,i,n,s,o,a,r){if(!r&&isNaN(i)&&t[e]!==i){r=y(e,s);if(r.nextMatch&&r.nextMatch[0]===i&&1<r.targetMatch[0].length){s=g[r.targetMatch[0]][0];if(new RegExp(s).test("0"+t[e-1]))return t[e]=t[e-1],t[e-1]="0",{fuzzy:!0,buffer:t,refreshFromBuffer:{start:e-1,end:e+1},pos:e+1}}}return!0},postValidation:function(t,e,i,n,s,o,a,r){if(a)return!0;if(!1===n)return(l=y(e+1,s)).targetMatch&&l.targetMatchIndex===e&&1<l.targetMatch[0].length&&void 0!==g[l.targetMatch[0]]&&(p=g[l.targetMatch[0]][0],new RegExp(p).test("0"+i))?{insert:[{pos:e,c:"0"},{pos:e+1,c:i}],pos:e+1}:n;n.fuzzy&&(t=n.buffer,e=n.pos),(l=y(e,s)).targetMatch&&l.targetMatch[0]&&void 0!==g[l.targetMatch[0]]&&(p=g[l.targetMatch[0]][0],a=t.slice(l.targetMatchIndex,l.targetMatchIndex+l.targetMatch[0].length),!1===new RegExp(p).test(a.join("")))&&2===l.targetMatch[0].length&&o.validPositions[l.targetMatchIndex]&&o.validPositions[l.targetMatchIndex+1]&&(o.validPositions[l.targetMatchIndex+1].input="0");var l,c,h,d,u,i=n,p=_(t.join(""),s.inputFormat,s);return i&&p.date.getTime()==p.date.getTime()&&(a=i,l=s,(t=p).year!==t.rawyear&&(c=m.toString(),u=t.rawyear.replace(/[^0-9]/g,""),h=c.slice(0,u.length),d=c.slice(u.length),2===u.length)&&u===h&&(u=new Date(m,t.month-1,t.day),t.day==u.getDate())&&(!l.max||l.max.date.getTime()>=u.getTime())&&(t.date.setFullYear(m),t.year=c,a.insert=[{pos:a.pos+1,c:d[0]},{pos:a.pos+2,c:d[1]}]),i=a,i=function(t,e,i,n,s){if(e){if(i.min){var o;if(t.rawyear)if((l=t.rawyear.replace(/[^0-9]/g,""))<i.min.year.substr(0,l.length)){var a,r=y(e.pos,i),l=t.rawyear.substr(0,e.pos-r.targetMatchIndex+1).replace(/[^0-9]/g,"0");if(i.min.year.substr(0,l.length)<=l)return e.remove=r.targetMatchIndex+l.length,e;if(l="yyyy"===r.targetMatch[0]?t.rawyear.substr(1,1):t.rawyear.substr(0,1),a=i.min.year.substr(2,1),o=i.max?i.max.year.substr(2,1):l,1===l.length&&a<=l&&l<=o&&!0!==s)return"yyyy"===r.targetMatch[0]?(e.insert=[{pos:e.pos+1,c:l,strict:!0}],e.caret=e.pos+2,n.validPositions[e.pos].input=i.min.year[1]):(e.insert=[{pos:e.pos+1,c:i.min.year[1],strict:!0},{pos:e.pos+2,c:l,strict:!0}],e.caret=e.pos+3,n.validPositions[e.pos].input=i.min.year[0]),e;e=!1}e&&t.year&&t.year===t.rawyear&&i.min.date.getTime()==i.min.date.getTime()&&(e=i.min.date.getTime()<=t.date.getTime())}e&&i.max&&i.max.date.getTime()==i.max.date.getTime()&&(e=i.max.date.getTime()>=t.date.getTime())}return e}(p,i=function(t,e,i){if(void 0===t.rawday||!isFinite(t.rawday)&&new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day||"29"==t.day&&!isFinite(t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)return e;if("29"==t.day){i=y(e.pos,i);if("yyyy"===i.targetMatch[0]&&e.pos-i.targetMatchIndex==2)return e.remove=e.pos+1,e}else if("02"==t.month&&"30"==t.day)return t.day="03",t.date.setDate(3),t.date.setMonth(1),e.insert=[{pos:e.pos,c:"0"},{pos:e.pos+1,c:e.c}],e.caret=f.seekNext.call(this,e.pos+1),e;return!1}.call(this,p,i,s),s,o,r)),e&&i&&n.pos!==e?{buffer:v(s.inputFormat,p,s).split(""),refreshFromBuffer:{start:e,end:n.pos}}:i},onKeyDown:function(t,e,i,n){t.ctrlKey&&t.keyCode===s.default.RIGHT&&(this.inputmask._valueSet(p(new Date,n)),a(this).trigger("setvalue"))},onUnMask:function(t,e,i){return e&&v(i.outputFormat,_(t,i.inputFormat,i),i,!0)},casing:function(t,e,i,n){return 0==e.nativeDef.indexOf("[ap]")?t.toLowerCase():0==e.nativeDef.indexOf("[AP]")?t.toUpperCase():t},onBeforeMask:function(t,e){return t="[object Date]"===Object.prototype.toString.call(t)?p(t,e):t},insertMode:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric"}})},function(t,e,i){"use strict";var s=n(i(1)),r=n(i(0)),u=n(i(13));function n(t){return t&&t.__esModule?t:{default:t}}var p=s.default.dependencyLib;function a(t,e){for(var i="",n=0;n<t.length;n++)s.default.prototype.definitions[t.charAt(n)]||e.definitions[t.charAt(n)]||e.optionalmarker[0]===t.charAt(n)||e.optionalmarker[1]===t.charAt(n)||e.quantifiermarker[0]===t.charAt(n)||e.quantifiermarker[1]===t.charAt(n)||e.groupmarker[0]===t.charAt(n)||e.groupmarker[1]===t.charAt(n)||e.alternatormarker===t.charAt(n)?i+="\\"+t.charAt(n):i+=t.charAt(n);return i}function f(t,e,i,n){if(0<t.length&&0<e&&(!i.digitsOptional||n)){var s=t.indexOf(i.radixPoint),o=!1;i.negationSymbol.back===t[t.length-1]&&(o=!0,t.length--),-1===s&&(t.push(i.radixPoint),s=t.length-1);for(var a=1;a<=e;a++)isFinite(t[s+a])||(t[s+a]="0")}return o&&t.push(i.negationSymbol.back),t}function v(t,e){var i,n=0;if("+"===t){for(n in e.validPositions);n=parseInt(n)}for(i in e.tests)if(i=parseInt(i),n<=i)for(var s=0,o=e.tests[i].length;s<o;s++)if((void 0===e.validPositions[i]||"-"===t)&&e.tests[i][s].match.def===t)return i+(void 0!==e.validPositions[i]&&"-"!==t?1:0);return n}function _(t,e){var i,n=-1;for(i in e.validPositions){var s=e.validPositions[i];if(s&&s.match.def===t){n=parseInt(i);break}}return n}function o(t,e,i,n,s){var o=e.buffer?e.buffer.indexOf(s.radixPoint):-1,t=-1!==o&&new RegExp("[0-9１-９]").test(t);return s._radixDance&&t&&null==e.validPositions[o]?{insert:{pos:o===i?o+1:o,c:s.radixPoint},pos:i}:t}s.default.extendAliases({numeric:{mask:function(t){t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),1<t.placeholder.length&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&(t.positionCaretOnClick="lvp");var e,i,n="0",s=t.radixPoint,o=(!0===t.numericInput&&void 0===t.__financeInput?(n="1",t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t._radixDance=!1,s=","===t.radixPoint?"?":"!",""!==t.radixPoint&&void 0===t.definitions[s]&&(t.definitions[s]={},t.definitions[s].validator="["+t.radixPoint+"]",t.definitions[s].placeholder=t.radixPoint,t.definitions[s].static=!0,t.definitions[s].generated=!0)):(t.__financeInput=!1,t.numericInput=!0),"[+]");return o+=a(t.prefix,t),""!==t.groupSeparator?(void 0===t.definitions[t.groupSeparator]&&(t.definitions[t.groupSeparator]={},t.definitions[t.groupSeparator].validator="["+t.groupSeparator+"]",t.definitions[t.groupSeparator].placeholder=t.groupSeparator,t.definitions[t.groupSeparator].static=!0,t.definitions[t.groupSeparator].generated=!0),o+=t._mask(t)):o+="9{+}",void 0!==t.digits&&0!==t.digits&&(i=t.digits.toString().split(","),isFinite(i[0])&&i[1]&&isFinite(i[1])?o+=s+n+"{"+t.digits+"}":(isNaN(t.digits)||0<parseInt(t.digits))&&(t.digitsOptional?(e=o+s+n+"{0,"+t.digits+"}",t.keepStatic=!0):o+=s+n+"{"+t.digits+"}")),o=o+a(t.suffix,t)+"[-]",e&&(o=[e+a(t.suffix,t)+"[-]",o]),t.greedy=!1,void 0===(i=t).parseMinMaxOptions&&(null!==i.min&&(i.min=i.min.toString().replace(new RegExp((0,u.default)(i.groupSeparator),"g"),""),","===i.radixPoint&&(i.min=i.min.replace(i.radixPoint,".")),i.min=isFinite(i.min)?parseFloat(i.min):NaN,isNaN(i.min))&&(i.min=Number.MIN_VALUE),null!==i.max&&(i.max=i.max.toString().replace(new RegExp((0,u.default)(i.groupSeparator),"g"),""),","===i.radixPoint&&(i.max=i.max.replace(i.radixPoint,".")),i.max=isFinite(i.max)?parseFloat(i.max):NaN,isNaN(i.max))&&(i.max=Number.MAX_VALUE),i.parseMinMaxOptions="done"),o},_mask:function(t){return"("+t.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"numeric",shortcuts:{k:"000",m:"000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",definitions:{0:{validator:o},1:{validator:o,definitionSymbol:"9"},"+":{validator:function(t,e,i,n,s){return s.allowMinus&&("-"===t||t===s.negationSymbol.front)}},"-":{validator:function(t,e,i,n,s){return s.allowMinus&&t===s.negationSymbol.back}}},preValidation:function(t,e,i,n,s,o,a,r){if(!1!==s.__financeInput&&i===s.radixPoint)return!1;var l;if(l=s.shortcuts&&s.shortcuts[i]){if(1<l.length)for(var c=[],h=0;h<l.length;h++)c.push({pos:e+h,c:l[h],strict:!1});return{insert:c}}var d,u,p,f,m,t=t.indexOf(s.radixPoint),g=e;if(d=e,u=i,p=t,f=o,(m=s)._radixDance&&m.numericInput&&u!==m.negationSymbol.back&&d<=p&&(0<p||u==m.radixPoint)&&(void 0===f.validPositions[d-1]||f.validPositions[d-1].input!==m.negationSymbol.back)&&--d,e=d,"-"===i||i===s.negationSymbol.front)return!0===s.allowMinus&&(p=!1,u=_("+",o),f=_("-",o),!1!==(p=-1!==u?[u,f]:p)?{remove:p,caret:g-s.negationSymbol.front.length}:{insert:[{pos:v("+",o),c:s.negationSymbol.front,fromIsValid:!0},{pos:v("-",o),c:s.negationSymbol.back,fromIsValid:void 0}],caret:g+s.negationSymbol.back.length});if(i===s.groupSeparator)return{caret:g};if(r)return!0;if(-1!==t&&!0===s._radixDance&&!1===n&&i===s.radixPoint&&void 0!==s.digits&&(isNaN(s.digits)||0<parseInt(s.digits))&&t!==e)return{caret:s._radixDance&&e===t-1?t+1:t};if(!1===s.__financeInput)if(n){if(s.digitsOptional)return{rewritePosition:a.end};if(!s.digitsOptional){if(a.begin>t&&a.end<=t)return i===s.radixPoint?{insert:{pos:t+1,c:"0",fromIsValid:!0},rewritePosition:t}:{rewritePosition:t+1};if(a.begin<t)return{rewritePosition:a.begin-1}}}else if(!s.showMaskOnHover&&!s.showMaskOnFocus&&!s.digitsOptional&&0<s.digits&&""===this.inputmask.__valueGet.call(this))return{rewritePosition:t};return{rewritePosition:e}},postValidation:function(t,e,i,n,s,o,a){if(!1!==n){if(a)return!0;if(null!==s.min||null!==s.max){a=s.onUnMask(t.slice().reverse().join(""),void 0,p.extend({},s,{unmaskAsNumber:!0}));if(null!==s.min&&a<s.min&&(a.toString().length>s.min.toString().length||a<0))return!1;if(null!==s.max&&a>s.max)return!!s.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:f(s.max.toString().replace(".",s.radixPoint).split(""),s.digits,s).reverse()}}}return n},onUnMask:function(t,e,i){return(""!==e||!0!==i.nullable)&&(e=(e=(e=t.replace(i.prefix,"")).replace(i.suffix,"")).replace(new RegExp((0,u.default)(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(e=e.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber)?(e=(e=(e=""!==i.radixPoint&&-1!==e.indexOf(i.radixPoint)?e.replace(u.default.call(this,i.radixPoint),"."):e).replace(new RegExp("^"+(0,u.default)(i.negationSymbol.front)),"-")).replace(new RegExp((0,u.default)(i.negationSymbol.back)+"$"),""),Number(e)):e},isComplete:function(t,e){t=(e.numericInput?t.slice().reverse():t).join("");return t=(t=(t=(t=(t=t.replace(new RegExp("^"+(0,u.default)(e.negationSymbol.front)),"-")).replace(new RegExp((0,u.default)(e.negationSymbol.back)+"$"),"")).replace(e.prefix,"")).replace(e.suffix,"")).replace(new RegExp((0,u.default)(e.groupSeparator)+"([0-9]{3})","g"),"$1"),","===e.radixPoint&&(t=t.replace((0,u.default)(e.radixPoint),".")),isFinite(t)},onBeforeMask:function(t,e){var i=e.radixPoint||",",n=(isFinite(e.digits)&&(e.digits=parseInt(e.digits)),"-"===(t="number"!=typeof t&&"number"!==e.inputType||""===i?t:t.toString().replace(".",i)).charAt(0)||t.charAt(0)===e.negationSymbol.front),s=t.split(i),o=s[0].replace(/[^\-0-9]/g,""),a=1<s.length?s[1].replace(/[^0-9]/g,""):"",s=1<s.length,o=(t=o+(""!==a?i+a:a),0);return""===i||(o=!e.digitsOptional||e.digits<a.length?e.digits:a.length,""===a&&e.digitsOptional)||(a=Math.pow(10,o||1),t=t.replace((0,u.default)(i),"."),t=(t=isNaN(parseFloat(t))?t:(e.roundingFN(parseFloat(t)*a)/a).toFixed(o)).toString().replace(".",i)),0===e.digits&&-1!==t.indexOf(i)&&(t=t.substring(0,t.indexOf(i))),null===e.min&&null===e.max||(a=t.toString().replace(i,"."),null!==e.min&&a<e.min?t=e.min.toString().replace(".",i):null!==e.max&&a>e.max&&(t=e.max.toString().replace(".",i))),f((t=n&&"-"!==t.charAt(0)?"-"+t:t).toString().split(""),o,e,s).join("")},onBeforeWrite:function(t,e,i,n){function s(t,e){var i;if(!1===n.__financeInput&&!e||-1===(i=t.indexOf(n.radixPoint))||t.splice(i,1),""!==n.groupSeparator)for(;-1!==(i=t.indexOf(n.groupSeparator));)t.splice(i,1);return t}c=e,r=n,c=(c=new RegExp("(^"+(""!==r.negationSymbol.front?(0,u.default)(r.negationSymbol.front)+"?":"")+(0,u.default)(r.prefix)+")(.*)("+(0,u.default)(r.suffix)+(""!=r.negationSymbol.back?(0,u.default)(r.negationSymbol.back)+"?":"")+"$)").exec(c.slice().reverse().join("")))?c[2]:"",o=!1,c&&(c=c.split(r.radixPoint.charAt(0))[0],o=new RegExp("^[0"+r.groupSeparator+"]*").exec(c));var o,a,r=!(!o||!(1<o[0].length||0<o[0].length&&o[0].length<c.length))&&o;if(r)for(var l=e.join("").lastIndexOf(r[0].split("").reverse().join(""))-(r[0]==r.input?0:1),c=r[0]==r.input?1:0,h=r[0].length-c;0<h;h--)delete this.maskset.validPositions[l+h],delete e[l+h];if(t)switch(t.type){case"blur":case"checkval":if(null!==n.min){var d=n.onUnMask(e.slice().reverse().join(""),void 0,p.extend({},n,{unmaskAsNumber:!0}));if(null!==n.min&&d<n.min)return{refreshFromBuffer:!0,buffer:f(n.min.toString().replace(".",n.radixPoint).split(""),n.digits,n).reverse()}}e[e.length-1]===n.negationSymbol.front?0==((d=new RegExp("(^"+(""!=n.negationSymbol.front?(0,u.default)(n.negationSymbol.front)+"?":"")+(0,u.default)(n.prefix)+")(.*)("+(0,u.default)(n.suffix)+(""!=n.negationSymbol.back?(0,u.default)(n.negationSymbol.back)+"?":"")+"$)").exec(s(e.slice(),!0).reverse().join("")))?d[2]:"")&&(a={refreshFromBuffer:!0,buffer:[0]}):""!==n.radixPoint&&e[0]===n.radixPoint&&(a&&a.buffer?a.buffer.shift():(e.shift(),a={refreshFromBuffer:!0,buffer:s(e)})),n.enforceDigitsOnBlur&&(d=(a=a||{})&&a.buffer||e.slice().reverse(),a.refreshFromBuffer=!0,a.buffer=f(d,n.digits,n,!0).reverse())}return a},onKeyDown:function(t,e,i,n){var s,o=p(this);if(t.ctrlKey)switch(t.keyCode){case r.default.UP:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(n.step)),o.trigger("setvalue"),!1;case r.default.DOWN:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(n.step)),o.trigger("setvalue"),!1}if(!t.shiftKey&&(t.keyCode===r.default.DELETE||t.keyCode===r.default.BACKSPACE||t.keyCode===r.default.BACKSPACE_SAFARI)&&i.begin!==e.length){if(e[t.keyCode===r.default.DELETE?i.begin-1:i.end]===n.negationSymbol.front)return s=e.slice().reverse(),""!==n.negationSymbol.front&&s.shift(),""!==n.negationSymbol.back&&s.pop(),o.trigger("setvalue",[s.join(""),i.begin]),!1;if(!0===n._radixDance){var a=e.indexOf(n.radixPoint);if(n.digitsOptional){if(0===a)return(s=e.slice().reverse()).pop(),o.trigger("setvalue",[s.join(""),i.begin>=s.length?s.length:i.begin]),!1}else if(-1!==a&&(i.begin<a||i.end<a||t.keyCode===r.default.DELETE&&i.begin===a))return i.begin!==i.end||t.keyCode!==r.default.BACKSPACE&&t.keyCode!==r.default.BACKSPACE_SAFARI||i.begin++,(s=e.slice().reverse()).splice(s.length-i.begin,i.begin-i.end+1),s=f(s,n.digits,n).join(""),o.trigger("setvalue",[s,i.begin>=s.length?a+1:i.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(t){return"("+t.groupSeparator+"99){*|1}("+t.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},function(t,e,i){"use strict";var n=u(i(12)),l=u(i(1));function o(t){return(o="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function s(n){var s=c();return function(){var t,e,i=d(n);if(t=s?(t=d(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),i=this,!(e=t)||"object"!==o(e)&&"function"!=typeof e){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}return e}}function a(t){var i="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return r(t,arguments,d(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),h(e,t)})(t)}function r(t,e,i){return(r=c()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);e=new(Function.bind.apply(t,n));return i&&h(e,i.prototype),e}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return t&&t.__esModule?t:{default:t}}var p=n.default.document;p&&p.head&&p.head.attachShadow&&n.default.customElements&&void 0===n.default.customElements.get("input-mask")&&(i=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t);var a=s(r);function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var t,e,i=(t=a.call(this)).getAttributeNames(),n=t.attachShadow({mode:"closed"}),s=p.createElement("input");for(e in s.type="text",n.appendChild(s),i)Object.prototype.hasOwnProperty.call(i,e)&&s.setAttribute(i[e],t.getAttribute(i[e]));var o=new l.default;return o.dataAttribute="",o.mask(s),s.inputmask.shadowRoot=n,t}return r}(a(HTMLElement)),n.default.customElements.define("input-mask",i))},function(t,e,i){"use strict";var s=n(i(8)),o=n(i(1));function a(t){return(a="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function n(t){return t&&t.__esModule?t:{default:t}}void 0===s.default.fn.inputmask&&(s.default.fn.inputmask=function(t,e){var i,n=this[0];if(void 0===e&&(e={}),"string"!=typeof t)return Array.isArray(t)?(e.alias=t,i=new o.default(e),this.each(function(){i.mask(this)})):"object"==a(t)?(i=new o.default(t),void 0===t.mask&&void 0===t.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(t);i.mask(this)}):this.each(function(){i.mask(this)})):void 0===t?this.each(function(){(i=new o.default(e)).mask(this)}):void 0;switch(t){case"unmaskedvalue":return n&&n.inputmask?n.inputmask.unmaskedvalue():(0,s.default)(n).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return n&&n.inputmask?n.inputmask.getemptymask():"";case"hasMaskedValue":return!(!n||!n.inputmask)&&n.inputmask.hasMaskedValue();case"isComplete":return!n||!n.inputmask||n.inputmask.isComplete();case"getmetadata":return n&&n.inputmask?n.inputmask.getmetadata():void 0;case"setvalue":o.default.setValue(n,e);break;case"option":if("string"!=typeof e)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(e)});if(n&&void 0!==n.inputmask)return n.inputmask.option(e);break;default:return e.alias=t,i=new o.default(e),this.each(function(){i.mask(this)})}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(n=i(14))&&n.__esModule?n:{default:n};i(24);i=n.default;e.default=i}],installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(t,e,i){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==_typeof2(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)__webpack_require__.d(i,n,function(t){return e[t]}.bind(null,n));return i},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=25);function __webpack_require__(t){var e;return(installedModules[t]||(e=installedModules[t]={i:t,l:!1,exports:{}},modules[t].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e)).exports}var modules,installedModules}),!function(){var n,s,t;n=jQuery,s=window.Inputmask,t=window,n(t.document).ajaxComplete(function(t,e,i){-1!==n.inArray("html",i.dataTypes)&&n(".inputmask, [data-inputmask], [data-inputmask-mask], [data-inputmask-alias], [data-inputmask-regex]").each(function(t,e){void 0===e.inputmask&&s({autoUnmask:!0}).mask(e)})}).ready(function(){n(".inputmask, [data-inputmask], [data-inputmask-mask], [data-inputmask-alias],[data-inputmask-regex]").each(function(t,e){void 0===e.inputmask&&s({autoUnmask:!0}).mask(e)})})}(),!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=e(t.jQuery,t.Util):"function"==typeof define&&define.amd?define(["./jquery","util"],e):(t=t||self).Modal=e(t.jQuery,t.Util)}(this,function(o,a){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(n){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},e=Object.keys(s);(e="function"==typeof Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})):e).forEach(function(t){var e,i;e=n,i=s[t=t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return n}o=o&&o.hasOwnProperty("default")?o.default:o,a=a&&a.hasOwnProperty("default")?a.default:a;var l="modal",c="bs.modal",h="."+c,t=o.fn[l],d={backdrop:!0,keyboard:!0,focus:!0,show:!0},u={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},p={HIDE:"hide"+h,HIDDEN:"hidden"+h,SHOW:"show"+h,SHOWN:"shown"+h,FOCUSIN:"focusin"+h,RESIZE:"resize"+h,CLICK_DISMISS:"click.dismiss"+h,KEYDOWN_DISMISS:"keydown.dismiss"+h,MOUSEUP_DISMISS:"mouseup.dismiss"+h,MOUSEDOWN_DISMISS:"mousedown.dismiss"+h,CLICK_DATA_API:"click"+h+".data-api"},f="",m="",g="",v="",_="",y="modal_open",b=".modal",k=".modal__body",e='[data-toggle="modal"]',w='[data-dismiss="modal"]',x=function(){function s(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(b),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var t,e,i=s.prototype;return i.toggle=function(t){return this._isShown?this.hide():this.show(t)},i.show=function(t){var e,i=this;this._isShown||this._isTransitioning||(o(this._element).hasClass(_)&&(this._isTransitioning=!0),e=o.Event(p.SHOW,{relatedTarget:t}),o(this._element).trigger(e),this._isShown)||e.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),o(this._element).on(p.CLICK_DISMISS,w,function(t){return i.hide(t)}),o(this._dialog).on(p.MOUSEDOWN_DISMISS,function(){o(i._element).one(p.MOUSEUP_DISMISS,function(t){o(t.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(t)}))},i.hide=function(t){var e=this;t&&t.preventDefault(),this._isShown&&!this._isTransitioning&&(t=o.Event(p.HIDE),o(this._element).trigger(t),this._isShown)&&!t.isDefaultPrevented()&&(this._isShown=!1,(t=o(this._element).hasClass(_))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),o(document).off(p.FOCUSIN),o(this._element).removeClass(y),o(this._element).off(p.CLICK_DISMISS),o(this._dialog).off(p.MOUSEDOWN_DISMISS),t?(t=a.getTransitionDurationFromElement(this._element),o(this._element).one(a.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(t)):this._hideModal())},i.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return o(t).off(h)}),o(document).off(p.FOCUSIN),o.removeData(this._element,c),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},i.handleUpdate=function(){this._adjustDialog()},i._getConfig=function(t){return t=r({},d,t),a.typeCheckConfig(l,t,u),t},i._showElement=function(t){function e(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,o(i._element).trigger(s)}var i=this,n=o(this._element).hasClass(_),s=(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),o(this._dialog).hasClass(f)?this._dialog.querySelector(k).scrollTop=0:this._element.scrollTop=0,n&&a.reflow(this._element),o(this._element).addClass(y),this._config.focus&&this._enforceFocus(),o.Event(p.SHOWN,{relatedTarget:t}));n?(t=a.getTransitionDurationFromElement(this._dialog),o(this._dialog).one(a.TRANSITION_END,e).emulateTransitionEnd(t)):e()},i._enforceFocus=function(){var e=this;o(document).off(p.FOCUSIN).on(p.FOCUSIN,function(t){document!==t.target&&e._element!==t.target&&0===o(e._element).has(t.target).length&&e._element.focus()})},i._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?o(this._element).on(p.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||o(this._element).off(p.KEYDOWN_DISMISS)},i._setResizeEvent=function(){var e=this;this._isShown?o(window).on(p.RESIZE,function(t){return e.handleUpdate(t)}):o(window).off(p.RESIZE)},i._hideModal=function(){var t=this;this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){o(document.body).removeClass(v),t._resetAdjustments(),t._resetScrollbar(),o(t._element).trigger(p.HIDDEN)})},i._removeBackdrop=function(){this._backdrop&&(o(this._backdrop).remove(),this._backdrop=null)},i._showBackdrop=function(t){var e,i=this,n=o(this._element).hasClass(_)?_:"";this._isShown&&this._config.backdrop?(this._backdrop=document.createElement("div"),this._backdrop.className=g,n&&this._backdrop.classList.add(n),o(this._backdrop).appendTo(document.body),o(this._element).on(p.CLICK_DISMISS,function(t){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),n&&a.reflow(this._backdrop),o(this._backdrop).addClass(y),t&&(n?(n=a.getTransitionDurationFromElement(this._backdrop),o(this._backdrop).one(a.TRANSITION_END,t).emulateTransitionEnd(n)):t())):!this._isShown&&this._backdrop?(o(this._backdrop).removeClass(y),n=function(){i._removeBackdrop(),t&&t()},o(this._element).hasClass(_)?(e=a.getTransitionDurationFromElement(this._backdrop),o(this._backdrop).one(a.TRANSITION_END,n).emulateTransitionEnd(e)):n()):t&&t()},i._adjustDialog=function(){},i._resetAdjustments=function(){},i._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},i._setScrollbar=function(){this._isBodyOverflowing,o(document.body).addClass(v)},i._resetScrollbar=function(){},i._getScrollbarWidth=function(){var t=document.createElement("div"),e=(t.className=m,document.body.appendChild(t),t.getBoundingClientRect().width-t.clientWidth);return document.body.removeChild(t),e},s._jQueryInterface=function(i,n){return this.each(function(){var t=o(this).data(c),e=r({},d,o(this).data(),"object"===_typeof2(i)&&i?i:{});if(t||(t=new s(this,e),o(this).data(c,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i](n)}else e.show&&t.show(n)})},i=s,e=[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return d}}],(t=null)&&n(i.prototype,t),e&&n(i,e),s}();return o(document).on(p.CLICK_DATA_API,e,function(t){var e,i=this,n=a.getSelectorFromElement(this),n=(n&&(e=document.querySelector(n)),o(e).data(c)?"toggle":r({},o(e).data(),o(this).data())),s=("A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault(),o(e).one(p.SHOW,function(t){t.isDefaultPrevented()||s.one(p.HIDDEN,function(){o(i).is(":visible")&&i.focus()})}));x._jQueryInterface.call(o(e),n,this)}),o.fn[l]=x._jQueryInterface,o.fn[l].Constructor=x,o.fn[l].noConflict=function(){return o.fn[l]=t,x._jQueryInterface},x}),$(document).ready(function(){var t="navigation",e="navigation__item",i="navigation__item_active",n="navigation__preview",s="navigation_open",o={navContainer:".".concat(t),navControl:".".concat(e),navActiveControl:".".concat(i),navPreview:".".concat(n),navProgress:".navigation_progress"},a=function(){function n(t,e){var i=this;_classCallCheck2(this,n),_defineProperty2(this,"_updatehash",this._postpone(function(){var t,e=arguments[0].replace(/^#/,""),i=$("#"+e);i.length&&(i.attr("id",""),t=$("<div></div>").css({position:"absolute",visibility:"hidden",top:$(document).scrollTop()+"px"}).attr("id",e).appendTo(document.body)),window.location.hash=e,i.length&&(t.remove(),i.attr("id",e))},3e3)),this.container=t,this.$container=$(t),this.navPreview=$(o.navPreview,t),this.offset=20,this._offsets=[],this._targets=[],this._scrollHeight=0,this._activeTarget=null,$(document).on("scroll",function(t){return i._process(t)}),this.navPreview.on("click",function(){i._navClickHandler()}),e?this._activeTarget=this._targets[0]:(this._refresh(),this._process())}return _createClass2(n,[{key:"_navClickHandler",value:function(){this.$container.toggleClass(s)}},{key:"_refresh",value:function(){var e=this,t=(this._scrollHeight=this._getScrollHeight(),this._offsets=[],this._targets=[],[].slice.call(this.container.querySelectorAll(o.navControl)));t.length&&t.map(function(t){var e,t=Util.getSelectorFromElement(t);return(e=t?document.querySelector(t):e)&&$(e).is(":visible")?[$(e).offset().top,t]:null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})}},{key:"_getScrollTop",value:function(){return window.pageYOffset}},{key:"_getScrollHeight",value:function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return window.innerHeight}},{key:"_process",value:function(){var t=this._getScrollTop()+this.offset,e=this._getScrollHeight(),i=this.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this._refresh(),t<this._offsets[0])return e=this._targets[0],this._activeTarget!==e&&this._activate(e),!0;if(i<=t)return e=this._targets[this._targets.length-1],this._activeTarget!==e&&this._activate(e),!0;if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,this._clear(),!0;for(var n=this._offsets.length;n--;)this._activeTarget!==this._targets[n]&&t>=this._offsets[n]&&(void 0===this._offsets[n+1]||t<this._offsets[n+1])&&this._activate(this._targets[n])}},{key:"_postpone",value:function(i){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,s=null;return function(){var t=arguments,e=this;s&&clearTimeout(s),s=setTimeout(function(){i.apply(e,t)},n)}}},{key:"_activate",value:function(t){this._activeTarget=t,this._clear();var e=$('a[href="'.concat(t,'"]'),$(this.container));e&&(this._updatehash(t),e.addClass(i),this.navPreview.text(e.text()),this.$container.removeClass(s),this.$container.is(o.navProgress))&&this.navPreview.attr("data-progress",e.data("progress"))}},{key:"_clear",value:function(){[].slice.call(this.container.querySelectorAll(o.navControl)).filter(function(t){return t.classList.contains(i)}).forEach(function(t){return t.classList.remove(i)})}}]),n}();$(function(){var t,e=$(o.navContainer);function i(t){0===$(document).scrollTop()&&($(document).off("scroll",i.bind(t)),new a(e.get(0),t))}e.length&&((t=e.get(0).hasAttribute("data-scrollTop"))?($(document).on("scroll",i.bind(t)),setTimeout(function(){window.history.pushState("",document.title,window.location.pathname),$(document).scrollTop()?$(document).scrollTop(0):$(document).trigger("scroll")},200)):new a(e.get(0),t))})});var Selectors={buttons:".bs-actionsbox > .group-container",searchBoxWrapper:".bs-searchbox",buttonsWrapper:".bs-actionsbox",option:"option",buttonAdd:"[data-action='add-item']"},AddBootstrapSelect=function(){function n(t,e){var i=this;_classCallCheck2(this,n),_.extend(this,e),this.element=$(t),this.dataStore=this.element.data(),this.selectpicker=this.dataStore.selectpicker,this.label=this.label||"Добавить",this.selectAfterAppend=!_.has(e,"selectAfterAppend")||this.selectAfterAppend,this.selectpicker&&setTimeout(function(){i.render(),i.initHandler()},500)}return _createClass2(n,[{key:"renderOption",value:function(t){var e=this.appendHandler;_.has(this,"appendHandler")&&_.isFunction(e)?e(this.selectpicker.$element,t):this.selectpicker.$element.append("<option>".concat(t,"</option>"))}},{key:"renderButton",value:function(){return'\n                <button \n                    type="button" \n                    class="group-container__item button button_plain '.concat(this.selectpicker.multiple&&this.selectpicker.options.actionsBox?"":"button_wide",'" \n                    data-action="add-item" \n                    \n                >\n                    ').concat(this.label,"\n                </button>\n            ")}},{key:"render",value:function(){var t;this.selectpicker.multiple&&this.selectpicker.options.actionsBox?$(Selectors.buttons,this.selectpicker.$menu).append(this.renderButton()):(t='<div class="bs-actionsbox">\n                    <div class="group-container group-container_wide">\n                        '.concat(this.renderButton(),"\n                    </div>\n                </div>"),this.selectpicker.$searchbox.closest(Selectors.searchBoxWrapper).after(t))}},{key:"isExist",value:function(t){var e=$(Selectors.option,this.element).map(function(t,e){return $(e).text().trim().toLowerCase()});return _.contains(e,t)}},{key:"initHandler",value:function(){var e=this;this.selectpicker.$menu.on("click","[data-action]",function(t){t.preventDefault(),t.stopPropagation(),e.addHandler()})}},{key:"addHandler",value:function(){var t=this.selectpicker.$searchbox.val();this.selectpicker.toggle(),t&&(t=t.trim(),this.isExist(t)||this.renderOption(t),this.selectpicker.refresh(),this.selectAfterAppend)&&this.findAndSelect(t)}},{key:"findAndSelect",value:function(e){var i=null,t=this.selectpicker.val()||[];$(Selectors.option,this.element).each(function(t){t=$(t);e.toLowerCase()===t.text().trim().toLowerCase()&&(i=t.prop("value"))}),this.selectpicker.multiple&&t.length?(t.push(i||e),this.selectpicker.val(t)):this.selectpicker.val(i||e)}},{key:"destroy",value:function(){$(Selectors.buttonAdd,this.selectpicker.$menu).remove(),this.selectpicker.multiple||$(Selectors.buttonsWrapper,this.selectpicker.$menu).remove(),this.element.data.AddBootstrapSelect=null}}]),n}();$.fn.addSelectPicker=function(t){var i=t||{};return this.each(function(){var t=this,e=setInterval(function(){$(t).data("selectpicker")&&($(t).data("AddBootstrapSelect")&&$(t).data("AddBootstrapSelect").destroy(),$(t).data("AddBootstrapSelect",new AddBootstrapSelect(t,i)),clearInterval(e))},100)})},
/*!
 * Ajax Bootstrap Select
 *
 * Extends existing [Bootstrap Select] implementations by adding the ability to search via AJAX requests as you type. Originally for CROSCON.
 *
 * @version 1.4.5
 * @author Adam Heim - https://github.com/truckingsim
 * @link https://github.com/truckingsim/Ajax-Bootstrap-Select
 * @copyright 2019 Adam Heim
 * @license Released under the MIT license.
 *
 * Contributors:
 *   Mark Carver - https://github.com/markcarver
 *
 * Last build: 2019-09-24 9:36:54 AM CDT
 */!function(_,y){function t(t,e){function i(t,e){return e.toLowerCase()}function o(t,e,i){var n,s=(t=[].concat(t)).length,i=i||{};return s&&(i[n=t.shift()]=o(t,e,i[n])),s?i:e}var n=this;e=e||{},this.$element=_(t),this.options=_.extend(!0,{},_.fn.ajaxSelectPicker.defaults,e),this.LOG_ERROR=1,this.LOG_WARNING=2,this.LOG_INFO=3,this.LOG_DEBUG=4,this.lastRequest=!1,this.previousQuery="",this.query="",this.request=!1;(t=[{from:"ajaxResultsPreHook",to:"preprocessData"},{from:"ajaxSearchUrl",to:{ajax:{url:"{{{value}}}"}}},{from:"ajaxOptions",to:"ajax"},{from:"debug",to:function(t){var e={};e.log=!!n.options[t.from],n.options=_.extend(!0,{},n.options,e),delete n.options[t.from],n.log(n.LOG_WARNING,'Deprecated option "'+t.from+'". Update code to use:',e)}},{from:"mixWithCurrents",to:"preserveSelected"},{from:"placeHolderOption",to:{locale:{emptyTitle:"{{{value}}}"}}}]).length&&_.map(t,function(t){var e;n.options[t.from]&&(_.isPlainObject(t.to)?(n.replaceValue(t.to,"{{{value}}}",n.options[t.from]),n.options=_.extend(!0,{},n.options,t.to),n.log(n.LOG_WARNING,'Deprecated option "'+t.from+'". Update code to use:',t.to),delete n.options[t.from]):_.isFunction(t.to)?t.to.apply(n,[t]):((e={})[t.to]=n.options[t.from],n.options=_.extend(!0,{},n.options,e),n.log(n.LOG_WARNING,'Deprecated option "'+t.from+'". Update code to use:',e),delete n.options[t.from]))});var s=this.$element.data(),a=(s.searchUrl&&(n.log(n.LOG_WARNING,'Deprecated attribute name: "data-search-url". Update markup to use: \' data-abs-ajax-url="'+s.searchUrl+"\" '"),this.options.ajax.url=s.searchUrl),Object.keys(s).filter(/./.test.bind(new RegExp("^abs[A-Z]"))));if(a.length){for(var r={},l=["locale"],c=0,h=a.length;c<h;c++){var d=a[c].replace(/^abs([A-Z])/,i).replace(/([A-Z])/g,"-$1").toLowerCase(),u=d.split("-");if(u[0]&&1<u.length&&-1!==l.indexOf(u[0])){for(var p=[u.shift()],f="",m=0;m<u.length;m++)f+=0===m?u[m]:u[m].charAt(0).toUpperCase()+u[m].slice(1);p.push(f),u=p}this.log(this.LOG_DEBUG,'Processing data attribute "data-abs-'+d+'":',s[a[c]]),o(u,s[a[c]],r)}this.options=_.extend(!0,{},this.options,r),this.log(this.LOG_DEBUG,"Merged in the data attribute options: ",r,this.options)}if(this.selectpicker=s.selectpicker,!this.selectpicker)return this.log(this.LOG_ERROR,"Cannot instantiate an AjaxBootstrapSelect instance without selectpicker first being initialized!"),null;if(!this.options.ajax.url)return this.log(this.LOG_ERROR,'Option "ajax.url" must be set! Options:',this.options),null;if(this.locale=_.extend(!0,{},_.fn.ajaxSelectPicker.locale),this.options.langCode=this.options.langCode||y.navigator.userLanguage||y.navigator.language||"en",!this.locale[this.options.langCode]){var e=this.options.langCode,g=(this.options.langCode="en",e.split("-"));for(c=0,h=g.length;c<h;c++){var v=g.join("-");if(v.length&&this.locale[v]){this.options.langCode=v;break}g.pop()}this.log(this.LOG_WARNING,'Unknown langCode option: "'+e+'". Using the following langCode instead: "'+this.options.langCode+'".')}this.locale[this.options.langCode]=_.extend(!0,{},this.locale[this.options.langCode],this.options.locale),this.list=new y.AjaxBootstrapSelectList(this),this.list.refresh(),setTimeout(function(){n.init()},500)}function e(i){var n=this,t=(this.$status=_(i.options.templates.status).hide().appendTo(i.selectpicker.$menu),i.t("statusInitialized")),s=(t&&t.length&&this.setStatus(t),this.cache={},this.plugin=i,this.selected=[],this.title=null,this.selectedTextFormat=i.selectpicker.options.selectedTextFormat,[]);i.$element.find("option").each(function(){var t=_(this),e=t.attr("value");s.push({value:e,text:t.text(),class:t.attr("class")||"",data:t.data()||{},preserved:i.options.preserveSelected,selected:!!t.attr("selected")})}),this.cacheSet("",s),i.options.preserveSelected&&(n.selected=s,i.$element.on("change.abs.preserveSelected",function(t){var e=i.$element.find(":selected");n.selected=[],(e=i.selectpicker.multiple?e:e.last()).each(function(){var t=_(this),e=t.attr("value");n.selected.push({value:e,text:t.text(),class:t.attr("class")||"",data:t.data()||{},preserved:!0,selected:!0})}),n.replaceOptions(n.cacheGet(n.plugin.query))}))}function i(t){var e,i=this,n=["beforeSend","success","error","complete"],s=n.length;for(this.plugin=t,this.options=_.extend(!0,{},t.options.ajax),this.callbacks={},e=0;e<s;e++){var o=n[e];this.options[o]&&_.isFunction(this.options[o])&&(this.callbacks[o]=this.options[o]),this.options[o]=function(t){return function(){i.plugin.log(i.plugin.LOG_INFO,"Invoking AjaxBootstrapSelectRequest."+t+" callback:",arguments),i[t].apply(i,arguments),i.callbacks[t]&&(i.plugin.log(i.plugin.LOG_INFO,"Invoking ajax."+t+" callback:",arguments),i.callbacks[t].apply(i,arguments))}}(o)}this.options.data&&_.isFunction(this.options.data)&&(this.options.data=this.options.data.apply(this)||{q:"{{{q}}}"}),this.plugin.replaceValue(this.options.data,"{{{q}}}",this.plugin.query),this.options.url&&_.isFunction(this.options.url)&&(this.options.url=this.options.url.apply(this)),this.jqXHR=_.ajax(this.options)}t.prototype.init=function(){var i,n=this;this.options.preserveSelected&&this.selectpicker.$menu.off("click",".actions-btn").on("click",".actions-btn",function(t){(n.selectpicker.options.liveSearch?n.selectpicker.$searchbox:n.selectpicker.$button).focus(),t.preventDefault(),t.stopPropagation(),_(this).is(".bs-select-all")?(null===n.selectpicker.$lis&&(n.selectpicker.$lis=n.selectpicker.$menu.find("li")),n.$element.find("option:enabled").prop("selected",!0),_(n.selectpicker.$lis).not(".disabled").addClass("selected")):(null===n.selectpicker.$lis&&(n.selectpicker.$lis=n.selectpicker.$menu.find("li")),n.$element.find("option:enabled").prop("selected",!1),_(n.selectpicker.$lis).not(".disabled").removeClass("selected")),n.selectpicker.render(),n.selectpicker.$element.change()}),this.selectpicker.$searchbox.attr("placeholder",this.t("searchPlaceholder")).off("input propertychange"),this.selectpicker.$searchbox.on(this.options.bindEvent,function(t){var e=n.selectpicker.$searchbox.val();if(n.log(n.LOG_DEBUG,'Bind event fired: "'+n.options.bindEvent+'", keyCode:',t.keyCode,t),n.options.cache||(n.options.ignoredKeys[13]="enter"),n.options.ignoredKeys[t.keyCode])n.log(n.LOG_DEBUG,"Key ignored.");else if(clearTimeout(i),e.length||(n.options.clearOnEmpty&&n.list.destroy(),n.options.emptyRequest))if(e.length<n.options.minLength)n.list.setStatus(n.t("statusTooShort"));else{if(n.previousQuery=n.query,n.query=e,n.options.cache&&13!==t.keyCode){e=n.list.cacheGet(n.query);if(e)return n.list.setStatus(e.length?"":n.t("statusNoResults")),n.list.replaceOptions(e),void n.log(n.LOG_INFO,"Rebuilt options from cached data.")}i=setTimeout(function(){n.lastRequest&&n.lastRequest.jqXHR&&_.isFunction(n.lastRequest.jqXHR.abort)&&n.lastRequest.jqXHR.abort(),n.request=new y.AjaxBootstrapSelectRequest(n),n.request.jqXHR.always(function(){n.lastRequest=n.request,n.request=!1})},n.options.requestDelay||300)}})},t.prototype.log=function(t,e){if(y.console&&this.options.log){if("number"!=typeof this.options.log)switch("string"==typeof this.options.log&&(this.options.log=this.options.log.toLowerCase()),this.options.log){case!0:case"debug":this.options.log=this.LOG_DEBUG;break;case"info":this.options.log=this.LOG_INFO;break;case"warn":case"warning":this.options.log=this.LOG_WARNING;break;default:case!1:case"error":this.options.log=this.LOG_ERROR}if(t<=this.options.log){var i=[].slice.apply(arguments,[2]);switch(t){case this.LOG_DEBUG:t="debug";break;case this.LOG_INFO:t="info";break;case this.LOG_WARNING:t="warn";break;default:case this.LOG_ERROR:t="error"}var n="["+t.toUpperCase()+"] AjaxBootstrapSelect:";"string"==typeof e?i.unshift(n+" "+e):(i.unshift(e),i.unshift(n)),y.console[t].apply(y.console,i)}}},t.prototype.replaceValue=function(i,n,s,o){var a=this;o=_.extend({recursive:!0,depth:!1,limit:!1},o),_.each(i,function(t,e){if(!1!==o.limit&&"number"==typeof o.limit&&o.limit<=0)return!1;_.isArray(i[t])||_.isPlainObject(i[t])?(o.recursive&&!1===o.depth||o.recursive&&"number"==typeof o.depth&&0<o.depth)&&a.replaceValue(i[t],n,s,o):e===n&&(!1!==o.limit&&"number"==typeof o.limit&&o.limit--,i[t]=s)})},t.prototype.t=function(t,e){return e=e||this.options.langCode,this.locale[e]&&Object.prototype.hasOwnProperty.call(this.locale[e],t)?this.locale[e][t]:(this.log(this.LOG_WARNING,"Unknown translation key:",t),t)},y.AjaxBootstrapSelect=y.AjaxBootstrapSelect||t,e.prototype.build=function(t){var e,i,n=t.length,s=_("<select/>"),o=_("<optgroup/>").attr("label",this.plugin.t("currentlySelected"));for(this.plugin.log(this.plugin.LOG_DEBUG,"Building the select list options from data:",t),i=0;i<n;i++){var a=t[i],r=_("<option/>").appendTo(a.preserved?o:s);if(Object.prototype.hasOwnProperty.call(a,"divider"))r.attr("data-divider","true");else for(e in r.val(a.value).text(a.text),a.title&&r.attr("title",a.title),a.class.length&&r.attr("class",a.class),a.disabled&&r.attr("disabled",!0),a.selected&&!this.plugin.selectpicker.multiple&&s.find(":selected").prop("selected",!1),a.selected&&r.attr("selected",!0),a.data)Object.prototype.hasOwnProperty.call(a.data,e)&&r.attr("data-"+e,a.data[e])}o.find("option").length&&o["before"===this.plugin.options.preserveSelectedPosition?"prependTo":"appendTo"](s);var l=s.html();return this.plugin.log(this.plugin.LOG_DEBUG,l),l},e.prototype.cacheGet=function(t,e){e=this.cache[t]||e;return this.plugin.log(this.LOG_DEBUG,"Retrieving cache:",t,e),e},e.prototype.cacheSet=function(t,e){this.cache[t]=e,this.plugin.log(this.LOG_DEBUG,"Saving to cache:",t,e)},e.prototype.destroy=function(){this.replaceOptions(),this.plugin.list.setStatus(),this.plugin.log(this.plugin.LOG_DEBUG,"Destroyed select list.")},e.prototype.refresh=function(t){this.plugin.selectpicker.$menu.css("minHeight",0),this.plugin.selectpicker.$menu.find("> .inner").css("minHeight",0);var e=this.plugin.t("emptyTitle");!this.plugin.$element.find("option").length&&e&&e.length?this.setTitle(e):(this.title||"static"!==this.selectedTextFormat&&this.selectedTextFormat!==this.plugin.selectpicker.options.selectedTextFormat)&&this.restoreTitle(),this.plugin.selectpicker.refresh(),this.plugin.selectpicker.findLis(),t&&(this.plugin.log(this.plugin.LOG_DEBUG,"Triggering Change"),this.plugin.$element.trigger("change.$")),this.plugin.log(this.plugin.LOG_DEBUG,"Refreshed select list.")},e.prototype.replaceOptions=function(t){var e,i,n,s,o="",a=[],r=[];if(t=t||[],this.selected&&this.selected.length){for(this.plugin.log(this.plugin.LOG_INFO,"Processing preserved selections:",this.selected),i=(s=[].concat(this.selected,t)).length,e=0;e<i;e++)n=s[e],Object.prototype.hasOwnProperty.call(n,"value")&&-1===r.indexOf(n.value+"")?(r.push(n.value+""),a.push(n)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring.");t=a}t.length&&(o=this.plugin.list.build(t)),this.plugin.$element.html(o),this.refresh(),this.plugin.log(this.plugin.LOG_DEBUG,"Replaced options with data:",t)},e.prototype.restore=function(){var t=this.plugin.list.cacheGet(this.plugin.previousQuery);return t&&this.plugin.list.replaceOptions(t)&&this.plugin.log(this.plugin.LOG_DEBUG,"Restored select list to the previous query: ",this.plugin.previousQuery),this.plugin.log(this.plugin.LOG_DEBUG,"Unable to restore select list to the previous query:",this.plugin.previousQuery),!1},e.prototype.restoreTitle=function(){this.plugin.request||(this.plugin.selectpicker.options.selectedTextFormat=this.selectedTextFormat,this.title?this.plugin.$element.attr("title",this.title):this.plugin.$element.removeAttr("title"),this.title=null)},e.prototype.setTitle=function(t){this.plugin.request||(this.title=this.plugin.$element.attr("title"),this.plugin.selectpicker.options.selectedTextFormat="static",this.plugin.$element.attr("title",t))},e.prototype.setStatus=function(t){(t=t||"").length?this.$status.html(t).show():this.$status.html("").hide()},y.AjaxBootstrapSelectList=y.AjaxBootstrapSelectList||e;i.prototype.beforeSend=function(t){this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusSearching"))},i.prototype.complete=function(t,e){if("abort"!==e){e=this.plugin.list.cacheGet(this.plugin.query);if(e){if(!e.length)return this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusNoResults")),void this.plugin.log(this.plugin.LOG_INFO,"No results were returned.");this.plugin.list.setStatus()}this.plugin.list.refresh(!0)}},i.prototype.error=function(t,e,i){"abort"!==e&&(this.plugin.list.cacheSet(this.plugin.query),this.plugin.options.clearOnError&&this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("errorText")),this.plugin.options.restoreOnError)&&(this.plugin.list.restore(),this.plugin.list.setStatus())},i.prototype.process=function(t){var e,i,n,s,o,a=[],r=[];if(this.plugin.log(this.plugin.LOG_INFO,"Processing raw data for:",this.plugin.query,t),o=t,_.isFunction(this.plugin.options.preprocessData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking preprocessData callback:",this.plugin.options.processData),null!=(n=this.plugin.options.preprocessData.apply(this,[o])))&&!1!==n&&(o=n),!_.isArray(o))return this.plugin.log(this.plugin.LOG_ERROR,'The data returned is not an Array. Use the "preprocessData" callback option to parse the results and construct a proper array for this plugin.',o),!1;for(i=o.length,e=0;e<i;e++)s=o[e],this.plugin.log(this.plugin.LOG_DEBUG,"Processing item:",s),_.isPlainObject(s)&&(Object.prototype.hasOwnProperty.call(s,"divider")||Object.prototype.hasOwnProperty.call(s,"data")&&_.isPlainObject(s.data)&&s.data.divider?(this.plugin.log(this.plugin.LOG_DEBUG,"Item is a divider, ignoring provided data."),a.push({divider:!0})):Object.prototype.hasOwnProperty.call(s,"value")?-1===r.indexOf(s.value+"")?(r.push(s.value+""),s=_.extend({text:s.value,class:"",data:{},disabled:!1,selected:!1},s),a.push(s)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring."):this.plugin.log(this.plugin.LOG_DEBUG,'Data item must have a "value" property, skipping.'));if(t=[].concat(a),_.isFunction(this.plugin.options.processData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking processData callback:",this.plugin.options.processData),null!=(n=this.plugin.options.processData.apply(this,[t])))&&!1!==n){if(!_.isArray(n))return this.plugin.log(this.plugin.LOG_ERROR,"The processData callback did not return an array.",n),!1;t=n}return this.plugin.list.cacheSet(this.plugin.query,t),this.plugin.log(this.plugin.LOG_INFO,"Processed data:",t),t},i.prototype.success=function(t,e,i){var n;_.isArray(t)||_.isPlainObject(t)?(n=this.process(t),this.plugin.list.replaceOptions(n)):(this.plugin.log(this.plugin.LOG_ERROR,"Request did not return a JSON Array or Object.",t),this.plugin.list.destroy())},y.AjaxBootstrapSelectRequest=y.AjaxBootstrapSelectRequest||i,_.fn.ajaxSelectPicker=function(t){return this.each(function(){_(this).data("AjaxBootstrapSelect")||_(this).data("AjaxBootstrapSelect",new y.AjaxBootstrapSelect(this,t))})},_.fn.ajaxSelectPicker.locale={},_.fn.ajaxSelectPicker.defaults={ajax:{url:null,type:"POST",dataType:"json",data:{q:"{{{q}}}"}},minLength:0,bindEvent:"keyup",cache:!0,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!1,ignoredKeys:{9:"tab",16:"shift",17:"ctrl",18:"alt",27:"esc",37:"left",39:"right",38:"up",40:"down",91:"meta"},langCode:null,locale:null,log:"error",preprocessData:function(){},preserveSelected:!0,preserveSelectedPosition:"after",processData:function(){},requestDelay:300,restoreOnError:!1,templates:{status:'<div class="dropdown-menu__status"></div>'}},_.fn.ajaxSelectPicker.locale["en-US"]={currentlySelected:"Выбрано",emptyTitle:"Выделите и начните печатать",errorText:"Невозможно получить результат",searchPlaceholder:"Искать...",statusInitialized:"Начните печатать запрос для поиска",statusNoResults:"Нет результатов",statusSearching:"Поиск...",statusTooShort:"Введите еще несколько символов"},_.fn.ajaxSelectPicker.locale.en=_.fn.ajaxSelectPicker.locale["en-US"]}(jQuery,window),!function(t,e){void 0===t&&void 0!==window&&(t=window),"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof module?"undefined":_typeof2(module))&&module.exports?module.exports=e(t.jQuery):e(t.jQuery)}(this,function(t){!function(b){"use strict";var N=["sanitize","whiteList","sanitizeFn"],j=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],R={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},F=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,H=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function C(t,e,i){if(i&&"function"==typeof i)return i(t);for(var n=Object.keys(e),s=0,o=t.length;s<o;s++)for(var a=t[s].querySelectorAll("*"),r=0,l=a.length;r<l;r++){var c=a[r],h=c.nodeName.toLowerCase();if(-1===n.indexOf(h))c.parentNode.removeChild(c);else for(var d=[].slice.call(c.attributes),u=[].concat(e["*"]||[],e[h]||[]),p=0,f=d.length;p<f;p++){var m=d[p];!function(t,e){var i=t.nodeName.toLowerCase();if(-1!==b.inArray(i,e))return-1===b.inArray(i,j)||Boolean(t.nodeValue.match(F)||t.nodeValue.match(H));for(var n=b(e).filter(function(t,e){return e instanceof RegExp}),s=0,o=n.length;s<o;s++)if(i.match(n[s]))return 1}(m,u)&&c.removeAttribute(m.nodeName)}}}if(!("classList"in document.createElement("_"))&&"Element"in(i=window)){var e="classList",t="prototype",i=i.Element[t],n=Object,s=function(){var i=b(this);return{add:function(t){return t=Array.prototype.slice.call(arguments).join(" "),i.addClass(t)},remove:function(t){return t=Array.prototype.slice.call(arguments).join(" "),i.removeClass(t)},toggle:function(t,e){return i.toggleClass(t,e)},contains:function(t){return i.hasClass(t)}}};if(n.defineProperty){var o={get:s,enumerable:!0,configurable:!0};try{n.defineProperty(i,e,o)}catch(t){void 0!==t.number&&-2146823252!==t.number||(o.enumerable=!1,n.defineProperty(i,e,o))}}else n[t].__defineGetter__&&i.__defineGetter__(e,s)}var a,r,l,c,o=document.createElement("_");function h(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==c.call(t))throw new TypeError;var i=e.length,n=String(t),s=n.length,t=1<arguments.length?arguments[1]:void 0,t=t?Number(t):0,o=(t!=t&&(t=0),Math.min(Math.max(t,0),i));if(i<s+o)return!1;for(var a=-1;++a<s;)if(e.charCodeAt(o+a)!=n.charCodeAt(a))return!1;return!0}function k(t,e){var i,n=t.selectedOptions,s=[];if(e){for(var o=0,a=n.length;o<a;o++)(i=n[o]).disabled||"OPTGROUP"===i.parentNode.tagName&&i.parentNode.disabled||s.push(i);return s}return n}function w(t,e){for(var i,n=[],s=e||t.selectedOptions,o=0,a=s.length;o<a;o++)(i=s[o]).disabled||"OPTGROUP"===i.parentNode.tagName&&i.parentNode.disabled||n.push(i.value);return t.multiple?n:n.length?n[0]:null}o.classList.add("c1","c2"),o.classList.contains("c2")||(a=DOMTokenList.prototype.add,r=DOMTokenList.prototype.remove,DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,a.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,r.bind(this))}),o.classList.toggle("c3",!1),o.classList.contains("c3")&&(l=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:l.call(this,t)}),o=null,String.prototype.startsWith||(n=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),c={}.toString,n?n(String.prototype,"startsWith",{value:h,configurable:!0,writable:!0}):String.prototype.startsWith=h),Object.keys||(Object.keys=function(t,e,i){for(e in i=[],t)i.hasOwnProperty.call(t,e)&&i.push(e);return i}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var d={useDefault:!1,_set:b.valHooks.select.set},x=(b.valHooks.select.set=function(t,e){return e&&!d.useDefault&&b(t).data("selected",!0),d._set.apply(this,arguments)},null),B=function(){try{return new Event("change"),!0}catch(t){return!1}}();function _(t,e,i,n){for(var s=["display","subtext","tokens"],o=!1,a=0;a<s.length;a++){var r=s[a],l=t[r];if(l&&(l=l.toString(),"display"===r&&(l=l.replace(/<[^>]+>/g,"")),l=(l=n?p(l):l).toUpperCase(),o="contains"===i?0<=l.indexOf(e):l.startsWith(e)))break}return o}function v(t){return parseInt(t,10)||0}b.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?(B?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),i.dispatchEvent(e)):i.fireEvent?((e=document.createEventObject()).eventType=t,i.fireEvent("on"+t,e)):this.trigger(t)};var U={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},V=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,z=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function G(t){return U[t]}function p(t){return(t=t.toString())&&t.replace(V,G).replace(z,"")}u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t="(?:"+Object.keys(u).join("|")+")",f=RegExp(t),m=RegExp(t,"g");var u,f,m,S=function(t){return f.test(t=null==t?"":""+t)?t.replace(m,W):t};function W(t){return u[t]}var q={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},y=27,K=13,E=32,T=9,D=38,O=40,$={success:!0,major:"4"};try{$.full=(b.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),$.major=$.full[0],$.success=!0}catch(t){}var g=0,I=".bs.select",P={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENUINNER:"dropdown-menu_inner",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},Y={MENU:"."+P.MENU},M={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()},Q=(M.noResults=M.li.cloneNode(!1),M.noResults.className="no-results",M.a.setAttribute("role","option"),M.a.className="dropdown-item",M.subtext.className="text-muted",M.text=M.span.cloneNode(!1),M.text.className="text",M.checkMark=M.span.cloneNode(!1),new RegExp(D+"|"+O)),Z=new RegExp("^"+T+"$|"+y),A={li:function(t,e,i){var n=M.li.cloneNode(!1);return t&&(1===t.nodeType||11===t.nodeType?n.appendChild(t):n.innerHTML=t),void 0!==e&&""!==e&&(n.className=e),null!=i&&n.classList.add("optgroup-"+i),n},a:function(t,e,i){var n=M.a.cloneNode(!0);return t&&(11===t.nodeType?n.appendChild(t):n.insertAdjacentHTML("beforeend",t)),void 0!==e&&""!==e&&n.classList.add.apply(n.classList,e.split(/\s+/)),i&&n.setAttribute("style",i),n},text:function(t,e){var i,n,s=M.text.cloneNode(!1);if(t.content?s.innerHTML=t.content:(s.textContent=t.text,t.icon&&(i=M.whitespace.cloneNode(!1),(n=(!0===e?M.i:M.span).cloneNode(!1)).className=this.options.iconBase+" "+t.icon,M.fragment.appendChild(n),M.fragment.appendChild(i)),t.subtext&&((n=M.subtext.cloneNode(!1)).textContent=t.subtext,s.appendChild(n))),!0===e)for(;0<s.childNodes.length;)M.fragment.appendChild(s.childNodes[0]);else M.fragment.appendChild(s);return M.fragment},label:function(t){var e,i,n=M.text.cloneNode(!1);return n.innerHTML=t.display,t.icon&&(e=M.whitespace.cloneNode(!1),(i=M.span.cloneNode(!1)).className=this.options.iconBase+" "+t.icon,M.fragment.appendChild(i),M.fragment.appendChild(e)),t.subtext&&((i=M.subtext.cloneNode(!1)).textContent=t.subtext,n.appendChild(i)),M.fragment.appendChild(n),M.fragment}};function L(t,e){var i=this;d.useDefault||(b.valHooks.select.set=d._set,d.useDefault=!0),this.$element=b(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=e,this.selectpicker={main:{},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},null===this.options.title&&(this.options.title=this.$element.attr("title")),"number"==typeof(t=this.options.windowPadding)&&(this.options.windowPadding=[t,t,t,t]),this.val=L.prototype.val,this.render=L.prototype.render,this.refresh=L.prototype.refresh,this.setStyle=L.prototype.setStyle,this.selectAll=L.prototype.selectAll,this.deselectAll=L.prototype.deselectAll,this.destroy=L.prototype.destroy,this.remove=L.prototype.remove,this.show=L.prototype.show,this.hide=L.prototype.hide,this.init()}function X(t){var r,l=arguments,c=t;if([].shift.apply(l),!$.success){try{$.full=(b.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(t){L.BootstrapVersion?$.full=L.BootstrapVersion.split(" ")[0].split("."):($.full=[$.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",t))}$.major=$.full[0],$.success=!0}if("4"===$.major){var e=[];L.DEFAULTS.style===P.BUTTONCLASS&&e.push({name:"style",className:"BUTTONCLASS"}),L.DEFAULTS.iconBase===P.ICONBASE&&e.push({name:"iconBase",className:"ICONBASE"}),L.DEFAULTS.tickIcon===P.TICKICON&&e.push({name:"tickIcon",className:"TICKICON"}),P.DIVIDER="dropdown-divider",P.SHOW="show",P.BUTTONCLASS="btn-light",P.POPOVERHEADER="popover-header",P.ICONBASE="",P.TICKICON="bs-ok-default";for(var i=0;i<e.length;i++){t=e[i];L.DEFAULTS[t.name]=P[t.className]}}var n=this.each(function(){var t=b(this);if(t.is("select")){var e=t.data("selectpicker"),i="object"==_typeof2(c)&&c;if(e){if(i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e.options[n]=i[n])}else{var s,o=t.data();for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&-1!==b.inArray(s,N)&&delete o[s];var a=b.extend({},L.DEFAULTS,b.fn.selectpicker.defaults||{},o,i);a.template=b.extend({},L.DEFAULTS.template,b.fn.selectpicker.defaults?b.fn.selectpicker.defaults.template:{},o.template,i.template),t.data("selectpicker",e=new L(this,a))}"string"==typeof c&&(r=e[c]instanceof Function?e[c].apply(e,l):e.options[c])}});return void 0!==r?r:n}L.VERSION="1.13.18",L.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:P.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:P.ICONBASE,tickIcon:P.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:R},L.prototype={constructor:L,init:function(){var i=this,t=this.$element.attr("id"),e=this.$element[0],n=e.form;g++,this.selectId="bs-select-"+g,e.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),e.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.buildData(),this.$element.after(this.$newElement).prependTo(this.$newElement),n&&null===e.form&&(n.id||(n.id="form-"+this.selectId),e.setAttribute("form",n.id)),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(Y.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),e.classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(P.MENURIGHT),void 0!==t&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+I,function(){var t,e;i.isVirtual()&&(e=(t=i.$menuInner[0]).firstChild.cloneNode(!1),t.replaceChild(e,t.firstChild),t.scrollTop=0)}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){i.$element.trigger("hide"+I,t)},"hidden.bs.dropdown":function(t){i.$element.trigger("hidden"+I,t)},"show.bs.dropdown":function(t){i.$element.trigger("show"+I,t)},"shown.bs.dropdown":function(t){i.$element.trigger("shown"+I,t)}}),e.hasAttribute("required")&&this.$element.on("invalid"+I,function(){i.$button[0].classList.add("bs-invalid"),i.$element.on("shown"+I+".invalid",function(){i.$element.val(i.$element.val()).off("shown"+I+".invalid")}).on("rendered"+I,function(){this.validity.valid&&i.$button[0].classList.remove("bs-invalid"),i.$element.off("rendered"+I)}),i.$button.on("blur"+I,function(){i.$element.trigger("focus").trigger("blur"),i.$button.off("blur"+I)})}),setTimeout(function(){i.buildList(),i.$element.trigger("loaded"+I)})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",e=this.multiple?' aria-multiselectable="true"':"",i="",n=this.autofocus?" autofocus":"";$.major<4&&this.$element.parent().hasClass("input-group")&&(i=" input-group-btn");var s="",o="",a="",r="";return this.options.header&&(s='<div class="'+P.POPOVERHEADER+'"><button type="button" class="close button button_plain button_icon dropdown-menu__close" aria-hidden="true"><svg class="icon button__icon dropdown-menu__close-icon"><use href="/assets/redesign-theme/uikit/icon/icons.svg#close"></use></svg></button>'+this.options.header+"</div>"),this.options.liveSearch&&(o='<div class="bs-searchbox"><input type="text" name="'+this.selectId+'" class="bs-searchbox__input" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+S(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"><button class="button button_plain button_icon bs-searchbox__button bs-searchbox__button_show" type="button"> <svg class="icon button__icon"><use href="/assets/redesign-theme/uikit/icon/icons.svg#close"></use></svg></button></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="group-container group-container_wide"><button type="button" class="group-container__item actions-btn bs-select-all button button_plain">'+this.options.selectAllText+'</button><button type="button" class="group-container__item actions-btn bs-deselect-all button button_plain">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(r='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+P.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),t='<div class="dropdown bootstrap-select'+t+i+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+n+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===$.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+P.MENU+" "+("4"===$.major?"":P.SHOW)+'">'+s+o+a+'<div class="inner '+P.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+e+'><ul class="'+P.MENU+" "+P.MENUINNER+" inner "+("4"===$.major?P.SHOW:"")+'" role="presentation"></ul></div>'+r+"</div></div>",b(t)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var t=0;t<this.selectpicker.current.data.length;t++){var e=this.selectpicker.current.data[t],i=!0;"divider"===e.type?(i=!1,e.height=this.sizeInfo.dividerHeight):"optgroup-label"===e.type?(i=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),i&&(this.selectpicker.view.size++,e.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex)&&(this.selectpicker.view.firstHighlightIndex=t),e.position=(0===t?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(w,t,e){var x,S,E=this,i=0,T=[];function n(t,e){var i,n=E.selectpicker.current.elements.length,s=[],o=!0,a=E.isVirtual();E.selectpicker.view.scrollTop=t;for(var r,l=Math.ceil(E.sizeInfo.menuInnerHeight/E.sizeInfo.liHeight*1.5),c=Math.round(n/l)||1,h=0;h<c;h++){var d=h===c-1?n:(h+1)*l;if(s[h]=[h*l+(h?1:0),d],!n)break;void 0===i&&t-1<=E.selectpicker.current.data[d-1].position-E.sizeInfo.menuInnerHeight&&(i=h)}if(void 0===i&&(i=0),v=[E.selectpicker.view.position0,E.selectpicker.view.position1],u=Math.max(0,i-1),f=Math.min(c-1,i+1),E.selectpicker.view.position0=!1!==a&&Math.max(0,s[u][0])||0,E.selectpicker.view.position1=!1===a?n:Math.min(n,s[f][1])||0,u=v[0]!==E.selectpicker.view.position0||v[1]!==E.selectpicker.view.position1,void 0!==E.activeIndex&&(S=E.selectpicker.main.elements[E.prevActiveIndex],T=E.selectpicker.main.elements[E.activeIndex],x=E.selectpicker.main.elements[E.selectedIndex],e&&(E.activeIndex!==E.selectedIndex&&E.defocusItem(T),E.activeIndex=void 0),E.activeIndex)&&E.activeIndex!==E.selectedIndex&&E.defocusItem(x),void 0!==E.prevActiveIndex&&E.prevActiveIndex!==E.activeIndex&&E.prevActiveIndex!==E.selectedIndex&&E.defocusItem(S),(e||u)&&(f=E.selectpicker.view.visibleElements?E.selectpicker.view.visibleElements.slice():[],E.selectpicker.view.visibleElements=!1===a?E.selectpicker.current.elements:E.selectpicker.current.elements.slice(E.selectpicker.view.position0,E.selectpicker.view.position1),E.setOptionStatus(),(w||!1===a&&e)&&(v=f,r=E.selectpicker.view.visibleElements,o=!(v.length===r.length&&v.every(function(t,e){return t===r[e]}))),e||!0===a)&&o){var u=E.$menuInner[0],p=document.createDocumentFragment(),f=u.firstChild.cloneNode(!1),m=E.selectpicker.view.visibleElements,g=[];u.replaceChild(f,u.firstChild);for(var v,h=0,_=m.length;h<_;h++){var y,b,k=m[h];E.options.sanitize&&(y=k.lastChild)&&(b=E.selectpicker.current.data[h+E.selectpicker.view.position0])&&b.content&&!b.sanitized&&(g.push(y),b.sanitized=!0),p.appendChild(k)}E.options.sanitize&&g.length&&C(g,E.options.whiteList,E.options.sanitizeFn),!0===a?(v=0===E.selectpicker.view.position0?0:E.selectpicker.current.data[E.selectpicker.view.position0-1].position,o=E.selectpicker.view.position1>n-1?0:E.selectpicker.current.data[n-1].position-E.selectpicker.current.data[E.selectpicker.view.position1-1].position,u.firstChild.style.marginTop=v+"px",u.firstChild.style.marginBottom=o+"px"):(u.firstChild.style.marginTop=0,u.firstChild.style.marginBottom=0),u.firstChild.appendChild(p),!0===a&&E.sizeInfo.hasScrollBar&&(f=u.firstChild.offsetWidth,e&&f<E.sizeInfo.menuInnerInnerWidth&&E.sizeInfo.totalMenuWidth>E.sizeInfo.selectWidth?u.firstChild.style.minWidth=E.sizeInfo.menuInnerInnerWidth+"px":f>E.sizeInfo.menuInnerInnerWidth&&(E.$menu[0].style.minWidth=0,(v=u.firstChild.offsetWidth)>E.sizeInfo.menuInnerInnerWidth&&(E.sizeInfo.menuInnerInnerWidth=v,u.firstChild.style.minWidth=E.sizeInfo.menuInnerInnerWidth+"px"),E.$menu[0].style.minWidth=""))}E.prevActiveIndex=E.activeIndex,E.options.liveSearch?w&&e&&(E.selectpicker.view.canHighlight[o=0]||(o=1+E.selectpicker.view.canHighlight.slice(1).indexOf(!0)),a=E.selectpicker.view.visibleElements[o],E.defocusItem(E.selectpicker.view.currentActive),E.activeIndex=(E.selectpicker.current.data[o]||{}).index,E.focusItem(a)):E.$menuInner.trigger("focus")}this.selectpicker.isSearching=w,this.selectpicker.current=w?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),t&&(e?i=this.$menuInner[0].scrollTop:E.multiple||"number"==typeof(e=((t=E.$element[0]).options[t.selectedIndex]||{}).liIndex)&&!1!==E.options.size&&(e=(t=E.selectpicker.main.data[e])&&t.position)&&(i=e-(E.sizeInfo.menuInnerHeight+E.sizeInfo.liHeight)/2)),n(i,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(t,e){E.noScroll||n(this.scrollTop,e),E.noScroll=!1}),b(window).off("resize"+I+"."+this.selectId+".createView").on("resize"+I+"."+this.selectId+".createView",function(){E.$newElement.hasClass(P.SHOW)&&n(E.$menuInner[0].scrollTop)})},focusItem:function(t,e,i){var n;t&&(e=e||this.selectpicker.main.data[this.activeIndex],n=t.firstChild)&&(n.setAttribute("aria-setsize",this.selectpicker.view.size),n.setAttribute("aria-posinset",e.posinset),!0!==i)&&(this.focusedParent.setAttribute("aria-activedescendant",n.id),t.classList.add("active"),n.classList.add("active"))},defocusItem:function(t){t&&(t.classList.remove("active"),t.firstChild)&&t.firstChild.classList.remove("active")},setPlaceholder:function(){var t,e,i,n,s,o,a=this,r=!1;return this.options.title&&!this.multiple&&(this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),t=this.$element[0],e=!(r=!0),i=!this.selectpicker.view.titleOption.parentNode,n=t.selectedIndex,s=t.options[n],o=(o=window.performance&&window.performance.getEntriesByType("navigation"))&&o.length?"back_forward"!==o[0].type:2!==window.performance.navigation.type,i&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",e=!s||0===n&&!1===s.defaultSelected&&void 0===this.$element.data("selected")),!i&&0===this.selectpicker.view.titleOption.index||t.insertBefore(this.selectpicker.view.titleOption,t.firstChild),e&&o?t.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",function(){a.selectpicker.view.displayedValue!==t.value&&a.render()})),r},buildData:function(){var t=':not([hidden]):not([data-hidden="true"])',o=[],e=0,i=this.setPlaceholder()?1:0,n=(this.options.hideDisabled&&(t+=":not(:disabled)"),this.$element[0].querySelectorAll("select > *"+t));function a(t){var e=o[o.length-1];e&&"divider"===e.type&&(e.optID||t.optID)||((t=t||{}).type="divider",o.push(t))}function s(t,e){var i,n,s;(e=e||{}).divider="true"===t.getAttribute("data-divider"),e.divider?a({optID:e.optID}):(i=o.length,n=(n=t.style.cssText)?S(n):"",s=(t.className||"")+(e.optgroupClass||""),e.optID&&(s="opt "+s),e.optionClass=s.trim(),e.inlineStyle=n,e.text=t.textContent,e.content=t.getAttribute("data-content"),e.tokens=t.getAttribute("data-tokens"),e.subtext=t.getAttribute("data-subtext"),e.icon=t.getAttribute("data-icon"),t.liIndex=i,e.display=e.content||e.text,e.type="option",e.index=i,e.option=t,e.selected=!!t.selected,e.disabled=e.disabled||!!t.disabled,o.push(e))}for(var r=n.length,l=i;l<r;l++){var c=n[l];if("OPTGROUP"!==c.tagName)s(c,{});else{y=_=v=m=f=g=p=d=h=u=c=void 0;var c=l,h=(u=n)[c],d=!(c-1<i)&&u[c-1],u=u[c+1],p=h.querySelectorAll("option"+t);if(p.length){var f,m,g={display:S(h.label),subtext:h.getAttribute("data-subtext"),icon:h.getAttribute("data-icon"),type:"optgroup-label",optgroupClass:" "+(h.className||"")};e++,d&&a({optID:e}),g.optID=e,o.push(g);for(var v=0,_=p.length;v<_;v++){var y=p[v];0===v&&(m=(f=o.length-1)+_),s(y,{headerIndex:f,lastIndex:m,optID:g.optID,optgroupClass:g.optgroupClass,disabled:h.disabled})}u&&a({optID:e})}}}this.selectpicker.main.data=this.selectpicker.current.data=o},buildList:function(){var t=this,e=this.selectpicker.main.data,i=[],n=0;!t.options.showTick&&!t.multiple||M.checkMark.parentNode||(M.checkMark.className=this.options.iconBase+" "+t.options.tickIcon+" check-mark",M.a.appendChild(M.checkMark));for(var s=e.length,o=0;o<s;o++){var a,r=e[o],l=(c=a=l=void 0,r),c=0;switch(l.type){case"divider":a=A.li(!1,P.DIVIDER,l.optID?l.optID+"div":void 0);break;case"option":(a=A.li(A.a(A.text.call(t,l),l.optionClass,l.inlineStyle),"",l.optID)).firstChild&&(a.firstChild.id=t.selectId+"-"+l.index);break;case"optgroup-label":a=A.li(A.label.call(t,l),"dropdown-header"+l.optgroupClass,l.optID)}l.element=a,i.push(a),l.display&&(c+=l.display.length),l.subtext&&(c+=l.subtext.length),l.icon&&(c+=1),n<c&&(n=c,t.selectpicker.view.widestOption=i[i.length-1])}this.selectpicker.main.elements=this.selectpicker.current.elements=i},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var t=this,e=this.$element[0],i=this.setPlaceholder()&&0===e.selectedIndex,n=k(e,this.options.hideDisabled),s=n.length,o=this.$button[0],a=o.querySelector(".filter-option-inner-inner"),r=document.createTextNode(this.options.multipleSeparator),l=M.fragment.cloneNode(!1),c=!1;if(o.classList.toggle("bs-placeholder",t.multiple?!s:!w(e,n)),t.multiple||1!==n.length||(t.selectpicker.view.displayedValue=w(e,n)),"static"===this.options.selectedTextFormat)l=A.text.call(this,{text:this.options.title},!0);else if(!1===(this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<s&&(1<(e=this.options.selectedTextFormat.split(">")).length&&s>e[1]||1===e.length&&2<=s))){if(!i){for(var h=0;h<s&&h<50;h++){var d=n[h],u=this.selectpicker.main.data[d.liIndex],p={};this.multiple&&0<h&&l.appendChild(r.cloneNode(!1)),d.title?p.text=d.title:u&&(u.content&&t.options.showContent?(p.content=u.content.toString(),c=!0):(t.options.showIcon&&(p.icon=u.icon),t.options.showSubtext&&!t.multiple&&u.subtext&&(p.subtext=" "+u.subtext),p.text=d.textContent.trim())),l.appendChild(A.text.call(this,p,!0))}49<s&&l.appendChild(document.createTextNode("..."))}}else var e=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])',i=(this.options.hideDisabled&&(e+=":not(:disabled)"),this.$element[0].querySelectorAll("select > option"+e+", optgroup"+e+" option"+e).length),e="function"==typeof this.options.countSelectedText?this.options.countSelectedText(s,i):this.options.countSelectedText,l=A.text.call(this,{text:e.replace("{0}",s.toString()).replace("{1}",i.toString())},!0);null==this.options.title&&(this.options.title=this.$element.attr("title")),l.childNodes.length||(l=A.text.call(this,{text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),o.title=l.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&c&&C([l],t.options.whiteList,t.options.sanitizeFn),a.innerHTML="",a.appendChild(l),$.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")&&(e=o.querySelector(".filter-expand"),(i=a.cloneNode(!0)).className="filter-expand",e?o.replaceChild(i,e):o.appendChild(i)),this.$element.trigger("rendered"+I)},setStyle:function(t,e){var i=this.$button[0],n=this.$newElement[0],s=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),$.major<4&&(n.classList.add("bs3"),n.parentNode.classList)&&n.parentNode.classList.contains("input-group")&&(n.previousElementSibling||n.nextElementSibling)&&(n.previousElementSibling||n.nextElementSibling).classList.contains("input-group-addon")&&n.classList.add("bs3-has-addon"),n=t?t.trim():s,"add"==e?n&&i.classList.add.apply(i.classList,n.split(" ")):"remove"==e?n&&i.classList.remove.apply(i.classList,n.split(" ")):(s&&i.classList.remove.apply(i.classList,s.split(" ")),n&&i.classList.add.apply(i.classList,n.split(" ")))},liHeight:function(t){if(t||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){var e,t=M.div.cloneNode(!1),i=M.div.cloneNode(!1),n=M.div.cloneNode(!1),s=document.createElement("ul"),o=M.li.cloneNode(!1),a=M.li.cloneNode(!1),r=M.a.cloneNode(!1),l=M.span.cloneNode(!1),c=this.options.header&&0<this.$menu.find("."+P.POPOVERHEADER).length?this.$menu.find("."+P.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?M.div.cloneNode(!1):null,d=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,p=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,l.className="text",r.className="dropdown-item "+(p?p.className:""),t.className=this.$menu[0].parentNode.className+" bs-container "+P.SHOW,(t.style.width="auto")===this.options.width&&(i.style.minWidth=0),i.className=P.MENU+" "+P.SHOW,n.className="inner "+P.SHOW,s.className=P.MENU+" dropdown-menu_inner inner "+("4"===$.major?P.SHOW:""),o.className=P.DIVIDER,a.className="dropdown-header",l.appendChild(document.createTextNode("​")),this.selectpicker.current.data.length)for(var f=0;f<this.selectpicker.current.data.length;f++){var m=this.selectpicker.current.data[f];if("option"===m.type){e=m.element;break}}else e=M.li.cloneNode(!1),r.appendChild(l),e.appendChild(r);a.appendChild(l.cloneNode(!0)),this.selectpicker.view.widestOption&&s.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),s.appendChild(e),s.appendChild(o),s.appendChild(a),c&&i.appendChild(c),h&&(p=document.createElement("input"),h.className="bs-searchbox",p.className="form-control",h.appendChild(p),i.appendChild(h)),d&&i.appendChild(d),n.appendChild(s),i.appendChild(n),u&&i.appendChild(u),t.appendChild(i),document.body.appendChild(t);var r=e.offsetHeight,l=a?a.offsetHeight:0,p=c?c.offsetHeight:0,s=h?h.offsetHeight:0,a=d?d.offsetHeight:0,c=u?u.offsetHeight:0,h=b(o).outerHeight(!0),d=!!window.getComputedStyle&&window.getComputedStyle(i),u=i.offsetWidth,o=d?null:b(i),g={vert:v(d?d.paddingTop:o.css("paddingTop"))+v(d?d.paddingBottom:o.css("paddingBottom"))+v(d?d.borderTopWidth:o.css("borderTopWidth"))+v(d?d.borderBottomWidth:o.css("borderBottomWidth")),horiz:v(d?d.paddingLeft:o.css("paddingLeft"))+v(d?d.paddingRight:o.css("paddingRight"))+v(d?d.borderLeftWidth:o.css("borderLeftWidth"))+v(d?d.borderRightWidth:o.css("borderRightWidth"))},d={vert:g.vert+v(d?d.marginTop:o.css("marginTop"))+v(d?d.marginBottom:o.css("marginBottom"))+2,horiz:g.horiz+v(d?d.marginLeft:o.css("marginLeft"))+v(d?d.marginRight:o.css("marginRight"))+2};n.style.overflowY="scroll",o=i.offsetWidth-u,document.body.removeChild(t),this.sizeInfo.liHeight=r,this.sizeInfo.dropdownHeaderHeight=l,this.sizeInfo.headerHeight=p,this.sizeInfo.searchHeight=s,this.sizeInfo.actionsHeight=a,this.sizeInfo.doneButtonHeight=c,this.sizeInfo.dividerHeight=h,this.sizeInfo.menuPadding=g,this.sizeInfo.menuExtras=d,this.sizeInfo.menuWidth=u,this.sizeInfo.menuInnerInnerWidth=u-g.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=o,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,e=b(window),i=this.$newElement.offset(),n=b(this.options.container),n=(this.options.container&&n.length&&!n.is("body")?((t=n.offset()).top+=parseInt(n.css("borderTopWidth")),t.left+=parseInt(n.css("borderLeftWidth"))):t={top:0,left:0},this.options.windowPadding);this.sizeInfo.selectOffsetTop=i.top-t.top-e.scrollTop(),this.sizeInfo.selectOffsetBot=e.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-n[2],this.sizeInfo.selectOffsetLeft=i.left-t.left-e.scrollLeft(),this.sizeInfo.selectOffsetRight=e.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-n[1],this.sizeInfo.selectOffsetTop-=n[0],this.sizeInfo.selectOffsetLeft-=n[3]},setMenuSize:function(t){this.getSelectPosition();var e,i,n,s,o,a,r=this.sizeInfo.selectWidth,l=this.sizeInfo.liHeight,c=this.sizeInfo.headerHeight,h=this.sizeInfo.searchHeight,d=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,f=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(a=l*this.selectpicker.current.elements.length+f.vert,a=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(a=this.selectpicker.dropup),this.$newElement.toggleClass(P.DROPUP,a),this.selectpicker.dropup=a),"auto"===this.options.size)a=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,n=a+c+h+d+u,o=Math.max(a-f.vert,0),e=(s=i=this.$newElement.hasClass(P.DROPUP)?this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert:i)-c-h-d-u-f.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&m++;e=(i=l*this.options.size+m*p+f.vert)-f.vert,s=i+c+h+d+u,n=o=""}this.$menu.css({"max-height":s+"px",overflow:"hidden","min-height":"auto"===this.options.size?"":n+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":"auto"===this.options.size?"":o+"px"}),this.sizeInfo.menuInnerHeight=Math.max(e,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(P.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-r),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){var e,i;this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(e=this,i=b(window),this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return e.setMenuSize()}),"auto"===this.options.size?i.off("resize"+I+"."+this.selectId+".setMenuSize scroll"+I+"."+this.selectId+".setMenuSize").on("resize"+I+"."+this.selectId+".setMenuSize scroll"+I+"."+this.selectId+".setMenuSize",function(){return e.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&i.off("resize"+I+"."+this.selectId+".setMenuSize scroll"+I+"."+this.selectId+".setMenuSize")),this.createView(!1,!0,t)},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.$element.on("loaded"+I,function(){i.liHeight(),i.setMenuSize();var t=i.$newElement.clone().appendTo("body"),e=t.css("width","auto").children("button").outerWidth();t.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,e),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=b('<div class="bs-container" />');function t(t){var e={},i=a.options.display||!!b.fn.dropdown.Constructor.Default&&b.fn.dropdown.Constructor.Default.display;a.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(P.DROPUP,t.hasClass(P.DROPUP)),n=t.offset(),r.is("body")?s={top:0,left:0}:((s=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),s.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),o=t.hasClass(P.DROPUP)?0:t[0].offsetHeight,($.major<4||"static"===i)&&(e.top=n.top-s.top+o,e.left=n.left-s.left),e.width=t[0].offsetWidth,a.$bsContainer.css(e)}var n,s,o,a=this,r=b(this.options.container);this.$button.on("click.bs.dropdown.data-api",function(){a.isDisabled()||(t(a.$newElement),a.$bsContainer.appendTo(a.options.container).toggleClass(P.SHOW,!a.$button.hasClass(P.SHOW)).append(a.$menu))}),b(window).off("resize"+I+"."+this.selectId+" scroll"+I+"."+this.selectId).on("resize"+I+"."+this.selectId+" scroll"+I+"."+this.selectId,function(){a.$newElement.hasClass(P.SHOW)&&t(a.$newElement)}),this.$element.on("hide"+I,function(){a.$menu.data("height",a.$menu.height()),a.$bsContainer.detach()})},setOptionStatus:function(t){var e=this;if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var i=0;i<e.selectpicker.view.visibleElements.length;i++){var n=e.selectpicker.current.data[i+e.selectpicker.view.position0],s=n.option;s&&(!0!==t&&e.setDisabled(n.index,n.disabled),e.setSelected(n.index,s.selected))}},setSelected:function(t,e){var i,n=this.selectpicker.main.elements[t],s=this.selectpicker.main.data[t],o=void 0!==this.activeIndex,a=this.activeIndex===t||e&&!this.multiple&&!o;s.selected=e,i=n.firstChild,e&&(this.selectedIndex=t),n.classList.toggle("selected",e),a?(this.focusItem(n,s),this.selectpicker.view.currentActive=n,this.activeIndex=t):this.defocusItem(n),i&&(i.classList.toggle("selected",e),e?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),a||o||!e||void 0===this.prevActiveIndex||(s=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(s))},setDisabled:function(t,e){var i=this.selectpicker.main.elements[t];this.selectpicker.main.data[t].disabled=e,t=i.firstChild,i.classList.toggle(P.DISABLED,e),t&&("4"===$.major&&t.classList.toggle(P.DISABLED,e),e?(t.setAttribute("aria-disabled",e),t.setAttribute("tabindex",-1)):(t.removeAttribute("aria-disabled"),t.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(P.DISABLED),this.$button.addClass(P.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(P.DISABLED)&&(this.$newElement[0].classList.remove(P.DISABLED),this.$button.removeClass(P.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var y=this,e=b(document);function t(){(y.options.liveSearch?y.$searchbox:y.$menuInner).trigger("focus")}function i(){y.dropdown&&y.dropdown._popper&&y.dropdown._popper.state.isCreated?t():requestAnimationFrame(i)}e.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&e.data("spaceSelect")&&(t.preventDefault(),e.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<$.major&&!y.dropdown&&(y.dropdown=y.$button.data("bs.dropdown"),y.dropdown._menu=y.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){y.$newElement.hasClass(P.SHOW)||y.setSize()}),this.$element.on("shown"+I,function(){y.$menuInner[0].scrollTop!==y.selectpicker.view.scrollTop&&(y.$menuInner[0].scrollTop=y.selectpicker.view.scrollTop),3<$.major?requestAnimationFrame(i):t()}),this.$menuInner.on("mouseenter","li a",function(t){var e=this.parentElement,i=y.isVirtual()?y.selectpicker.view.position0:0,n=Array.prototype.indexOf.call(e.parentElement.children,e),n=y.selectpicker.current.data[n+i];y.focusItem(e,n,!0)}),this.$menuInner.on("click","li a",function(t,e){var i=b(this),n=y.$element[0],s=y.isVirtual()?y.selectpicker.view.position0:0,s=y.selectpicker.current.data[i.parent().index()+s],o=s.index,a=w(n),r=n.selectedIndex,l=n.options[r],c=!0;if(y.multiple&&1!==y.options.maxOptions&&t.stopPropagation(),t.preventDefault(),!y.isDisabled()&&!i.parent().hasClass(P.DISABLED)){var t=s.option,i=b(t),s=t.selected,h=i.parent("optgroup"),d=h.find("option"),u=y.options.maxOptions,p=h.data("maxOptions")||!1;if((e=o===y.activeIndex?!0:e)||(y.prevActiveIndex=y.activeIndex,y.activeIndex=void 0),y.multiple){if(t.selected=!s,y.setSelected(o,!s),y.focusedParent.focus(),!1!==u||!1!==p){e=u<k(n).length,s=p<h.find("option:selected").length;if(u&&e||p&&s)if(u&&1==u)n.selectedIndex=-1,t.selected=!0,y.setOptionStatus(!0);else if(p&&1==p){for(var f=0;f<d.length;f++){var m=d[f];m.selected=!1,y.setSelected(m.liIndex,!1)}t.selected=!0,y.setSelected(o,!0)}else{var h="string"==typeof y.options.maxOptionsText?[y.options.maxOptionsText,y.options.maxOptionsText]:y.options.maxOptionsText,h="function"==typeof h?h(u,p):h,g=h[0].replace("{n}",u),v=h[1].replace("{n}",p),_=b('<div class="notify"></div>');h[2]&&(g=g.replace("{var}",h[2][1<u?0:1]),v=v.replace("{var}",h[2][1<p?0:1])),t.selected=!1,y.$menu.append(_),u&&e&&(_.append(b("<div>"+g+"</div>")),c=!1,y.$element.trigger("maxReached"+I)),p&&s&&(_.append(b("<div>"+v+"</div>")),c=!1,y.$element.trigger("maxReachedGrp"+I)),setTimeout(function(){y.setSelected(o,!1)},10),_[0].classList.add("fadeOut"),setTimeout(function(){_.remove()},1050)}}}else l&&(l.selected=!1),t.selected=!0,y.setSelected(o,!0);!y.multiple||y.multiple&&1===y.options.maxOptions?y.$button.trigger("focus"):y.options.liveSearch&&y.$searchbox.trigger("focus"),!c||!y.multiple&&r===n.selectedIndex||(x=[t.index,i.prop("selected"),a],y.$element.triggerNative("change"))}}),this.$menu.on("click","li."+P.DISABLED+" a, ."+P.POPOVERHEADER+", ."+P.POPOVERHEADER+" :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),(y.options.liveSearch&&!b(t.target).hasClass("close")?y.$searchbox:y.$button).trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),(y.options.liveSearch?y.$searchbox:y.$button).trigger("focus")}),this.$menu.on("click","."+P.POPOVERHEADER+" .close",function(){y.$button.trigger("click")}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){(y.options.liveSearch?y.$searchbox:y.$button).trigger("focus"),t.preventDefault(),t.stopPropagation(),b(this).hasClass("bs-select-all")?y.selectAll():y.deselectAll()}),this.$button.on("focus"+I,function(t){var e=y.$element[0].getAttribute("tabindex");void 0!==e&&t.originalEvent&&t.originalEvent.isTrusted&&(this.setAttribute("tabindex",e),y.$element[0].setAttribute("tabindex",-1),y.selectpicker.view.tabindex=e)}).on("blur"+I,function(t){void 0!==y.selectpicker.view.tabindex&&t.originalEvent&&t.originalEvent.isTrusted&&(y.$element[0].setAttribute("tabindex",y.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),y.selectpicker.view.tabindex=void 0)}),this.$element.on("change"+I,function(){y.render(),y.$element.trigger("changed"+I,x),x=null}).on("focus"+I,function(){y.options.mobile||y.$button[0].focus()})},liveSearchListener:function(){var u=this;this.$button.on("click.bs.dropdown.data-api",function(){u.$searchbox.val()&&(u.$searchbox.val(""),u.selectpicker.search.previousValue=void 0)}),this.$menu.find(".bs-searchbox__button").on("click",function(){u.$searchbox.val("").trigger("input").trigger("keyup").focus()}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t=u.$searchbox[0].value;if(u.selectpicker.search.elements=[],u.selectpicker.search.data=[],t){var e=[],i=t.toUpperCase(),n={},s=[],o=u._searchStyle(),a=u.options.liveSearchNormalize;a&&(i=p(i));for(var r=0;r<u.selectpicker.main.data.length;r++){var l=u.selectpicker.main.data[r];n[r]||(n[r]=_(l,i,o,a)),n[r]&&void 0!==l.headerIndex&&-1===s.indexOf(l.headerIndex)&&(0<l.headerIndex&&(n[l.headerIndex-1]=!0,s.push(l.headerIndex-1)),n[l.headerIndex]=!0,s.push(l.headerIndex),n[l.lastIndex+1]=!0),n[r]&&"optgroup-label"!==l.type&&s.push(r)}for(var r=0,c=s.length;r<c;r++){var h=s[r],l=u.selectpicker.main.data[h],d=u.selectpicker.main.data[s[r-1]];("divider"!==l.type||"divider"===l.type&&d&&"divider"!==d.type&&c-1!==r)&&(u.selectpicker.search.data.push(l),e.push(u.selectpicker.main.elements[h]))}u.activeIndex=void 0,u.noScroll=!0,u.$menuInner.scrollTop(0),u.selectpicker.search.elements=e,u.createView(!0),!function(t,e){t.length||(M.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+S(e)+'"'),this.$menuInner[0].firstChild.appendChild(M.noResults))}.call(u,e,t)}else u.selectpicker.search.previousValue&&(u.$menuInner.scrollTop(0),u.createView(!1));u.selectpicker.search.previousValue=t})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){var e,i=this.$element[0];return void 0!==t?(e=w(i),x=[null,null,e],this.$element.val(t).trigger("changed"+I,x),this.$newElement.hasClass(P.SHOW)&&(this.multiple?this.setOptionStatus(!0):"number"==typeof(e=(i.options[i.selectedIndex]||{}).liIndex)&&(this.setSelected(this.selectedIndex,!1),this.setSelected(e,!0))),this.render(),x=null,this.$element):this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0);var e=this.$element[0],i=0,n=0,s=w(e);e.classList.add("bs-select-hidden");for(var o=0,a=this.selectpicker.current.data,r=a.length;o<r;o++){var l=a[o],c=l.option;c&&!l.disabled&&"divider"!==l.type&&(l.selected&&i++,!0===(c.selected=t))&&n++}e.classList.remove("bs-select-hidden"),i!==n&&(this.setOptionStatus(),x=[null,null,s],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var e,i,n,s,o=b(this),a=o.hasClass("dropdown-toggle"),r=(a?o.closest(".dropdown"):o.closest(Y.MENU)).data("this"),l=r.findLis(),c=!1,a=t.which===T&&!a&&!r.options.selectOnTab,h=Q.test(t.which)||a,d=r.$menuInner[0].scrollTop,u=!0===r.isVirtual()?r.selectpicker.view.position0:0;if(!(112<=t.which&&t.which<=123))if(!(e=r.$newElement.hasClass(P.SHOW))&&(h||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105||65<=t.which&&t.which<=90)&&(r.$button.trigger("click.bs.dropdown.data-api"),r.options.liveSearch))r.$searchbox.trigger("focus");else{if(t.which===y&&e&&(t.preventDefault(),r.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),h){if(!l.length)return;-1!==(h=(i=r.selectpicker.main.elements[r.activeIndex])?Array.prototype.indexOf.call(i.parentElement.children,i):-1)&&r.defocusItem(i),t.which===D?(-1!==h&&h--,h+u<0&&(h+=l.length),r.selectpicker.view.canHighlight[h+u]||-1===(h=r.selectpicker.view.canHighlight.slice(0,h+u).lastIndexOf(!0)-u)&&(h=l.length-1)):t.which!==O&&!a||(++h+u>=r.selectpicker.view.canHighlight.length&&(h=r.selectpicker.view.firstHighlightIndex),r.selectpicker.view.canHighlight[h+u])||(h=h+1+r.selectpicker.view.canHighlight.slice(h+u+1).indexOf(!0)),t.preventDefault();var p=u+h;t.which===D?0===u&&h===l.length-1?(r.$menuInner[0].scrollTop=r.$menuInner[0].scrollHeight,p=r.selectpicker.current.elements.length-1):c=(s=(n=r.selectpicker.current.data[p]).position-n.height)<d:t.which!==O&&!a||(h===r.selectpicker.view.firstHighlightIndex?(r.$menuInner[0].scrollTop=0,p=r.selectpicker.view.firstHighlightIndex):c=d<(s=(n=r.selectpicker.current.data[p]).position-r.sizeInfo.menuInnerHeight)),i=r.selectpicker.current.elements[p],r.activeIndex=r.selectpicker.current.data[p].index,r.focusItem(i),r.selectpicker.view.currentActive=i,c&&(r.$menuInner[0].scrollTop=s),(r.options.liveSearch?r.$searchbox:o).trigger("focus")}else if(!o.is("input")&&!Z.test(t.which)||t.which===E&&r.selectpicker.keydown.keyHistory){var f,m=[];t.preventDefault(),r.selectpicker.keydown.keyHistory+=q[t.which],r.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(r.selectpicker.keydown.resetKeyHistory.cancel),r.selectpicker.keydown.resetKeyHistory.cancel=r.selectpicker.keydown.resetKeyHistory.start(),f=r.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(f)&&(f=f.charAt(0));for(var g=0;g<r.selectpicker.current.data.length;g++){var v=r.selectpicker.current.data[g];_(v,f,"startsWith",!0)&&r.selectpicker.view.canHighlight[g]&&m.push(v.index)}m.length&&(u=0,l.removeClass("active").find("a").removeClass("active"),1===f.length&&(-1===(u=m.indexOf(r.activeIndex))||u===m.length-1?u=0:u++),c=0<d-(n=r.selectpicker.main.data[a=m[u]]).position?(s=n.position-n.height,!0):(s=n.position-r.sizeInfo.menuInnerHeight,n.position>d+r.sizeInfo.menuInnerHeight),i=r.selectpicker.main.elements[a],r.activeIndex=m[u],r.focusItem(i),i&&i.firstChild.focus(),c&&(r.$menuInner[0].scrollTop=s),o.trigger("focus"))}e&&(t.which===E&&!r.selectpicker.keydown.keyHistory||t.which===K||t.which===T&&r.options.selectOnTab)&&(t.which!==E&&t.preventDefault(),r.options.liveSearch&&t.which===E||(r.$menuInner.find(".active a").trigger("click",!0),o.trigger("focus"),r.options.liveSearch)||(t.preventDefault(),b(document).data("spaceSelect",!0)))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var t=b.extend({},this.options,this.$element.data());this.options=t,this.checkDisabled(),this.buildData(),this.setStyle(),this.render(),this.buildList(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+I)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(I).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),b(window).off(I+"."+this.selectId)}};var J=b.fn.selectpicker;function tt(){if(b.fn.dropdown)return(b.fn.dropdown.Constructor._dataApiKeydownHandler||b.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments)}b.fn.selectpicker=X,b.fn.selectpicker.Constructor=L,b.fn.selectpicker.noConflict=function(){return b.fn.selectpicker=J,this},b(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",':not(.bootstrap-select) > [data-toggle="dropdown"]',tt).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",tt).on("keydown"+I,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',L.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(t){t.stopPropagation()}),b(window).on("load"+I+".data-api",function(){b(".selectpicker").each(function(){var t=b(this);X.call(t,t.data())})})}(t)}),!function(t,e){void 0===t&&void 0!==window&&(t=window),"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof module?"undefined":_typeof2(module))&&module.exports?module.exports=e(t.jQuery):e(t.jQuery)}(this,function(t){t.fn.selectpicker.defaults={noneSelectedText:"Ничего не выбрано",noneResultsText:"Совпадений не найдено {0}",countSelectedText:"Выбрано {0} из {1}",maxOptionsText:["Достигнут предел ({n} {var} максимум)","Достигнут предел в группе ({n} {var} максимум)",["шт.","шт."]],doneButtonText:"Закрыть",selectAllText:"Выбрать все",deselectAllText:"Отменить все",multipleSeparator:", ",currentlySelected:"Выбрано",emptyTitle:"Выделите и начните печатать",errorText:"Невозможно получить результат",searchPlaceholder:"Искать...",statusInitialized:"Начните печатать запрос для поиска",statusNoResults:"Нет результатов",statusSearching:"Поиск...",statusTooShort:"Введите еще несколько символов"}}),!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(window,function(){"use strict";function a(t){return t&&"[object Function]"==={}.toString.call(t)}function d(t,e){return 1!==t.nodeType?[]:(t=t.ownerDocument.defaultView.getComputedStyle(t,null),e?t[e]:t)}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function h(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=d(t),i=e.overflow,n=e.overflowX,e=e.overflowY;return/(auto|scroll|overlay)/.test(i+e+n)?t:h(l(t))}function c(t){return t&&t.referenceNode?t.referenceNode:t}function u(t){return 11===t?K:10!==t&&K||Y}function p(t){if(!t)return document.documentElement;for(var e=u(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===d(i,"position")?p(i):i:(t?t.ownerDocument:document).documentElement}function o(t){return null===t.parentNode?t:o(t.parentNode)}function f(t,e){var i,n,s;return t&&t.nodeType&&e&&e.nodeType?(n=(s=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING)?t:e,s=s?e:t,(i=document.createRange()).setStart(n,0),i.setEnd(s,0),t!==(i=i.commonAncestorContainer)&&e!==i||n.contains(s)?"BODY"===(s=(n=i).nodeName)||"HTML"!==s&&p(n.firstElementChild)!==n?p(i):i:(s=o(t)).host?f(s.host,e):f(t,o(e).host)):document.documentElement}function m(t,e){var e="top"===(1<arguments.length&&void 0!==e?e:"top")?"scrollTop":"scrollLeft",i=t.nodeName;return("BODY"===i||"HTML"===i?(i=t.ownerDocument.documentElement,t.ownerDocument.scrollingElement||i):t)[e]}function s(t,e){var e="x"===e?"Left":"Top",i="Left"==e?"Right":"Bottom";return parseFloat(t["border"+e+"Width"])+parseFloat(t["border"+i+"Width"])}function n(t,e,i,n){return M(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],u(10)?parseInt(i["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function g(t){var e=t.body,t=t.documentElement,i=u(10)&&getComputedStyle(t);return{height:n("Height",e,t,i),width:n("Width",e,t,i)}}function v(t){return A({},t,{right:t.left+t.width,bottom:t.top+t.height})}function _(t){var e={};try{u(10)?(e=t.getBoundingClientRect(),i=m(t,"top"),n=m(t,"left"),e.top+=i,e.left+=n,e.bottom+=i,e.right+=n):e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},n="HTML"===t.nodeName?g(t.ownerDocument):{},e=n.width||t.clientWidth||i.width,n=n.height||t.clientHeight||i.height,e=t.offsetWidth-e,n=t.offsetHeight-n;return(e||n)&&(e-=s(t=d(t),"x"),n-=s(t,"y"),i.width-=e,i.height-=n),v(i)}function y(t,e,i){var i=2<arguments.length&&void 0!==i&&i,n=u(10),s="HTML"===e.nodeName,o=_(t),a=_(e),t=h(t),r=d(e),l=parseFloat(r.borderTopWidth),c=parseFloat(r.borderLeftWidth),a=(i&&s&&(a.top=M(a.top,0),a.left=M(a.left,0)),v({top:o.top-a.top-l,left:o.left-a.left-c,width:o.width,height:o.height}));return a.marginTop=0,a.marginLeft=0,!n&&s&&(o=parseFloat(r.marginTop),s=parseFloat(r.marginLeft),a.top-=l-o,a.bottom-=l-o,a.left-=c-s,a.right-=c-s,a.marginTop=o,a.marginLeft=s),a=(n&&!i?e.contains(t):e===t&&"BODY"!==t.nodeName)?function(t,e,i){var i=2<arguments.length&&void 0!==i&&i,n=m(e,"top"),e=m(e,"left"),i=i?-1:1;return t.top+=n*i,t.bottom+=n*i,t.left+=e*i,t.right+=e*i,t}(a,e):a}function b(t){if(!t||!t.parentElement||u())return document.documentElement;for(var e=t.parentElement;e&&"none"===d(e,"transform");)e=e.parentElement;return e||document.documentElement}function k(t,e,i,n,s){var o,s=4<arguments.length&&void 0!==s&&s,a={top:0,left:0},r=s?b(t):f(t,c(e)),r=("viewport"===n?a=function(t,e){var e=1<arguments.length&&void 0!==e&&e,i=t.ownerDocument.documentElement,t=y(t,i),n=M(i.clientWidth,window.innerWidth||0),s=M(i.clientHeight,window.innerHeight||0),o=e?0:m(i),e=e?0:m(i,"left");return v({top:o-t.top+t.marginTop,left:e-t.left+t.marginLeft,width:n,height:s})}(r,s):("scrollParent"===n?"BODY"===(o=h(l(e))).nodeName&&(o=t.ownerDocument.documentElement):o="window"===n?t.ownerDocument.documentElement:n,e=y(o,r,s),"HTML"!==o.nodeName||function t(e){var i=e.nodeName;return"BODY"!==i&&"HTML"!==i&&("fixed"===d(e,"position")||!!(i=l(e))&&t(i))}(r)?a=e:(s=(n=g(t.ownerDocument)).height,o=n.width,a.top+=e.top-e.marginTop,a.bottom=s+e.top,a.left+=e.left-e.marginLeft,a.right=o+e.left)),"number"==typeof(i=i||0));return a.left+=r?i:i.left||0,a.top+=r?i:i.top||0,a.right-=r?i:i.right||0,a.bottom-=r?i:i.bottom||0,a}function r(t,e,i,n,s,o){var a,o=5<arguments.length&&void 0!==o?o:0;return-1===t.indexOf("auto")?t:(n=k(i,n,o,s),a={top:{width:n.width,height:e.top-n.top},right:{width:n.right-e.right,height:n.height},bottom:{width:n.width,height:n.bottom-e.bottom},left:{width:e.left-n.left,height:n.height}},(0<(s=(o=Object.keys(a).map(function(t){return A({key:t},a[t],{area:(t=a[t]).width*t.height})}).sort(function(t,e){return e.area-t.area})).filter(function(t){var e=t.width,t=t.height;return e>=i.clientWidth&&t>=i.clientHeight})).length?s:o)[0].key+((e=t.split("-")[1])?"-"+e:""))}function w(t,e,i,n){n=3<arguments.length&&void 0!==n?n:null;return y(i,n?b(e):f(e,c(i)),n)}function x(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),i=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),e=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+e,height:t.offsetHeight+i}}function S(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function E(t,e,i){i=i.split("-")[0];var t=x(t),n={width:t.width,height:t.height},s=-1!==["right","left"].indexOf(i),o=s?"top":"left",a=s?"left":"top",r=s?"height":"width",s=s?"width":"height";return n[o]=e[o]+e[r]/2-t[r]/2,n[a]=i===a?e[a]-t[s]:e[S(a)],n}function T(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function C(t,i,e){var n,s;return(void 0===e?t:t.slice(0,(t=t,n="name",s=e,Array.prototype.findIndex?t.findIndex(function(t){return t[n]===s}):(e=T(t,function(t){return t[n]===s}),t.indexOf(e))))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var e=t.function||t.fn;t.enabled&&a(e)&&(i.offsets.popper=v(i.offsets.popper),i.offsets.reference=v(i.offsets.reference),i=e(i,t))}),i}function e(t,i){return t.some(function(t){var e=t.name;return t.enabled&&e===i})}function D(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var s=e[n],s=s?""+s+i:t;if(void 0!==document.body.style[s])return s}return null}function j(t){t=t.ownerDocument;return t?t.defaultView:window}function R(t,e,i,n){i.updateBound=n,j(t).addEventListener("resize",i.updateBound,{passive:!0});n=h(t);return function t(e,i,n,s){var o="BODY"===e.nodeName,e=o?e.ownerDocument.defaultView:e;e.addEventListener(i,n,{passive:!0}),o||t(h(e.parentNode),i,n,s),s.push(e)}(n,"scroll",i.updateBound,i.scrollParents),i.scrollElement=n,i.eventsEnabled=!0,i}function F(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,j(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function O(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function $(i,n){Object.keys(n).forEach(function(t){var e="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&O(n[t])&&(e="px"),i.style[t]=n[t]+e})}function H(t,e){function i(t){return t}var n=t.offsets,s=n.popper,n=n.reference,o=G,n=o(n.width),a=o(s.width),r=-1!==["left","right"].indexOf(t.placement),t=-1!==t.placement.indexOf("-"),r=e?r||t||n%2==a%2?o:P:i,o=e?o:i;return{left:r(1==n%2&&1==a%2&&!t&&e?s.left-1:s.left),top:o(s.top),bottom:o(s.bottom),right:r(s.right)}}function B(t,e,i){var n,s=T(t,function(t){return t.name===e}),t=!!s&&t.some(function(t){return t.name===i&&t.enabled&&t.order<s.order});return t||(n="`"+e+"`",console.warn("`"+i+"` modifier is required by "+n+" modifier in order to work, be sure to include it before "+n+"!")),t}function U(t,e){e=1<arguments.length&&void 0!==e&&e,t=L.indexOf(t),t=L.slice(t+1).concat(L.slice(0,t));return e?t.reverse():t}function V(t,r,l,e){var s=[0,0],n=-1!==["right","left"].indexOf(e),e=t.split(/(\+|\-)/).map(function(t){return t.trim()}),t=e.indexOf(T(e,function(t){return-1!==t.search(/,|\s/)})),i=(e[t]&&-1===e[t].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."),/\s*,\s*|\s+/);return(-1===t?[e]:[e.slice(0,t).concat([e[t].split(i)[0]]),[e[t].split(i)[1]].concat(e.slice(t+1))]).map(function(t,e){var a=(1===e?!n:n)?"height":"width",i=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,i=!0,t):i?(t[t.length-1]+=e,i=!1,t):t.concat(e)},[]).map(function(t){return e=a,i=r,n=l,s=+(o=(t=t).match(/((?:\-|\+)?\d*\.?\d*)(.*)/))[1],o=o[2],s?0===o.indexOf("%")?v("%p"===o?i:n)[e]/100*s:"vh"===o||"vw"===o?("vh"===o?M(document.documentElement.clientHeight,window.innerHeight||0):M(document.documentElement.clientWidth,window.innerWidth||0))/100*s:s:t;var e,i,n,s,o})}).forEach(function(i,n){i.forEach(function(t,e){O(t)&&(s[n]+=t*("-"===i[e-1]?-1:1))})}),s}function I(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var z=Math.min,P=Math.floor,G=Math.round,M=Math.max,i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,W=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(i&&0<=navigator.userAgent.indexOf(t[e]))return 1;return 0}(),q=i&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},W))}},K=i&&!(!window.MSInputMethodContext||!document.documentMode),Y=i&&/MSIE 10/.test(navigator.userAgent),t=function(t,e,i){return e&&et(t.prototype,e),i&&et(t,i),t},A=Object.assign||function(t){for(var e,i=1;i<arguments.length;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Q=i&&/Firefox/i.test(navigator.userAgent),Z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],L=Z.slice(3),X="flip",J="clockwise",tt="counterclockwise",t=(t(N,[{key:"update",value:function(){return function(){var t;this.state.isDestroyed||((t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=w(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=r(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=E(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=C(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,e(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[D("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=R(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return F.call(this)}}]),N);function N(t,e){var i=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},s=this,o=N;if(!(s instanceof o))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=q(this.update.bind(this)),this.options=A({},N.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(A({},N.Defaults.modifiers,n.modifiers)).forEach(function(t){i.options.modifiers[t]=A({},N.Defaults.modifiers[t]||{},n.modifiers?n.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return A({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}function et(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return t.Utils=("undefined"==typeof window?global:window).PopperUtils,t.placements=Z,t.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e,i,n,s=t.placement,o=s.split("-")[0],s=s.split("-")[1];return s&&(e=(i=t.offsets).reference,i=i.popper,n=(o=-1!==["bottom","top"].indexOf(o))?"width":"height",o={start:I({},o=o?"left":"top",e[o]),end:I({},o,e[o]+e[n]-i[n])},t.offsets.popper=A({},i,o[s])),t}},offset:{order:200,enabled:!0,fn:function(t,e){var e=e.offset,i=t.placement,n=(s=t.offsets).popper,s=s.reference,i=i.split("-")[0],e=O(+e)?[+e,0]:V(e,n,s,i);return"left"===i?(n.top+=e[0],n.left-=e[1]):"right"===i?(n.top+=e[0],n.left+=e[1]):"top"===i?(n.left+=e[0],n.top-=e[1]):"bottom"===i&&(n.left+=e[0],n.top+=e[1]),t.popper=n,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,n){var e=n.boundariesElement||p(t.instance.popper),i=(t.instance.reference===e&&(e=p(e)),D("transform")),s=t.instance.popper.style,o=s.top,a=s.left,r=s[i],l=(s.top="",s.left="",s[i]="",k(t.instance.popper,t.instance.reference,n.padding,e,t.positionFixed)),e=(s.top=o,s.left=a,s[i]=r,n.boundaries=l,n.priority),c=t.offsets.popper,h={primary:function(t){var e=c[t];return c[t]<l[t]&&!n.escapeWithReference&&(e=M(c[t],l[t])),I({},t,e)},secondary:function(t){var e="right"===t?"left":"top",i=c[e];return c[t]>l[t]&&!n.escapeWithReference&&(i=z(c[e],l[t]-("right"===t?c.width:c.height))),I({},e,i)}};return e.forEach(function(t){var e=-1===["left","top"].indexOf(t)?"secondary":"primary";c=A({},c,h[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,e=e.reference,n=t.placement.split("-")[0],s=P,n=-1!==["top","bottom"].indexOf(n),o=n?"right":"bottom",a=n?"left":"top",n=n?"width":"height";return i[o]<s(e[a])&&(t.offsets.popper[a]=s(e[a])-i[n]),i[a]>s(e[o])&&(t.offsets.popper[a]=s(e[o])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){if(B(t.instance.modifiers,"arrow","keepTogether")){e=e.element;if("string"==typeof e){if(!(e=t.instance.popper.querySelector(e)))return t}else if(!t.instance.popper.contains(e))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],n=t.offsets,s=n.popper,n=n.reference,i=-1!==["left","right"].indexOf(i),o=i?"height":"width",a=i?"Top":"Left",r=a.toLowerCase(),l=i?"left":"top",i=i?"bottom":"right",c=x(e)[o],i=(n[i]-c<s[r]&&(t.offsets.popper[r]-=s[r]-(n[i]-c)),n[r]+c>s[i]&&(t.offsets.popper[r]+=n[r]+c-s[i]),t.offsets.popper=v(t.offsets.popper),n[r]+n[o]/2-c/2),n=d(t.instance.popper),h=parseFloat(n["margin"+a]),n=parseFloat(n["border"+a+"Width"]),a=i-t.offsets.popper[r]-h-n,a=M(z(s[o]-c,a),0);t.arrowElement=e,t.offsets.arrow=(I(i={},r,G(a)),I(i,l,""),i)}return t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(c,h){if(!(e(c.instance.modifiers,"inner")||c.flipped&&c.placement===c.originalPlacement)){var d=k(c.instance.popper,c.instance.reference,h.padding,h.boundariesElement,c.positionFixed),u=c.placement.split("-")[0],p=S(u),f=c.placement.split("-")[1]||"",m=[];switch(h.behavior){case X:m=[u,p];break;case J:m=U(u);break;case tt:m=U(u,!0);break;default:m=h.behavior}m.forEach(function(t,e){if(u!==t||m.length===e+1)return c;u=c.placement.split("-")[0],p=S(u);var t=c.offsets.popper,i=c.offsets.reference,n=P,i="left"===u&&n(t.right)>n(i.left)||"right"===u&&n(t.left)<n(i.right)||"top"===u&&n(t.bottom)>n(i.top)||"bottom"===u&&n(t.top)<n(i.bottom),s=n(t.left)<n(d.left),o=n(t.right)>n(d.right),a=n(t.top)<n(d.top),t=n(t.bottom)>n(d.bottom),n="left"===u&&s||"right"===u&&o||"top"===u&&a||"bottom"===u&&t,r=-1!==["top","bottom"].indexOf(u),l=!!h.flipVariations&&(r&&"start"===f&&s||r&&"end"===f&&o||!r&&"start"===f&&a||!r&&"end"===f&&t),o=!!h.flipVariationsByContent&&(r&&"start"===f&&o||r&&"end"===f&&s||!r&&"start"===f&&t||!r&&"end"===f&&a),s=l||o;(i||n||s)&&(c.flipped=!0,(i||n)&&(u=m[e+1]),s&&(f="end"===(t=f)?"start":"start"===t?"end":t),c.placement=u+(f?"-"+f:""),c.offsets.popper=A({},c.offsets.popper,E(c.instance.popper,c.offsets.reference,c.placement)),c=C(c.instance.modifiers,c,"flip"))})}return c},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,s=n.popper,n=n.reference,o=-1!==["left","right"].indexOf(i),a=-1===["top","left"].indexOf(i);return s[o?"left":"top"]=n[i]-(a?s[o?"width":"height"]:0),t.placement=S(e),t.offsets.popper=v(s),t}},hide:{order:800,enabled:!0,fn:function(t){if(B(t.instance.modifiers,"hide","preventOverflow")){var e=t.offsets.reference,i=T(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,n=e.y,s=t.offsets.popper,o=T(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var e=void 0===o?e.gpuAcceleration:o,o=p(t.instance.popper),a=_(o),s={position:s.position},r=H(t,window.devicePixelRatio<2||!Q),i="bottom"===i?"top":"bottom",n="right"===n?"left":"right",l=D("transform"),c="bottom"==i?"HTML"===o.nodeName?-o.clientHeight+r.bottom:-a.height+r.bottom:r.top,o="right"==n?"HTML"===o.nodeName?-o.clientWidth+r.right:-a.width+r.right:r.left,r=(e&&l?(s[l]="translate3d("+o+"px, "+c+"px, 0)",s[i]=0,s[n]=0,s.willChange="transform"):(a="right"==n?-1:1,s[i]=c*("bottom"==i?-1:1),s[n]=o*a,s.willChange=i+", "+n),{"x-placement":t.placement});return t.attributes=A({},r,t.attributes),t.styles=A({},s,t.styles),t.arrowStyles=A({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return $(t.instance.popper,t.styles),e=t.instance.popper,i=t.attributes,Object.keys(i).forEach(function(t){!1===i[t]?e.removeAttribute(t):e.setAttribute(t,i[t])}),t.arrowElement&&Object.keys(t.arrowStyles).length&&$(t.arrowElement,t.arrowStyles),t;var e,i},onLoad:function(t,e,i,n,s){s=w(s,e,t,i.positionFixed),s=r(i.placement,s,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",s),$(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},t}),!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=e(require("../../scripts/jquery"),window.Popper,require("../bootstrap/utils")):"function"==typeof define&&define.amd?define(["jquery","popper.js","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Dropdown=e(t.jQuery,t.Popper,t.Util)}(this,function(h,s,o){"use strict";function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i,n=arguments[e];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;var r="dropdown",d="bs.dropdown",l="."+d,t=".data-api",e=h.fn[r],u=new RegExp("38|40|27"),p="hide"+l,f="hidden"+l,i="click"+l+t,t="keydown"+l+t,m="disabled",g="show",v="dropdown-menu-right",_='[data-toggle="dropdown"]',y=".dropdown-menu",b={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},k={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},c=function(){function c(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t,e,i=c.prototype;return i.toggle=function(){var t;this._element.disabled||h(this._element).hasClass(m)||(t=h(this._menu).hasClass(g),c._clearMenus(),t)||this.show(!0)},i.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||h(this._element).hasClass(m)||h(this._menu).hasClass(g))){var e={relatedTarget:this._element},i=h.Event("show.bs.dropdown",e),n=c._getParentFromElement(this._element);if(h(n).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===s)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");i=this._element;"parent"===this._config.reference?i=n:o.isElement(this._config.reference)&&(i=this._config.reference,void 0!==this._config.reference.jquery)&&(i=this._config.reference[0]),"scrollParent"!==this._config.boundary&&h(n).addClass("position-static"),this._popper=new s(i,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===h(n).closest(".navbar-nav").length&&h(document.body).children().on("mouseover",null,h.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),h(this._menu).toggleClass(g),h(n).toggleClass(g).trigger(h.Event("shown.bs.dropdown",e))}}},i.hide=function(){var t,e,i;this._element.disabled||h(this._element).hasClass(m)||!h(this._menu).hasClass(g)||(t={relatedTarget:this._element},e=h.Event(p,t),i=c._getParentFromElement(this._element),h(i).trigger(e),e.isDefaultPrevented())||(this._popper&&this._popper.destroy(),h(this._menu).toggleClass(g),h(i).toggleClass(g).trigger(h.Event(f,t)))},i.dispose=function(){h.removeData(this._element,d),h(this._element).off(l),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var e=this;h(this._element).on("click.bs.dropdown",function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},i._getConfig=function(t){return t=n({},this.constructor.Default,h(this._element).data(),t),o.typeCheckConfig(r,t,this.constructor.DefaultType),t},i._getMenuElement=function(){var t;return this._menu||(t=c._getParentFromElement(this._element))&&(this._menu=t.querySelector(y)),this._menu},i._getPlacement=function(){var t=h(this._element.parentNode),e="bottom-start";return t.hasClass("dropup")?e=h(this._menu).hasClass(v)?"top-end":"top-start":t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":h(this._menu).hasClass(v)&&(e="bottom-end"),e},i._detectNavbar=function(){return 0<h(this._element).closest(".navbar").length},i._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=n({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),n({},t,this._config.popperConfig)},c._jQueryInterface=function(i){return this.each(function(){var t=h(this).data(d),e="object"===_typeof2(i)?i:null;if(t||(t=new c(this,e),h(this).data(d,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},c._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var e=[].slice.call(document.querySelectorAll(_)),i=0,n=e.length;i<n;i++){var s,o,a=c._getParentFromElement(e[i]),r=h(e[i]).data(d),l={relatedTarget:e[i]};t&&"click"===t.type&&(l.clickEvent=t),r&&(s=r._menu,!h(a).hasClass(g)||t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&h.contains(a,t.target)||t&&"click"===t.type&&/button/i.test(t.target.tagName)&&!/dropdown/i.test(h(t.target).attr("class"))||(o=h.Event(p,l),h(a).trigger(o),o.isDefaultPrevented())||("ontouchstart"in document.documentElement&&h(document.body).children().off("mouseover",null,h.noop),e[i].setAttribute("aria-expanded","false"),r._popper&&r._popper.destroy(),h(s).removeClass(g),h(a).removeClass(g).trigger(h.Event(f,l))))}},c._getParentFromElement=function(t){var e,i=o.getSelectorFromElement(t);return(e=i?document.querySelector(i):e)||t.parentNode},c._dataApiKeydownHandler=function(t){var e,i,n;(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||h(t.target).closest(y).length):!u.test(t.which))||this.disabled||h(this).hasClass(m)||(e=c._getParentFromElement(this),!(i=h(e).hasClass(g))&&27===t.which)||(t.preventDefault(),t.stopPropagation(),i&&27!==t.which&&32!==t.which?0!==(i=[].slice.call(e.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(t){return h(t).is(":visible")})).length&&(n=i.indexOf(t.target),38===t.which&&0<n&&n--,40===t.which&&n<i.length-1&&n++,i[n=n<0?0:n].focus()):(27===t.which&&h(e.querySelector(_)).trigger("focus"),h(this).trigger("click")))},i=c,e=[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return b}},{key:"DefaultType",get:function(){return k}}],(t=null)&&a(i.prototype,t),e&&a(i,e),c}();return h(document).on(t,_,c._dataApiKeydownHandler).on(t,y,c._dataApiKeydownHandler).on(i+" keyup.bs.dropdown.data-api",c._clearMenus).on(i,_,function(t){t.preventDefault(),t.stopPropagation(),c._jQueryInterface.call(h(this),"toggle")}).on(i,".dropdown form",function(t){t.stopPropagation()}),h.fn[r]=c._jQueryInterface,h.fn[r].Constructor=c,h.fn[r].noConflict=function(){return h.fn[r]=e,c._jQueryInterface},c}),$(document).ready(function(){$("select.select__control").each(function(t,e){initBootstrapSelect(e)})}),window.initBootstrapSelect=function(t,e){var n=$(t),t={container:"body"},t=$.extend(t,e),s=$("option:not([data-divider])",n),o=n.data("my-selected-text-format")||n.data("selected-text-format")||t.selectedTextFormat,a=n.data("selected-divider")||t.selectedDivider,i=-1,r="";function l(){return(this.title||this.header)+" ("+arguments[0]+")"}function c(){return(this.title||this.header)+" ("+arguments[0]+")"}function h(){return r+" ("+arguments[0]+")"}function d(){var t=n.val();-1===t.indexOf(i)&&(i=t[0],r=n.find("[value="+t[0]+"]").text())}function u(){var i=n.val(),t=s.clone();t.each(function(){var t=$(this),e=-1<i.indexOf($(t).attr("value"));t=t,e?$(t).attr("selected",!0):$(t).removeAttr("selected")}),t.sort(function(t,e){t=-1<i.indexOf($(t).attr("value"));return(-1<i.indexOf($(e).attr("value")))-t}),n.empty(),n.append(t),a&&i.length&&$(t[i.length-1]).after('<option data-divider="true"></option>')}new MutationObserver(function(t){_.each(t,function(t){var e;t.addedNodes&&t.addedNodes.length&&(t=$(t.addedNodes[0])).hasClass("bootstrap-select")&&t.hasClass("dropdown")&&(e=t.css("width"))&&t.css("min-width",e)})}).observe($("body").get(0),{childList:!0}),-1<["title:label","title:count","title:num"].indexOf(o)&&(s.each(function(t,e){var i=function(t,e){switch(t){case"title:label":return(n.attr("title")||n.data("header"))+": "+e.innerText.trim();case"title:count":return(n.attr("title")||n.data("header"))+" (1)";case"title:num":return(n.attr("title")||n.data("header"))+": "+e.innerText.trim();default:return!1}}(o,e);i&&$(e).attr("title",i)}),n.removeAttr("data-selected-text-format"),n.attr("data-my-selected-text-format",o)),"title:count"===o&&(n.attr("data-selected-text-format","count"),t.countSelectedText=l),"title:num"===o&&(n.attr("data-selected-text-format","count"),t.countSelectedText=c),"label:count"===o&&(n.data("selected-text-format","count"),n.on("change",function(){d()}),d(),t.countSelectedText=h),n.attr("multiple")&&(n.on("hidden.bs.select",function(){n.data("AddBootstrapSelect")||(u(),n.selectpicker("refresh"))}),n.data("AddBootstrapSelect")||u()),n.data("selectpicker")&&n.selectpicker("destroy"),n.selectpicker(t)},$(function(){var e=document.querySelector(".sidebar-menu"),i="sidebar-menu_open";e.addEventListener("click",function(t){t=t.target;t.classList.contains("sidebar-menu__preview")&&t.parentNode.classList.contains(i)?e.classList.remove(i):e.classList.add(i)})}),!function(c,a){function i(t){t=c(t),this.$element=t,this.selector=null,this._isExpanded=!t.hasClass(l),(this._isExpanded?this.$element.removeClass(l):this.$element.addClass(l)).attr("aria-expanded",this._isExpanded),this._targetsList=this.getTargets()}function n(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(t[e]);return i}var t=".spoiler",s="spoilerInstance",h={top:"iblock:top",down:"iblock:down"},r={SHOW:"show"+t,SHOWN:"shown"+t,HIDE:"hide"+t,HIDDEN:"hidden"+t},o="spoiler__control",l="spoiler_closed",d="spoiler",u="spoiler_animated",p="spoiler_active";i.prototype.toggle=function(){this._isExpanded?this.hide():this.show()},i.prototype.show=function(){var n=this.$element,s=0,o=this._targetsList.length,t=c.Event(r.SHOW);this._isExpanded=!0,this._addAriaAndCollapsedClass(n,this._isExpanded),n.trigger(t),t.isDefaultPrevented()||this._targetsList.each(function(t,e){var i=c(e),e=a.getTransitionDurationFromElement(i);i.addClass(d).addClass(u),c(i).one(a.TRANSITION_END,function(){i.removeClass(u).addClass(p),o<=++s&&n.trigger(r.SHOWN)}).emulateTransitionEnd(e)})},i.prototype.hide=function(){var n=this.$element,s=0,o=this._targetsList.length,t=c.Event(r.HIDE);this._isExpanded=!1,this._addAriaAndCollapsedClass(this.$element,this._isExpanded),n.trigger(t),t.isDefaultPrevented()||this._targetsList.each(function(t,e){var i=c(e),e=a.getTransitionDurationFromElement(i);i.removeClass(p).addClass(d).addClass(u),c(i).one(a.TRANSITION_END,function(){i.removeClass(u),o<=++s&&n.trigger(r.SHOWN)}).emulateTransitionEnd(e)})},i.prototype.getTargets=function(){var t,e=this._targetsList;return e||(t=this.selector||this._getSelectorFromElement(this.$element.get(0)),e=-1<n(h).indexOf(t)?this._findNextIBlock(t):c(t)),e},i.prototype._getSelectorFromElement=function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=(t=t.getAttribute("href"))&&"#"!==t?t.trim():"");try{return-1<n(h).indexOf(e)||document.querySelector(e)?e:null}catch(t){return null}},i.prototype._findNextIBlock=function(t){var e,i=t===h.top?-1:1,n=this.$element.closest("[data-uid]").data("uid"),s=this.$element.closest(".container"),o=!!s.length,a=c("div[data-uid]:not(div.ib-container div[data-uid])",o?s:c("body"));if(a.length){for(var r=0,l=a.length;r<l;r++)if(c(a.get(r)).data("uid")===n){e=r;break}if(a[e+i])return c(a[e+i]);console.log("Не найден инфоблок по селектору",t,a)}return[]},i.prototype._addAriaAndCollapsedClass=function(t,e){var i=t.data("name");i&&(t.data("name",t.text()),t.text(i)),t.toggleClass(l,!e).attr("aria-expanded",e)},c(document).on("click",function(t){var e=c(t.target);e.hasClass(o)&&("A"===t.target.tagName&&t.preventDefault(),(t=e.data(s))||(t=new i(e),e.data(s,t)),t.toggle())})}($,Util),!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Tab=e(t.jQuery,t.Util)}(window,function(r,l){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l;var o="bs.tab",t=r.fn.tab,e="click.bs.tab.data-api",a=".tabs__preview",c="tabs_active",h=".tabs__list, .tabs_radio",d=".tabs_active",u="> li > .tabs_active",i=function(){function n(t){this._element=t}var t,e,i=n.prototype;return i.set=function(){var t,e=this._element;r(e).hasClass(c)&&(t=r(e).text())&&r(e).closest(h).prev(a).text(t)},i.preview=function(){var t=this._element;r(t).parent(".tabs").toggleClass("tabs_open")},i.show=function(){var t,e,i,n,s,o,a=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&r(this._element).hasClass(c)||r(this._element).hasClass("disabled")||(e=r(this._element).closest(h)[0],i=l.getSelectorFromElement(this._element),e&&(s="UL"===e.nodeName||"OL"===e.nodeName?u:d,n=(n=r.makeArray(r(e).find(s)))[n.length-1]),s=r.Event("hide.bs.tab",{relatedTarget:this._element}),o=r.Event("show.bs.tab",{relatedTarget:n}),n&&r(n).trigger(s),r(this._element).trigger(o),o.isDefaultPrevented())||s.isDefaultPrevented()||(i&&(t=document.querySelector(i)),this._activate(this._element,e),o=function(){var t=r.Event("hidden.bs.tab",{relatedTarget:a._element}),e=r.Event("shown.bs.tab",{relatedTarget:n});r(n).trigger(t),r(a._element).trigger(e)},t?this._activate(t,t.parentNode,o):o())},i.dispose=function(){r.removeData(this._element,o),this._element=null},i._activate=function(t,e,i){function n(){return s._transitionComplete(t,o,i)}var s=this,o=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?r(e).children(d):r(e).find(u))[0],e=i&&o&&r(o).hasClass("fade");o&&e?(e=l.getTransitionDurationFromElement(o),r(o).removeClass("show").one(l.TRANSITION_END,n).emulateTransitionEnd(e)):n()},i._transitionComplete=function(t,e,i){var n;e&&(r(e).removeClass(c),(n=r(e.parentNode).find("> .dropdown-menu .tabs_active")[0])&&r(n).removeClass(c),"tab"===e.getAttribute("role"))&&e.setAttribute("aria-selected",!1),r(t).addClass(c),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),l.reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&r(t.parentNode).hasClass("dropdown-menu")&&((n=r(t).closest(".dropdown")[0])&&(e=[].slice.call(n.querySelectorAll(".dropdown-toggle")),r(e).addClass(c)),t.setAttribute("aria-expanded",!0)),i&&i()},n._jQueryInterface=function(){var i=[].slice.call(arguments);return this.each(function(){var t=r(this),e=t.data(o);if(e||(e=new n(this),t.data(o,e)),"string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}else"[object Array]"===Object.prototype.toString.call(i)&&i.forEach(function(t){e[t]()})})},i=n,e=[{key:"VERSION",get:function(){return"4.5.2"}}],(t=null)&&s(i.prototype,t),e&&s(i,e),n}();return r(document).on(e,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault(),i._jQueryInterface.apply(r(this),["show","set"])}),r(document).on(e,a,function(t){t.preventDefault(),i._jQueryInterface.apply(r(this),["preview"])}),r.fn.tab=i._jQueryInterface,r.fn.tab.Constructor=i,r.fn.tab.noConflict=function(){return r.fn.tab=t,i._jQueryInterface},i}),!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("popper.js"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js","./util"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Tooltip=e(t.jQuery,t.Popper,t.Util)}(this,function(t,e,i){"use strict";function n(t){return t&&"object"===_typeof2(t)&&"default"in t?t:{default:t}}var o=n(t),a=n(e),r=n(i);function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i,n=arguments[e];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var h=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],t={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i,/^data-[\w-]*$/i],a:["target","href","title","rel"],button:["type","title"],svg:["class"],use:["href","xlink:href"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},d=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,u=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function p(t,o,e){if(0===t.length)return t;if(e&&"function"==typeof e)return e(t);for(var e=(new window.DOMParser).parseFromString(t,"text/html"),a=Object.keys(o),r=[].slice.call(e.body.querySelectorAll("*")),i=function(t,e){var i=r[t],t=i.nodeName.toLowerCase();if(-1===a.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var n=[].slice.call(i.attributes),s=[].concat(o["*"]||[],o[t]||[]);n.forEach(function(t){!function(t,e){var i=t.nodeName.toLowerCase();if(-1!==e.indexOf(i))return-1===h.indexOf(i)||Boolean(t.nodeValue.match(d)||t.nodeValue.match(u));for(var n=e.filter(function(t){return t instanceof RegExp}),s=0,o=n.length;s<o;s++)if(i.match(n[s]))return 1}(t,s)&&i.removeAttribute(t.nodeName)})},n=0,s=r.length;n<s;n++)i(n);return e.body.innerHTML}var f="tooltip",m="bs.tooltip",g="."+m,s=o.default.fn[f],v="bs-tooltip",_=new RegExp("(^|\\s)"+v+"\\S+","g"),y=["sanitize","whiteList","sanitizeFn"],b={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},k={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},w={animation:!0,template:'<div class="tooltip tooltip_toggle" role="tooltip"><div class="tooltip__arrow arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:t,popperConfig:null},x="show",S={HIDE:"hide"+g,HIDDEN:"hidden"+g,SHOW:"show"+g,SHOWN:"shown"+g,INSERTED:"inserted"+g,CLICK:"click"+g,FOCUSIN:"focusin"+g,FOCUSOUT:"focusout"+g,MOUSEENTER:"mouseenter"+g,MOUSELEAVE:"mouseleave"+g},E="fade",T="show",C="hover",D=function(){function s(t,e){if(void 0===a.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var t,e,i=s.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){var e,i;this._isEnabled&&(t?(e=this.constructor.DATA_KEY,(i=o.default(t.currentTarget).data(e))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),o.default(t.currentTarget).data(e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)):o.default(this.getTipElement()).hasClass(T)?this._leave(null,this):this._enter(null,this))},i.dispose=function(){clearTimeout(this._timeout),o.default.removeData(this.element,this.constructor.DATA_KEY),o.default(this.element).off(this.constructor.EVENT_KEY),o.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&o.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var e=this;if("none"===o.default(this.element).css("display"))throw new Error("Please use show on visible elements");var t,i,n=o.default.Event(this.constructor.Event.SHOW);this.isWithContent()&&this._isEnabled&&(o.default(this.element).trigger(n),i=r.default.findShadowRoot(this.element),i=o.default.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element),!n.isDefaultPrevented())&&i&&(n=this.getTipElement(),i=r.default.getUID(this.constructor.NAME),n.setAttribute("id",i),this.element.setAttribute("aria-describedby",i),this.setContent(),this.config.animation&&o.default(n).addClass(E),i="function"==typeof this.config.placement?this.config.placement.call(this,n,this.element):this.config.placement,i=this._getAttachment(i),this.addAttachmentClass(i),t=this._getContainer(),o.default(n).data(this.constructor.DATA_KEY,this),o.default.contains(this.element.ownerDocument.documentElement,this.tip)||o.default(n).appendTo(t),o.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new a.default(this.element,n,this._getPopperConfig(i)),o.default(n).addClass(T),o.default(n).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&o.default(document.body).children().on("mouseover",null,o.default.noop),t=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,o.default(e.element).trigger(e.constructor.Event.SHOWN),"out"===t&&e._leave(null,e)},o.default(this.tip).hasClass(E)?(i=r.default.getTransitionDurationFromElement(this.tip),o.default(this.tip).one(r.default.TRANSITION_END,t).emulateTransitionEnd(i)):t())},i.hide=function(t){function e(){i._hoverState!==x&&n.parentNode&&n.parentNode.removeChild(n),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),o.default(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),t&&t()}var i=this,n=this.getTipElement(),s=o.default.Event(this.constructor.Event.HIDE);o.default(this.element).trigger(s),s.isDefaultPrevented()||(o.default(n).removeClass(T),"ontouchstart"in document.documentElement&&o.default(document.body).children().off("mouseover",null,o.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger[C]=!1,o.default(this.tip).hasClass(E)?(s=r.default.getTransitionDurationFromElement(n),o.default(n).one(r.default.TRANSITION_END,e).emulateTransitionEnd(s)):e(),this._hoverState="")},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){o.default(this.getTipElement()).addClass(v+"-"+t)},i.getTipElement=function(){return this.tip=this.tip||o.default(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(o.default(t.querySelectorAll(".tooltip-inner")),this.getTitle()),o.default(t).removeClass("fade show")},i.setElementContent=function(t,e){"object"===_typeof2(e)&&(e.nodeType||e.jquery)?this.config.html?o.default(e).parent().is(t)||t.empty().append(e):t.text(o.default(e).text()):this.config.html?(this.config.sanitize&&(e=p(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e)},i.getTitle=function(){return this.element.getAttribute("data-original-title")||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},i._getPopperConfig=function(t){var e=this;return c({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},i._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=c({},t.offsets,e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},i._getContainer=function(){return!1===this.config.container?document.body:r.default.isElement(this.config.container)?o.default(this.config.container):o.default(document).find(this.config.container)},i._getAttachment=function(t){return k[t.toUpperCase()]},i._setListeners=function(){var i=this;this.config.trigger.split(" ").forEach(function(t){var e;"click"===t?o.default(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(t){return i.toggle(t)}):"manual"!==t&&(e=t===C?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN,t=t===C?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT,o.default(i.element).on(e,i.config.selector,function(t){return i._enter(t)}).on(t,i.config.selector,function(t){return i._leave(t)}))}),this._hideModalHandler=function(){i.element&&i.hide()},o.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=c({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=_typeof2(this.element.getAttribute("data-original-title"));!this.element.getAttribute("title")&&"string"===t||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,e){var i=this.constructor.DATA_KEY;(e=e||o.default(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),o.default(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusin"===t.type?"focus":C]=!0),o.default(e.getTipElement()).hasClass(T)||e._hoverState===x?e._hoverState=x:(clearTimeout(e._timeout),e._hoverState=x,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===x&&e.show()},e.config.delay.show):e.show())},i._leave=function(t,e){var i=this.constructor.DATA_KEY;(e=e||o.default(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),o.default(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusout"===t.type?"focus":C]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){"out"===e._hoverState&&e.hide()},e.config.delay.hide):e.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var e=o.default(this.element).data();return Object.keys(e).forEach(function(t){-1!==y.indexOf(t)&&delete e[t]}),"number"==typeof(t=c({},this.constructor.Default,e,"object"===_typeof2(t)&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),r.default.typeCheckConfig(f,t,this.constructor.DefaultType),t.sanitize&&(t.template=p(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=o.default(this.getTipElement()),e=t.attr("class").match(_);null!==e&&e.length&&t.removeClass(e.join(""))},i._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(o.default(t).removeClass(E),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},s._jQueryInterface=function(n){return this.each(function(){var t=o.default(this),e=t.data(m),i="object"===_typeof2(n)&&n;if((e||!/dispose|hide/.test(n))&&(e||(e=new s(this,i),t.data(m,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},i=s,e=[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return w}},{key:"NAME",get:function(){return f}},{key:"DATA_KEY",get:function(){return m}},{key:"Event",get:function(){return S}},{key:"EVENT_KEY",get:function(){return g}},{key:"DefaultType",get:function(){return b}}],(t=null)&&l(i.prototype,t),e&&l(i,e),s}();return o.default.fn[f]=D._jQueryInterface,o.default.fn[f].Constructor=D,o.default.fn[f].noConflict=function(){return o.default.fn[f]=s,D._jQueryInterface},D}),jQuery(function(){function s(t,e,i){var n,s;t.is("[data-tooltip]")&&!t.data("bs.tooltip")&&(n={offset:"0, 7px",title:t.data("tooltip"),html:!0,customClass:"tooltip_theme-".concat(t.data("tooltip-theme")||"default")},s=!0,t.is("[data-tooltip-toggle]")&&(n.trigger="click",t.removeProp("data-tooltip-toggle"),s=!1,t.on("show.bs.tooltip",function(){var t=$(this),e=setInterval(function(){return t.tooltip("hide")},5e3);t.data("bft.tooltip.timer",e)}),t.on("hide.bs.tooltip",function(){var t=$(this);clearInterval(t.data("bft.tooltip.timer"))})),i&&(n.trigger="manual"),t.is("[data-placement]")||(n.placement="auto"),t.tooltip(n),s||e)&&t.tooltip("show")}document.querySelector("body").addEventListener("mouseenter",function(t){s($(t.target))},!0),window.uiToolTipShow=function(t,e,i){var n=$(t);i=_.isUndefined(i)?5e3:i,_.isUndefined(e)||n.attr("data-tooltip",e),s(n,!1,!0),n.tooltip("show"),setTimeout(function(){n.tooltip("hide")},i)}});try{!function(){var i={target:null,menubar:!1,toolbar:"bold bullist undo redo",plugins:"lists paste",paste_block_drop:!0,icons:"custom",paste_data_images:!1,paste_enable_default_filters:!1,paste_word_valid_elements:"b,strong,ul,li,p",valid_elements:"p,b,strong,ul,li",branding:!1,elementpath:!1,setup:function(t){t.on("change",function(){tinymce.triggerSave(),$(t.getElement()).trigger("change")})}};function s(){try{return window.self!==window.top}catch(t){return 1}}function e(){var t=$.Deferred(),e="/tinymce/tinymce.min.js",i="",n="",i=s()||-1<window.location.host.indexOf("localhost")||-1<window.location.host.indexOf("127.0.0.1")?(n="http://".concat(s()?"localhost:3000":window.location.host,"/scripts").concat(e),"//".concat(s()?"localhost:3000":window.location.host,"/scripts/tinymce")):(n="".concat(window.location.protocol,"//").concat(window.location.host,"/assets/redesign-theme/scripts").concat(e),"".concat(window.location.protocol,"//").concat(window.location.host,"/assets/redesign-theme/scripts/tinymce"));return _.has(window,"tinymce")&&_.isFunction(window.tinymce.init)?(window.tinymce.dom.Event.domLoaded=!0,window.tinymce.baseURL=i,t.resolve()):($.getScript(n).done(function(){window.tinymce.dom.Event.domLoaded=!0,window.tinymce.baseURL=i,t.resolve()}).fail(function(){t.reject("Ошибка подключения ресурсов tinymce")}),t.promise())}$(document).ready(function(){e().done(function(){$("[data-wysiwyg]").each(function(t,e){tinymce.init(_objectSpread2(_objectSpread2({},i),{},{readonly:e.hasAttribute("disabled")?1:0,target:e}))})})}),window.initWYSIWYG=function(t){e().done(function(){t.each(function(t,e){tinymce.init(_objectSpread2(_objectSpread2({},i),{},{readonly:e.hasAttribute("disabled")?1:0,target:e}))})}).fail(function(t){console.log("error:",t)})}}()}catch(e){console.log(e)}function uikitChangeTheme(e){var i,n,t,s,o;e&&("false"==e?e="common":"true"==e&&(e="blind-white-small-noimage"),$("html").toggleClass("blind","common"!==e),i=document.querySelector(".blind-panel"),t=(s=(s=(n=document.head).dataset.path)&&s.split("?")).length&&s[0]||"/",s=1<s.length&&"?"+s[1]||"",(o=document.createElement("link")).rel="stylesheet",o.href=t+e+".css"+s,o.classList.add("theme-link"),o.addEventListener("load",function(){var t=n.querySelectorAll(".theme-link");1<t.length&&(t[0].parentNode.removeChild(t[0]),document.cookie="lowVisHTML="+e+"; path=/",i)&&(i.dataset.blindMode=e)}),n.appendChild(o))}function getCookie(t){t=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}$(function(){var t=getCookie("lowVisHTML"),t=Boolean(t)&&-1!==t.indexOf("blind");$("html").toggleClass("blind",t)}),$(function(){var n,s="blind-panel__sound-switcher_sound",o=new BlindTalker({autoSound:[".mega-menu__dropdown-toggle",".mega-menu__link",".mega-menu__dropdown-link",".mega-menu__list-title",".mega-menu__submenu-link",".mega-menu__list-link",".mega-menu__toggle",".footer__title",".footer__nav-title",".button","h1","h2","h3","h4","a"]}),t=document.querySelector(".blind-panel-switcher .blind-panel-switcher__button");t&&(n=document.querySelector(".blind-panel"))&&(o.isBlindMode&&!o.isSoundDisabled&&$("button[data-blind-moder='sound']").addClass(s),t.addEventListener("click",function(){var t=n.dataset.blindMode;!t||-1<t.indexOf("blind")?(uikitChangeTheme("common"),o.disableSound()):uikitChangeTheme("true")}),$(n).on("click","[data-blind-moder]",function(t){var i=t.currentTarget.dataset.blindModer,e=n.dataset.blindMode;i&&e&&(["black","white","blue"].includes(i)?e=e.split("-").map(function(t,e){return 1===e?i:t}).join("-"):["small","medium","large"].includes(i)?e=e.split("-").map(function(t,e){return 2===e?i:t}).join("-"):["image","noimage"].includes(i)?e=e.split("-").map(function(t,e){return 3===e?i:t}).join("-"):["sound"].includes(i)&&((t=$(t.currentTarget)).hasClass(s)?(t.removeClass(s),o.disableSound()):(t.addClass(s),o.enableSound())),uikitChangeTheme(e))}))}),!function(){function t(t){return this.API_KEY="307fd9d4-f5bf-4064-9a4c-587754d4e1c0",this.COOKIE_NAME="lowVisHTML",this.STORAGE_KEY="blind:talker:enable",this.NORMAL_THEME="common",this.chach={},this.lastText=null,this.immediatelyStop=!1,this.isPlaying=!1,this.isOpera=-1<navigator.userAgent.indexOf("Opera"),this.isBlindMode=!1,this.isSoundDisabled=!0,this.playerElement=null,this.playerElement=new Audio,this.playerElement.preload="metadata",this.autoSound=t.autoSound||[],this.checkIsBlindModeEnabled(),this.initHandlers(),this}t.prototype.initHandlers=function(){var t,e=this;this.autoSound.length&&(t=this.autoSound.join(", "),$(t).on("mouseenter",function(){if(!e.isBlindMode||e.isSoundDisabled)return!0;e.play($(this).attr("title")?$(this).attr("title"):$(this).text())}),$(t).on("mouseleave",function(){if(!e.isBlindMode||e.isSoundDisabled)return!0;e.stop()})),document.addEventListener("selectionchange",function(){if(!e.isBlindMode||e.isSoundDisabled)return!0;setTimeout(function(){var t=e.getSelectionText();t&&e.play(t)},2e3)})},t.prototype.checkIsBlindModeEnabled=function(){var t=this.getCookie(this.COOKIE_NAME);this.isBlindMode=t&&t!==this.NORMAL_THEME,this.isBlindMode?this.isSoundDisabled=!localStorage.getItem(this.STORAGE_KEY):localStorage.removeItem(this.STORAGE_KEY)},t.prototype.getCookie=function(t){t=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.*+?\^${}()|\[\]\/\\])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},t.prototype.disableSound=function(){this.isPlaying&&this.stop(),this.isSoundDisabled=!0,localStorage.removeItem(this.STORAGE_KEY)},t.prototype.enableSound=function(){this.isSoundDisabled=!1,this.isBlindMode=!0,localStorage.setItem(this.STORAGE_KEY,"1")},t.prototype.play=function(t,e){var i=this,n=null,s=!_.isUndefined(e)&&e;if(void 0===t||!t.length||this.immediatelyStop)return this.immediatelyStop=!1;this.isPlaying&&this.stop(),this.isPlaying=!0,this.lastText=t,this.startPlayingTimeout&&(clearTimeout(this.startPlayingTimeout),this.startPlayingTimeout=null),n=this.breakLongText(t),$(this.playerElement).off("ended").on("ended",function(){n.length?(console.log("воспроизвел звук"),s?i.loadData(n.pop()).done(function(t){i.playerElement.src=URL.createObjectURL(t),i.playerElement.play(0)}):(i.playerElement.src=n.shift(),i.playerElement.play(0))):(i.stop(),i.lastText=null)}),this.startPlayingTimeout=setTimeout(function(t){console.log("воспроизвел звук"),s?i.loadData(t).done(function(t){i.playerElement.src=URL.createObjectURL(t),i.playerElement.play(0)}):(i.playerElement.src=t,i.playerElement.play(0))},300,n.shift())},t.prototype.loadData=function(e){var i=this,n=$.Deferred();return this.chach[e]?n.resolve(this.chach[e]):($.ajax({url:e,processData:!1,xhrFields:{responseType:"arraybuffer"},success:function(t){i.chach[e]=new Blob([t]),n.resolve(new Blob([t]))}}),n.promise())},t.prototype.stop=function(){this.isPlaying=!1,clearTimeout(this.startPlayingTimeout),this.startPlayingTimeout=null,this.playerElement.pause()},t.prototype.breakLongText=function(t){var n=this;return t.split(".").map(function(t){return t.replace(/\s{2,}/gi," ").split(" ")}).reduce(function(e,t){var i="";return t.forEach(function(t){100<i.length+t.length&&(e.push(n.getQuery(i)),i=""),t.trim().length&&(i+=t+" ")}),i.length&&e.push(n.getQuery(i)),e},[])},t.prototype.getQuery=function(t){return"https://tts.voicetech.yandex.net/generate?text="+encodeURIComponent(t)+"&format="+(this.isOpera?"opus":"mp3")+"&speaker=zahar&emotion=neutral&ill=false&robot=true&lang=ru-RU&key="+this.API_KEY},t.prototype.getSelectionText=function(){var t="",e=document.activeElement,i=e?e.tagName.toLowerCase():null;return"textarea"===i||"input"===i&&/^(?:text|search|password|tel|url)$/i.test(e.type)&&"number"==typeof e.selectionStart?t=e.value.slice(e.selectionStart,e.selectionEnd):window.getSelection&&(t=window.getSelection().toString()),t},window.BlindTalker=t}(),$(function(){$('[data-name="burger-button"]').on("click",function(){$('[data-name="burger-button"]').toggleClass("burger_active")})}),$(function(){var r=document.querySelector(".main__aside-neighbour"),l=document.querySelector(".main__aside"),c=document.querySelector(".main__aside-container"),h=parseInt($(document.body).css("padding-top").split("px")[0]||0,10)+20,d=null,u=0;r&&l&&!l.classList.contains("main__aside_relative")&&c&&window.addEventListener("scroll",function(){var t,e,i,n,s=l.getBoundingClientRect(),o=r.getBoundingClientRect(),a=c.getBoundingClientRect();o.bottom>s.bottom&&(t=document.documentElement.clientHeight,e=Math.round(a.height-o.height),i=null,n="",a.height>t?(s.top<d?s.top+o.height+20<=t?(i=!1,n=-e,u=e):a.bottom+20-1<=t?(i=!0,n=t-a.height-20,u=20+s.top+a.height-t):(i=!1,n=-u):s.top<h&&a.top>=h-1?(i=!0,u=s.top-(n=h)):s.top<h?(i=!1,n=-u):u=0,d=s.top):s.top-h<=e?(i=!1,n=-e):s.top<=h&&(i=!0,n=h),c.classList.toggle("main__aside-container_sticky",!0===i),c.classList.toggle("main__aside-container_stop",!1===i),c.style.top=n+"px")},!1)}),$(function(){var t="mega-menu",e="mega-menu_opened",i="mega-menu__toggle",n="mega-menu__close",s="mega-menu__content",o="burger",a="burger_active",r="mega-menu__wrapper",l={megaMenu:".".concat(t),toggler:".".concat(i),close:".".concat(n),content:".".concat(s),mobileButton:".".concat(o),menuWrapper:".".concat(r)},c=$(l.megaMenu),t=$("".concat(l.toggler,", ").concat(l.close,", ").concat(l.mobileButton)),h=$(l.mobileButton);t.on("click",function(t){t.stopPropagation(),c.toggleClass(e)}),$("body").on("click",function(t){0===$(t.target).closest(l.content).length&&0===$(t.target).closest(l.menuWrapper).length&&c.hasClass(e)&&(c.toggleClass(e),h.toggleClass(a))})}),!function(e){"undefined"!=typeof jQuery&&jQuery||"function"!=typeof define||!define.amd?"undefined"!=typeof jQuery&&jQuery||"object"!==("undefined"==typeof exports?"undefined":_typeof2(exports))?e(jQuery,document,window,navigator):e(require("jquery"),document,window,navigator):define(["jquery"],function(t){return e(t,document,window,navigator)})}(function(a,r,l,t,c){"use strict";function e(t,e,i){this.VERSION="2.3.1",this.input=t,this.plugin_count=i,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,e=e||{},this.$cache={win:a(l),body:a(r.body),input:a(t),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var n,s,t=(i=this.$cache.input).prop("value"),o={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null};for(s in"INPUT"!==i[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",i[0]),(n={skin:i.data("skin"),type:i.data("type"),min:i.data("min"),max:i.data("max"),from:i.data("from"),to:i.data("to"),step:i.data("step"),min_interval:i.data("minInterval"),max_interval:i.data("maxInterval"),drag_interval:i.data("dragInterval"),values:i.data("values"),from_fixed:i.data("fromFixed"),from_min:i.data("fromMin"),from_max:i.data("fromMax"),from_shadow:i.data("fromShadow"),to_fixed:i.data("toFixed"),to_min:i.data("toMin"),to_max:i.data("toMax"),to_shadow:i.data("toShadow"),prettify_enabled:i.data("prettifyEnabled"),prettify_separator:i.data("prettifySeparator"),force_edges:i.data("forceEdges"),keyboard:i.data("keyboard"),grid:i.data("grid"),grid_margin:i.data("gridMargin"),grid_num:i.data("gridNum"),grid_snap:i.data("gridSnap"),hide_min_max:i.data("hideMinMax"),hide_from_to:i.data("hideFromTo"),prefix:i.data("prefix"),postfix:i.data("postfix"),max_postfix:i.data("maxPostfix"),decorate_both:i.data("decorateBoth"),values_separator:i.data("valuesSeparator"),input_values_separator:i.data("inputValuesSeparator"),disable:i.data("disable"),block:i.data("block"),extra_classes:i.data("extraClasses")}).values=n.values&&n.values.split(","),n)!n.hasOwnProperty(s)||n[s]!==c&&""!==n[s]||delete n[s];t!==c&&""!==t&&((t=t.split(n.input_values_separator||e.input_values_separator||";"))[0]&&t[0]==+t[0]&&(t[0]=+t[0]),t[1]&&t[1]==+t[1]&&(t[1]=+t[1]),e&&e.values&&e.values.length?(o.from=t[0]&&e.values.indexOf(t[0]),o.to=t[1]&&e.values.indexOf(t[1])):(o.from=t[0]&&+t[0],o.to=t[1]&&+t[1])),a.extend(o,e),a.extend(o,n),this.options=o,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()}var i,n=0,s=(t=t.userAgent,i=/msie\s\d+/i,0<t.search(i)&&i.exec(t).toString().split(" ")[1]<9&&(a("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(n){var s=this,o=[].slice;if("function"!=typeof s)throw new TypeError;var a=o.call(arguments,1);return function t(){var e,i;return this instanceof t?((e=function(){}).prototype=s.prototype,e=new e,i=s.apply(e,a.concat(o.call(arguments))),Object(i)===i?i:e):s.apply(n,a.concat(o.call(arguments)))}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),s=n.length>>>0;if(0!=s){e=+e||0;if(!(s<=(e=Math.abs(e)===1/0?0:e)))for(i=Math.max(0<=e?e:s-Math.abs(e),0);i<s;){if(i in n&&n[i]===t)return i;i++}}return-1});e.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="range-slider__container range-slider_'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="range-slider__container"><span class="range-slider__line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".range-slider__container"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".range-slider__line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="range-slider__bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="range-slider__handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".range-slider__bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="range-slider__bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="range-slider__handle from"><i></i><i></i><i></i></span><span class="range-slider__handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".range-slider__bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,e=this.options.max,i=this.options.from,n=this.options.to;t<i&&n===e?this.$cache.s_from.addClass("type_last"):n<e&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("range-slider__disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("range-slider__disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),s&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),("single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to)).on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),s&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){var e,i;this.target||(i=(e="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,i+=e.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:i}))},pointerMove:function(t){this.dragging&&(t=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX,this.coords.x_pointer=t-this.coords.x_gap,this.calc())},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,s&&a("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(a.contains(this.$cache.cont[0],t.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&("both"===t&&this.setTempMinInterval(),t=t||this.target||"from",this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=i-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),s&&a("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,i=(this.options.max-this.options.min)/100,i=this.options.step/i;t?e+=i:e-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){var t,e;this.options&&(this.options.hide_min_max?(this.$cache.min[0].style.display="none",this.$cache.max[0].style.display="none"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(t=this._prettify(this.options.min),e=this._prettify(this.options.max),this.result.min_pretty=t,this.result.max_pretty=e,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(e,this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)))},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,10!==this.calc_count&&!t||(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var e,i,n=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,n=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,n=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(n)),this.target){case"base":var s=(this.options.max-this.options.min)/100,o=(this.result.from-this.options.min)/s,s=(this.result.to-this.options.min)/s;this.coords.p_single_real=this.toFixed(o),this.coords.p_from_real=this.toFixed(o),this.coords.p_to_real=this.toFixed(s),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":this.options.from_fixed||(this.coords.p_single_real=this.convertToRealPercent(n),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real));break;case"from":this.options.from_fixed||(this.coords.p_from_real=this.convertToRealPercent(n),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real));break;case"to":this.options.to_fixed||(this.coords.p_to_real=this.convertToRealPercent(n),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real));break;case"both":this.options.from_fixed||this.options.to_fixed||(n=this.toFixed(n+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(n)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(n)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real));break;case"both_one":this.options.from_fixed||this.options.to_fixed||(o=this.convertToRealPercent(n),s=this.result.from_percent,i=o+(e=(s=this.result.to_percent-s)/2),100<(i=(o=o-e)<0?(o=0)+s:i)&&(o=(i=100)-s),this.coords.p_from_real=this.calcWithStep(o),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(i),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real))}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return e<0?e=0:t<e&&(e=t),e},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=t?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),this.coords.w_rs===this.coords.w_rs_old&&!this.force_redraw||(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs)&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",this.old_from===this.result.from&&!this.force_redraw||(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),this.old_to===this.result.to&&!this.force_redraw||(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1)},drawLabels:function(){var t,e,i,n,s;this.options&&(i=this.options.values.length,t=this.options.p_values,this.options.hide_from_to||("single"===this.options.type?(n=i?this.decorate(t[this.result.from]):(e=this._prettify(this.result.from),this.decorate(e,this.result.from)),this.$cache.single.html(n),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"):(t=i?(n=this.options.decorate_both?(n=this.decorate(t[this.result.from]),(n+=this.options.values_separator)+this.decorate(t[this.result.to])):this.decorate(t[this.result.from]+this.options.values_separator+t[this.result.to]),s=this.decorate(t[this.result.from]),this.decorate(t[this.result.to])):(e=this._prettify(this.result.from),i=this._prettify(this.result.to),n=this.options.decorate_both?(n=this.decorate(e,this.result.from),(n+=this.options.values_separator)+this.decorate(i,this.result.to)):this.decorate(e+this.options.values_separator+i,this.result.to),s=this.decorate(e,this.result.from),this.decorate(i,this.result.to)),this.$cache.single.html(n),this.$cache.from.html(s),this.$cache.to.html(t),this.calcLabels(),e=Math.min(this.labels.p_single_left,this.labels.p_from_left),i=this.labels.p_single_left+this.labels.p_single_fake,n=this.labels.p_to_left+this.labels.p_to_fake,s=Math.max(i,n),this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",s=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",n):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(i,n))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),e<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",s>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible")))},drawShadow:function(){var t,e,i=this.options,n=this.$cache,s="number"==typeof i.from_min&&!isNaN(i.from_min),o="number"==typeof i.from_max&&!isNaN(i.from_max),a="number"==typeof i.to_min&&!isNaN(i.to_min),r="number"==typeof i.to_max&&!isNaN(i.to_max);"single"===i.type?i.from_shadow&&(s||o)?(t=this.convertToPercent(s?i.from_min:i.min),e=this.convertToPercent(o?i.from_max:i.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,n.shad_single[0].style.display="block",n.shad_single[0].style.left=t+"%",n.shad_single[0].style.width=e+"%"):n.shad_single[0].style.display="none":(i.from_shadow&&(s||o)?(t=this.convertToPercent(s?i.from_min:i.min),e=this.convertToPercent(o?i.from_max:i.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,n.shad_from[0].style.display="block",n.shad_from[0].style.left=t+"%",n.shad_from[0].style.width=e+"%"):n.shad_from[0].style.display="none",i.to_shadow&&(a||r)?(s=this.convertToPercent(a?i.to_min:i.min),o=this.convertToPercent(r?i.to_max:i.max)-s,s=this.toFixed(s-this.coords.p_handle/100*s),o=this.toFixed(o-this.coords.p_handle/100*o),s+=this.coords.p_handle/2,n.shad_to[0].style.display="block",n.shad_to[0].style.left=s+"%",n.shad_to[0].style.width=o+"%"):n.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("range-slider__input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,e){var i=this.options.max-this.options.min;return i?(e=e?t:t-this.options.min,this.toFixed(e/(i/100))):(this.no_diapason=!0,0)},convertToValue:function(t){var e,i=this.options.min,n=this.options.max,s=i.toString().split(".")[1],o=n.toString().split(".")[1],a=0,r=0;if(0===t)return this.options.min;if(100===t)return this.options.max;s&&(a=l=s.length),o&&(a=e=o.length),l&&e&&(a=e<=l?l:e),i<0&&(i=+(i+(r=Math.abs(i))).toFixed(a),n=+(n+r).toFixed(a));var l,s=(n-i)/100*t+i,o=this.options.step.toString().split(".")[1],s=o?+s.toFixed(o.length):+(s=(s/=this.options.step)*this.options.step).toFixed(0);return r&&(s-=r),(l=o?+s.toFixed(o.length):this.toFixed(s))<this.options.min?l=this.options.min:l>this.options.max&&(l=this.options.max),l},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<e&&(e=100),this.toFixed(e=100===t?100:e)},checkMinInterval:function(t,e,i){var n,s=this.options;return s.min_interval?(n=this.convertToValue(t),e=this.convertToValue(e),"from"===i?e-n<s.min_interval&&(n=e-s.min_interval):n-e<s.min_interval&&(n=e+s.min_interval),this.convertToPercent(n)):t},checkMaxInterval:function(t,e,i){var n,s=this.options;return s.max_interval?(n=this.convertToValue(t),e=this.convertToValue(e),"from"===i?e-n>s.max_interval&&(n=e-s.max_interval):n-e>s.max_interval&&(n=e+s.max_interval),this.convertToPercent(n)):t},checkDiapason:function(t,e,i){var t=this.convertToValue(t),n=this.options;return"number"!=typeof e&&(e=n.min),(i="number"!=typeof i?n.max:i)<(t=t<e?e:t)&&(t=i),this.convertToPercent(t)},toFixed:function(t){return+(t=t.toFixed(20))},_prettify:function(t){return this.options.prettify_enabled?(this.options.prettify&&"function"==typeof this.options.prettify?this.options:this).prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges&&(t<0?t=0:100-e<t&&(t=100-e)),this.toFixed(t)},validate:function(){var t,e,i=this.options,n=this.result,s=i.values,o=s.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),o)for(i.p_values=[],i.min=0,i.max=o-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,e=0;e<o;e++)t=+s[e],t=isNaN(t)?s[e]:(s[e]=t,this._prettify(t)),i.p_values.push(t);"number"==typeof i.from&&!isNaN(i.from)||(i.from=i.min),"number"==typeof i.to&&!isNaN(i.to)||(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to)&&i.to<i.from&&(i.to=i.from),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),n&&(n.min!==i.min&&(n.min=i.min),n.max!==i.max&&(n.max=i.max),(n.from<n.min||n.from>n.max)&&(n.from=i.from),n.to<n.min||n.to>n.max)&&(n.to=i.to),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(t,e){var i="",n=this.options;return n.prefix&&(i+=n.prefix),i+=t,n.max_postfix&&(n.values.length&&t===n.p_values[n.max]?(i+=n.max_postfix,n.postfix&&(i+=" ")):e===n.max&&(i+=n.max_postfix,n.postfix)&&(i+=" ")),n.postfix&&(i+=n.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,i,n,s,o,a=this.options,r=a.max-a.min,l=a.grid_num,c=0,h=4,d="";for(this.calcGridMargin(),a.grid_snap&&(l=r/a.step),i=this.toFixed(100/(l=50<l?50:l)),4<l&&(h=3),7<l&&(h=2),14<l&&(h=1),28<l&&(h=0),t=0;t<l+1;t++){for(n=h,100<(c=this.toFixed(i*t))&&(c=100),s=((this.coords.big[t]=c)-i*(t-1))/(n+1),e=1;e<=n&&0!==c;e++)d+='<span class="irs-grid-pol small" style="left: '+this.toFixed(c-s*e)+'%"></span>';d+='<span class="irs-grid-pol" style="left: '+c+'%"></span>',o=this.convertToValue(c),d+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+c+'%">'+(o=a.values.length?a.p_values[o]:this._prettify(o))+"</span>"}this.coords.big_num=Math.ceil(l+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(d),this.cacheGridLabels()}},cacheGridLabels:function(){for(var t,e=this.coords.big_num,i=0;i<e;i++)t=this.$cache.grid.find(".js-grid-text-"+i),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){for(var t,e=[],i=[],n=this.coords.big_num,s=0;s<n;s++)this.coords.big_w[s]=this.$cache.grid_labels[s].outerWidth(!1),this.coords.big_p[s]=this.toFixed(this.coords.big_w[s]/this.coords.w_rs*100),this.coords.big_x[s]=this.toFixed(this.coords.big_p[s]/2),e[s]=this.toFixed(this.coords.big[s]-this.coords.big_x[s]),i[s]=this.toFixed(e[s]+this.coords.big_p[s]);for(this.options.force_edges&&(e[0]<-this.coords.grid_gap&&(e[0]=-this.coords.grid_gap,i[0]=this.toFixed(e[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),i[n-1]>100+this.coords.grid_gap)&&(i[n-1]=100+this.coords.grid_gap,e[n-1]=this.toFixed(i[n-1]-this.coords.big_p[n-1]),this.coords.big_x[n-1]=this.toFixed(this.coords.big_p[n-1]-this.coords.grid_gap)),this.calcGridCollision(2,e,i),this.calcGridCollision(4,e,i),s=0;s<n;s++)t=this.$cache.grid_labels[s][0],this.coords.big_x[s]!==Number.POSITIVE_INFINITY&&(t.style.marginLeft=-this.coords.big_x[s]+"%")},calcGridCollision:function(t,e,i){for(var n,s,o=this.coords.big_num,a=0;a<o&&!(o<=(n=a+t/2));a+=t)s=this.$cache.grid_labels[n][0],i[a]<=e[n]?s.style.visibility="visible":s.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs)&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%")},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=a.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),a.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},a.fn.ionRangeSlider=function(t){return this.each(function(){a.data(this,"ionRangeSlider")||a.data(this,"ionRangeSlider",new e(this,t,n++))})};for(var o=0,h=["ms","moz","webkit","o"],d=0;d<h.length&&!l.requestAnimationFrame;++d)l.requestAnimationFrame=l[h[d]+"RequestAnimationFrame"],l.cancelAnimationFrame=l[h[d]+"CancelAnimationFrame"]||l[h[d]+"CancelRequestAnimationFrame"];l.requestAnimationFrame||(l.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),n=Math.max(0,16-(i-o)),s=l.setTimeout(function(){t(i+n)},n);return o=i+n,s}),l.cancelAnimationFrame||(l.cancelAnimationFrame=function(t){clearTimeout(t)})}),$(function(){$('[data-name="search-button"]').on("click",function(){$('[data-name="search-content"]').toggleClass("search-content_open")})});